(function(t,dt){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?dt(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return dt(e)}:dt(t)})(typeof window<"u"?window:this,function(t,dt){"use strict";var e=[],o=Object.getPrototypeOf,i=e.slice,y=e.flat?function(r){return e.flat.call(r)}:function(r){return e.concat.apply([],r)},E=e.push,O=e.indexOf,p={},L=p.toString,w=p.hasOwnProperty,f=w.toString,R=f.call(Object),T={},_=function(r){return"function"==typeof r&&"number"!=typeof r.nodeType&&"function"!=typeof r.item},A=function(r){return null!=r&&r===r.window},c=t.document,l={type:!0,src:!0,nonce:!0,noModule:!0};function a(r,d,g){var C,F,B=(g=g||c).createElement("script");if(B.text=r,d)for(C in l)(F=d[C]||d.getAttribute&&d.getAttribute(C))&&B.setAttribute(C,F);g.head.appendChild(B).parentNode.removeChild(B)}function s(r){return null==r?r+"":"object"==typeof r||"function"==typeof r?p[L.call(r)]||"object":typeof r}var u="3.7.1",m=/HTML$/i,n=function(r,d){return new n.fn.init(r,d)};function S(r){var d=!!r&&"length"in r&&r.length,g=s(r);return!_(r)&&!A(r)&&("array"===g||0===d||"number"==typeof d&&0<d&&d-1 in r)}function x(r,d){return r.nodeName&&r.nodeName.toLowerCase()===d.toLowerCase()}n.fn=n.prototype={jquery:u,constructor:n,length:0,toArray:function(){return i.call(this)},get:function(r){return null==r?i.call(this):r<0?this[r+this.length]:this[r]},pushStack:function(r){var d=n.merge(this.constructor(),r);return d.prevObject=this,d},each:function(r){return n.each(this,r)},map:function(r){return this.pushStack(n.map(this,function(d,g){return r.call(d,g,d)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(n.grep(this,function(r,d){return(d+1)%2}))},odd:function(){return this.pushStack(n.grep(this,function(r,d){return d%2}))},eq:function(r){var d=this.length,g=+r+(r<0?d:0);return this.pushStack(0<=g&&g<d?[this[g]]:[])},end:function(){return this.prevObject||this.constructor()},push:E,sort:e.sort,splice:e.splice},n.extend=n.fn.extend=function(){var r,d,g,C,F,B,z=arguments[0]||{},ie=1,re=arguments.length,Ce=!1;for("boolean"==typeof z&&(Ce=z,z=arguments[ie]||{},ie++),"object"==typeof z||_(z)||(z={}),ie===re&&(z=this,ie--);ie<re;ie++)if(null!=(r=arguments[ie]))for(d in r)C=r[d],"__proto__"!==d&&z!==C&&(Ce&&C&&(n.isPlainObject(C)||(F=Array.isArray(C)))?(g=z[d],B=F&&!Array.isArray(g)?[]:F||n.isPlainObject(g)?g:{},F=!1,z[d]=n.extend(Ce,B,C)):void 0!==C&&(z[d]=C));return z},n.extend({expando:"jQuery"+(u+Math.random()).replace(/\D/g,""),isReady:!0,error:function(r){throw new Error(r)},noop:function(){},isPlainObject:function(r){var d,g;return!(!r||"[object Object]"!==L.call(r)||(d=o(r))&&("function"!=typeof(g=w.call(d,"constructor")&&d.constructor)||f.call(g)!==R))},isEmptyObject:function(r){var d;for(d in r)return!1;return!0},globalEval:function(r,d,g){a(r,{nonce:d&&d.nonce},g)},each:function(r,d){var g,C=0;if(S(r))for(g=r.length;C<g&&!1!==d.call(r[C],C,r[C]);C++);else for(C in r)if(!1===d.call(r[C],C,r[C]))break;return r},text:function(r){var d,g="",C=0,F=r.nodeType;if(!F)for(;d=r[C++];)g+=n.text(d);return 1===F||11===F?r.textContent:9===F?r.documentElement.textContent:3===F||4===F?r.nodeValue:g},makeArray:function(r,d){var g=d||[];return null!=r&&(S(Object(r))?n.merge(g,"string"==typeof r?[r]:r):E.call(g,r)),g},inArray:function(r,d,g){return null==d?-1:O.call(d,r,g)},isXMLDoc:function(r){var g=r&&(r.ownerDocument||r).documentElement;return!m.test(r&&r.namespaceURI||g&&g.nodeName||"HTML")},merge:function(r,d){for(var g=+d.length,C=0,F=r.length;C<g;C++)r[F++]=d[C];return r.length=F,r},grep:function(r,d,g){for(var C=[],F=0,B=r.length,z=!g;F<B;F++)!d(r[F],F)!==z&&C.push(r[F]);return C},map:function(r,d,g){var C,F,B=0,z=[];if(S(r))for(C=r.length;B<C;B++)null!=(F=d(r[B],B,g))&&z.push(F);else for(B in r)null!=(F=d(r[B],B,g))&&z.push(F);return y(z)},guid:1,support:T}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=e[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(r,d){p["[object "+d+"]"]=d.toLowerCase()});var q=e.pop,v=e.sort,D=e.splice,G="[\\x20\\t\\r\\n\\f]",k=new RegExp("^"+G+"+|((?:^|[^\\\\])(?:\\\\.)*)"+G+"+$","g");n.contains=function(r,d){var g=d&&d.parentNode;return r===g||!(!g||1!==g.nodeType||!(r.contains?r.contains(g):r.compareDocumentPosition&&16&r.compareDocumentPosition(g)))};var te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function J(r,d){return d?"\0"===r?"\ufffd":r.slice(0,-1)+"\\"+r.charCodeAt(r.length-1).toString(16)+" ":"\\"+r}n.escapeSelector=function(r){return(r+"").replace(te,J)};var Ee=c,ye=E;!function(){var r,d,g,C,F,B,z,ie,re,Ce,Fe=ye,Ue=n.expando,Ie=0,Ke=0,ht=Yt(),bt=Yt(),Ct=Yt(),jt=Yt(),rn=function(Z,ge){return Z===ge&&(F=!0),0},Nn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",On="(?:\\\\[\\da-fA-F]{1,6}"+G+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",xt="\\["+G+"*("+On+")(?:"+G+"*([*^$|!~]?=)"+G+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+On+"))|)"+G+"*\\]",zn=":("+On+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+xt+")*)|.*)\\)|)",kt=new RegExp(G+"+","g"),zt=new RegExp("^"+G+"*,"+G+"*"),ir=new RegExp("^"+G+"*([>+~]|"+G+")"+G+"*"),vr=new RegExp(G+"|>"),In=new RegExp(zn),or=new RegExp("^"+On+"$"),Fn={ID:new RegExp("^#("+On+")"),CLASS:new RegExp("^\\.("+On+")"),TAG:new RegExp("^("+On+"|[*])"),ATTR:new RegExp("^"+xt),PSEUDO:new RegExp("^"+zn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+G+"*(even|odd|(([+-]|)(\\d*)n|)"+G+"*(?:([+-]|)"+G+"*(\\d+)|))"+G+"*\\)|)","i"),bool:new RegExp("^(?:"+Nn+")$","i"),needsContext:new RegExp("^"+G+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+G+"*((?:-\\d)?\\d*)"+G+"*\\)|)(?=[^-]|$)","i")},Pn=/^(?:input|select|textarea|button)$/i,Zn=/^h\d$/i,An=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,on=/[+~]/,Zt=new RegExp("\\\\[\\da-fA-F]{1,6}"+G+"?|\\\\([^\\r\\n\\f])","g"),pn=function(Z,ge){var ke="0x"+Z.slice(1)-65536;return ge||(ke<0?String.fromCharCode(ke+65536):String.fromCharCode(ke>>10|55296,1023&ke|56320))},Hn=function(){Un()},hn=fr(function(Z){return!0===Z.disabled&&x(Z,"fieldset")},{dir:"parentNode",next:"legend"});try{Fe.apply(e=i.call(Ee.childNodes),Ee.childNodes)}catch{Fe={apply:function(ge,ke){ye.apply(ge,i.call(ke))},call:function(ge){ye.apply(ge,i.call(arguments,1))}}}function mt(Z,ge,ke,Pe){var We,at,st,ut,ot,Mt,_t,St=ge&&ge.ownerDocument,Ot=ge?ge.nodeType:9;if(ke=ke||[],"string"!=typeof Z||!Z||1!==Ot&&9!==Ot&&11!==Ot)return ke;if(!Pe&&(Un(ge),ge=ge||B,ie)){if(11!==Ot&&(ot=An.exec(Z)))if(We=ot[1]){if(9===Ot){if(!(st=ge.getElementById(We)))return ke;if(st.id===We)return Fe.call(ke,st),ke}else if(St&&(st=St.getElementById(We))&&mt.contains(ge,st)&&st.id===We)return Fe.call(ke,st),ke}else{if(ot[2])return Fe.apply(ke,ge.getElementsByTagName(Z)),ke;if((We=ot[3])&&ge.getElementsByClassName)return Fe.apply(ke,ge.getElementsByClassName(We)),ke}if(!(jt[Z+" "]||re&&re.test(Z))){if(_t=Z,St=ge,1===Ot&&(vr.test(Z)||ir.test(Z))){for((St=on.test(Z)&&Er(ge.parentNode)||ge)==ge&&T.scope||((ut=ge.getAttribute("id"))?ut=n.escapeSelector(ut):ge.setAttribute("id",ut=Ue)),at=(Mt=ar(Z)).length;at--;)Mt[at]=(ut?"#"+ut:":scope")+" "+ur(Mt[at]);_t=Mt.join(",")}try{return Fe.apply(ke,St.querySelectorAll(_t)),ke}catch{jt(Z,!0)}finally{ut===Ue&&ge.removeAttribute("id")}}}return Rr(Z.replace(k,"$1"),ge,ke,Pe)}function Yt(){var Z=[];return function ge(ke,Pe){return Z.push(ke+" ")>d.cacheLength&&delete ge[Z.shift()],ge[ke+" "]=Pe}}function Gt(Z){return Z[Ue]=!0,Z}function Ut(Z){var ge=B.createElement("fieldset");try{return!!Z(ge)}catch{return!1}finally{ge.parentNode&&ge.parentNode.removeChild(ge),ge=null}}function Dn(Z){return function(ge){return x(ge,"input")&&ge.type===Z}}function Jn(Z){return function(ge){return(x(ge,"input")||x(ge,"button"))&&ge.type===Z}}function cr(Z){return function(ge){return"form"in ge?ge.parentNode&&!1===ge.disabled?"label"in ge?"label"in ge.parentNode?ge.parentNode.disabled===Z:ge.disabled===Z:ge.isDisabled===Z||ge.isDisabled!==!Z&&hn(ge)===Z:ge.disabled===Z:"label"in ge&&ge.disabled===Z}}function jn(Z){return Gt(function(ge){return ge=+ge,Gt(function(ke,Pe){for(var We,at=Z([],ke.length,ge),st=at.length;st--;)ke[We=at[st]]&&(ke[We]=!(Pe[We]=ke[We]))})})}function Er(Z){return Z&&typeof Z.getElementsByTagName<"u"&&Z}function Un(Z){var ge,ke=Z?Z.ownerDocument||Z:Ee;return ke!=B&&9===ke.nodeType&&ke.documentElement&&(z=(B=ke).documentElement,ie=!n.isXMLDoc(B),Ce=z.matches||z.webkitMatchesSelector||z.msMatchesSelector,z.msMatchesSelector&&Ee!=B&&(ge=B.defaultView)&&ge.top!==ge&&ge.addEventListener("unload",Hn),T.getById=Ut(function(Pe){return z.appendChild(Pe).id=n.expando,!B.getElementsByName||!B.getElementsByName(n.expando).length}),T.disconnectedMatch=Ut(function(Pe){return Ce.call(Pe,"*")}),T.scope=Ut(function(){return B.querySelectorAll(":scope")}),T.cssHas=Ut(function(){try{return B.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),T.getById?(d.filter.ID=function(Pe){var We=Pe.replace(Zt,pn);return function(at){return at.getAttribute("id")===We}},d.find.ID=function(Pe,We){if(typeof We.getElementById<"u"&&ie){var at=We.getElementById(Pe);return at?[at]:[]}}):(d.filter.ID=function(Pe){var We=Pe.replace(Zt,pn);return function(at){var st=typeof at.getAttributeNode<"u"&&at.getAttributeNode("id");return st&&st.value===We}},d.find.ID=function(Pe,We){if(typeof We.getElementById<"u"&&ie){var at,st,ut,ot=We.getElementById(Pe);if(ot){if((at=ot.getAttributeNode("id"))&&at.value===Pe)return[ot];for(ut=We.getElementsByName(Pe),st=0;ot=ut[st++];)if((at=ot.getAttributeNode("id"))&&at.value===Pe)return[ot]}return[]}}),d.find.TAG=function(Pe,We){return typeof We.getElementsByTagName<"u"?We.getElementsByTagName(Pe):We.querySelectorAll(Pe)},d.find.CLASS=function(Pe,We){if(typeof We.getElementsByClassName<"u"&&ie)return We.getElementsByClassName(Pe)},re=[],Ut(function(Pe){var We;z.appendChild(Pe).innerHTML="<a id='"+Ue+"' href='' disabled='disabled'></a><select id='"+Ue+"-\r\\' disabled='disabled'><option selected=''></option></select>",Pe.querySelectorAll("[selected]").length||re.push("\\["+G+"*(?:value|"+Nn+")"),Pe.querySelectorAll("[id~="+Ue+"-]").length||re.push("~="),Pe.querySelectorAll("a#"+Ue+"+*").length||re.push(".#.+[+~]"),Pe.querySelectorAll(":checked").length||re.push(":checked"),(We=B.createElement("input")).setAttribute("type","hidden"),Pe.appendChild(We).setAttribute("name","D"),z.appendChild(Pe).disabled=!0,2!==Pe.querySelectorAll(":disabled").length&&re.push(":enabled",":disabled"),(We=B.createElement("input")).setAttribute("name",""),Pe.appendChild(We),Pe.querySelectorAll("[name='']").length||re.push("\\["+G+"*name"+G+"*="+G+"*(?:''|\"\")")}),T.cssHas||re.push(":has"),re=re.length&&new RegExp(re.join("|")),rn=function(Pe,We){if(Pe===We)return F=!0,0;var at=!Pe.compareDocumentPosition-!We.compareDocumentPosition;return at||(1&(at=(Pe.ownerDocument||Pe)==(We.ownerDocument||We)?Pe.compareDocumentPosition(We):1)||!T.sortDetached&&We.compareDocumentPosition(Pe)===at?Pe===B||Pe.ownerDocument==Ee&&mt.contains(Ee,Pe)?-1:We===B||We.ownerDocument==Ee&&mt.contains(Ee,We)?1:C?O.call(C,Pe)-O.call(C,We):0:4&at?-1:1)}),B}for(r in mt.matches=function(Z,ge){return mt(Z,null,null,ge)},mt.matchesSelector=function(Z,ge){if(Un(Z),ie&&!jt[ge+" "]&&(!re||!re.test(ge)))try{var ke=Ce.call(Z,ge);if(ke||T.disconnectedMatch||Z.document&&11!==Z.document.nodeType)return ke}catch{jt(ge,!0)}return 0<mt(ge,B,null,[Z]).length},mt.contains=function(Z,ge){return(Z.ownerDocument||Z)!=B&&Un(Z),n.contains(Z,ge)},mt.attr=function(Z,ge){(Z.ownerDocument||Z)!=B&&Un(Z);var ke=d.attrHandle[ge.toLowerCase()],Pe=ke&&w.call(d.attrHandle,ge.toLowerCase())?ke(Z,ge,!ie):void 0;return void 0!==Pe?Pe:Z.getAttribute(ge)},mt.error=function(Z){throw new Error("Syntax error, unrecognized expression: "+Z)},n.uniqueSort=function(Z){var ge,ke=[],Pe=0,We=0;if(F=!T.sortStable,C=!T.sortStable&&i.call(Z,0),v.call(Z,rn),F){for(;ge=Z[We++];)ge===Z[We]&&(Pe=ke.push(We));for(;Pe--;)D.call(Z,ke[Pe],1)}return C=null,Z},n.fn.uniqueSort=function(){return this.pushStack(n.uniqueSort(i.apply(this)))},(d=n.expr={cacheLength:50,createPseudo:Gt,match:Fn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Z){return Z[1]=Z[1].replace(Zt,pn),Z[3]=(Z[3]||Z[4]||Z[5]||"").replace(Zt,pn),"~="===Z[2]&&(Z[3]=" "+Z[3]+" "),Z.slice(0,4)},CHILD:function(Z){return Z[1]=Z[1].toLowerCase(),"nth"===Z[1].slice(0,3)?(Z[3]||mt.error(Z[0]),Z[4]=+(Z[4]?Z[5]+(Z[6]||1):2*("even"===Z[3]||"odd"===Z[3])),Z[5]=+(Z[7]+Z[8]||"odd"===Z[3])):Z[3]&&mt.error(Z[0]),Z},PSEUDO:function(Z){var ge,ke=!Z[6]&&Z[2];return Fn.CHILD.test(Z[0])?null:(Z[3]?Z[2]=Z[4]||Z[5]||"":ke&&In.test(ke)&&(ge=ar(ke,!0))&&(ge=ke.indexOf(")",ke.length-ge)-ke.length)&&(Z[0]=Z[0].slice(0,ge),Z[2]=ke.slice(0,ge)),Z.slice(0,3))}},filter:{TAG:function(Z){var ge=Z.replace(Zt,pn).toLowerCase();return"*"===Z?function(){return!0}:function(ke){return x(ke,ge)}},CLASS:function(Z){var ge=ht[Z+" "];return ge||(ge=new RegExp("(^|"+G+")"+Z+"("+G+"|$)"))&&ht(Z,function(ke){return ge.test("string"==typeof ke.className&&ke.className||typeof ke.getAttribute<"u"&&ke.getAttribute("class")||"")})},ATTR:function(Z,ge,ke){return function(Pe){var We=mt.attr(Pe,Z);return null==We?"!="===ge:!ge||(We+="","="===ge?We===ke:"!="===ge?We!==ke:"^="===ge?ke&&0===We.indexOf(ke):"*="===ge?ke&&-1<We.indexOf(ke):"$="===ge?ke&&We.slice(-ke.length)===ke:"~="===ge?-1<(" "+We.replace(kt," ")+" ").indexOf(ke):"|="===ge&&(We===ke||We.slice(0,ke.length+1)===ke+"-"))}},CHILD:function(Z,ge,ke,Pe,We){var at="nth"!==Z.slice(0,3),st="last"!==Z.slice(-4),ut="of-type"===ge;return 1===Pe&&0===We?function(ot){return!!ot.parentNode}:function(ot,Mt,_t){var St,Ot,yt,en,un,an=at!==st?"nextSibling":"previousSibling",gn=ot.parentNode,En=ut&&ot.nodeName.toLowerCase(),_n=!_t&&!ut,Wt=!1;if(gn){if(at){for(;an;){for(yt=ot;yt=yt[an];)if(ut?x(yt,En):1===yt.nodeType)return!1;un=an="only"===Z&&!un&&"nextSibling"}return!0}if(un=[st?gn.firstChild:gn.lastChild],st&&_n){for(Wt=(en=(St=(Ot=gn[Ue]||(gn[Ue]={}))[Z]||[])[0]===Ie&&St[1])&&St[2],yt=en&&gn.childNodes[en];yt=++en&&yt&&yt[an]||(Wt=en=0)||un.pop();)if(1===yt.nodeType&&++Wt&&yt===ot){Ot[Z]=[Ie,en,Wt];break}}else if(_n&&(Wt=en=(St=(Ot=ot[Ue]||(ot[Ue]={}))[Z]||[])[0]===Ie&&St[1]),!1===Wt)for(;(yt=++en&&yt&&yt[an]||(Wt=en=0)||un.pop())&&(!(ut?x(yt,En):1===yt.nodeType)||!++Wt||(_n&&((Ot=yt[Ue]||(yt[Ue]={}))[Z]=[Ie,Wt]),yt!==ot)););return(Wt-=We)===Pe||Wt%Pe==0&&0<=Wt/Pe}}},PSEUDO:function(Z,ge){var ke,Pe=d.pseudos[Z]||d.setFilters[Z.toLowerCase()]||mt.error("unsupported pseudo: "+Z);return Pe[Ue]?Pe(ge):1<Pe.length?(ke=[Z,Z,"",ge],d.setFilters.hasOwnProperty(Z.toLowerCase())?Gt(function(We,at){for(var st,ut=Pe(We,ge),ot=ut.length;ot--;)We[st=O.call(We,ut[ot])]=!(at[st]=ut[ot])}):function(We){return Pe(We,0,ke)}):Pe}},pseudos:{not:Gt(function(Z){var ge=[],ke=[],Pe=Cr(Z.replace(k,"$1"));return Pe[Ue]?Gt(function(We,at,st,ut){for(var ot,Mt=Pe(We,null,ut,[]),_t=We.length;_t--;)(ot=Mt[_t])&&(We[_t]=!(at[_t]=ot))}):function(We,at,st){return ge[0]=We,Pe(ge,null,st,ke),ge[0]=null,!ke.pop()}}),has:Gt(function(Z){return function(ge){return 0<mt(Z,ge).length}}),contains:Gt(function(Z){return Z=Z.replace(Zt,pn),function(ge){return-1<(ge.textContent||n.text(ge)).indexOf(Z)}}),lang:Gt(function(Z){return or.test(Z||"")||mt.error("unsupported lang: "+Z),Z=Z.replace(Zt,pn).toLowerCase(),function(ge){var ke;do{if(ke=ie?ge.lang:ge.getAttribute("xml:lang")||ge.getAttribute("lang"))return(ke=ke.toLowerCase())===Z||0===ke.indexOf(Z+"-")}while((ge=ge.parentNode)&&1===ge.nodeType);return!1}}),target:function(Z){var ge=t.location&&t.location.hash;return ge&&ge.slice(1)===Z.id},root:function(Z){return Z===z},focus:function(Z){return Z===function(){try{return B.activeElement}catch{}}()&&B.hasFocus()&&!!(Z.type||Z.href||~Z.tabIndex)},enabled:cr(!1),disabled:cr(!0),checked:function(Z){return x(Z,"input")&&!!Z.checked||x(Z,"option")&&!!Z.selected},selected:function(Z){return!0===Z.selected},empty:function(Z){for(Z=Z.firstChild;Z;Z=Z.nextSibling)if(Z.nodeType<6)return!1;return!0},parent:function(Z){return!d.pseudos.empty(Z)},header:function(Z){return Zn.test(Z.nodeName)},input:function(Z){return Pn.test(Z.nodeName)},button:function(Z){return x(Z,"input")&&"button"===Z.type||x(Z,"button")},text:function(Z){var ge;return x(Z,"input")&&"text"===Z.type&&(null==(ge=Z.getAttribute("type"))||"text"===ge.toLowerCase())},first:jn(function(){return[0]}),last:jn(function(Z,ge){return[ge-1]}),eq:jn(function(Z,ge,ke){return[ke<0?ke+ge:ke]}),even:jn(function(Z,ge){for(var ke=0;ke<ge;ke+=2)Z.push(ke);return Z}),odd:jn(function(Z,ge){for(var ke=1;ke<ge;ke+=2)Z.push(ke);return Z}),lt:jn(function(Z,ge,ke){var Pe;for(Pe=ke<0?ke+ge:ge<ke?ge:ke;0<=--Pe;)Z.push(Pe);return Z}),gt:jn(function(Z,ge,ke){for(var Pe=ke<0?ke+ge:ke;++Pe<ge;)Z.push(Pe);return Z})}}).pseudos.nth=d.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[r]=Dn(r);for(r in{submit:!0,reset:!0})d.pseudos[r]=Jn(r);function wr(){}function ar(Z,ge){var ke,Pe,We,at,st,ut,ot,Mt=bt[Z+" "];if(Mt)return ge?0:Mt.slice(0);for(st=Z,ut=[],ot=d.preFilter;st;){for(at in ke&&!(Pe=zt.exec(st))||(Pe&&(st=st.slice(Pe[0].length)||st),ut.push(We=[])),ke=!1,(Pe=ir.exec(st))&&(ke=Pe.shift(),We.push({value:ke,type:Pe[0].replace(k," ")}),st=st.slice(ke.length)),d.filter)!(Pe=Fn[at].exec(st))||ot[at]&&!(Pe=ot[at](Pe))||(ke=Pe.shift(),We.push({value:ke,type:at,matches:Pe}),st=st.slice(ke.length));if(!ke)break}return ge?st.length:st?mt.error(Z):bt(Z,ut).slice(0)}function ur(Z){for(var ge=0,ke=Z.length,Pe="";ge<ke;ge++)Pe+=Z[ge].value;return Pe}function fr(Z,ge,ke){var Pe=ge.dir,We=ge.next,at=We||Pe,st=ke&&"parentNode"===at,ut=Ke++;return ge.first?function(ot,Mt,_t){for(;ot=ot[Pe];)if(1===ot.nodeType||st)return Z(ot,Mt,_t);return!1}:function(ot,Mt,_t){var St,Ot,yt=[Ie,ut];if(_t){for(;ot=ot[Pe];)if((1===ot.nodeType||st)&&Z(ot,Mt,_t))return!0}else for(;ot=ot[Pe];)if(1===ot.nodeType||st)if(Ot=ot[Ue]||(ot[Ue]={}),We&&x(ot,We))ot=ot[Pe]||ot;else{if((St=Ot[at])&&St[0]===Ie&&St[1]===ut)return yt[2]=St[2];if((Ot[at]=yt)[2]=Z(ot,Mt,_t))return!0}return!1}}function yr(Z){return 1<Z.length?function(ge,ke,Pe){for(var We=Z.length;We--;)if(!Z[We](ge,ke,Pe))return!1;return!0}:Z[0]}function pr(Z,ge,ke,Pe,We){for(var at,st=[],ut=0,ot=Z.length,Mt=null!=ge;ut<ot;ut++)(at=Z[ut])&&(ke&&!ke(at,Pe,We)||(st.push(at),Mt&&ge.push(ut)));return st}function Ar(Z,ge,ke,Pe,We,at){return Pe&&!Pe[Ue]&&(Pe=Ar(Pe)),We&&!We[Ue]&&(We=Ar(We,at)),Gt(function(st,ut,ot,Mt){var _t,St,Ot,yt,en=[],un=[],an=ut.length,gn=st||function(_n,Wt,Yn){for(var Sn=0,hr=Wt.length;Sn<hr;Sn++)mt(_n,Wt[Sn],Yn);return Yn}(ge||"*",ot.nodeType?[ot]:ot,[]),En=!Z||!st&&ge?gn:pr(gn,en,Z,ot,Mt);if(ke?ke(En,yt=We||(st?Z:an||Pe)?[]:ut,ot,Mt):yt=En,Pe)for(_t=pr(yt,un),Pe(_t,[],ot,Mt),St=_t.length;St--;)(Ot=_t[St])&&(yt[un[St]]=!(En[un[St]]=Ot));if(st){if(We||Z){if(We){for(_t=[],St=yt.length;St--;)(Ot=yt[St])&&_t.push(En[St]=Ot);We(null,yt=[],_t,Mt)}for(St=yt.length;St--;)(Ot=yt[St])&&-1<(_t=We?O.call(st,Ot):en[St])&&(st[_t]=!(ut[_t]=Ot))}}else yt=pr(yt===ut?yt.splice(an,yt.length):yt),We?We(null,ut,yt,Mt):Fe.apply(ut,yt)})}function br(Z){for(var ge,ke,Pe,We=Z.length,at=d.relative[Z[0].type],st=at||d.relative[" "],ut=at?1:0,ot=fr(function(St){return St===ge},st,!0),Mt=fr(function(St){return-1<O.call(ge,St)},st,!0),_t=[function(St,Ot,yt){var en=!at&&(yt||Ot!=g)||((ge=Ot).nodeType?ot(St,Ot,yt):Mt(St,Ot,yt));return ge=null,en}];ut<We;ut++)if(ke=d.relative[Z[ut].type])_t=[fr(yr(_t),ke)];else{if((ke=d.filter[Z[ut].type].apply(null,Z[ut].matches))[Ue]){for(Pe=++ut;Pe<We&&!d.relative[Z[Pe].type];Pe++);return Ar(1<ut&&yr(_t),1<ut&&ur(Z.slice(0,ut-1).concat({value:" "===Z[ut-2].type?"*":""})).replace(k,"$1"),ke,ut<Pe&&br(Z.slice(ut,Pe)),Pe<We&&br(Z=Z.slice(Pe)),Pe<We&&ur(Z))}_t.push(ke)}return yr(_t)}function Cr(Z,ge){var ke,Pe,We,at,st,ut,ot=[],Mt=[],_t=Ct[Z+" "];if(!_t){for(ge||(ge=ar(Z)),ke=ge.length;ke--;)(_t=br(ge[ke]))[Ue]?ot.push(_t):Mt.push(_t);(_t=Ct(Z,(Pe=Mt,at=0<(We=ot).length,st=0<Pe.length,ut=function(St,Ot,yt,en,un){var an,gn,En,_n=0,Wt="0",Yn=St&&[],Sn=[],hr=g,xr=St||st&&d.find.TAG("*",un),Lr=Ie+=null==hr?1:Math.random()||.1,kr=xr.length;for(un&&(g=Ot==B||Ot||un);Wt!==kr&&null!=(an=xr[Wt]);Wt++){if(st&&an){for(gn=0,Ot||an.ownerDocument==B||(Un(an),yt=!ie);En=Pe[gn++];)if(En(an,Ot||B,yt)){Fe.call(en,an);break}un&&(Ie=Lr)}at&&((an=!En&&an)&&_n--,St&&Yn.push(an))}if(_n+=Wt,at&&Wt!==_n){for(gn=0;En=We[gn++];)En(Yn,Sn,Ot,yt);if(St){if(0<_n)for(;Wt--;)Yn[Wt]||Sn[Wt]||(Sn[Wt]=q.call(en));Sn=pr(Sn)}Fe.apply(en,Sn),un&&!St&&0<Sn.length&&1<_n+We.length&&n.uniqueSort(en)}return un&&(Ie=Lr,g=hr),Yn},at?Gt(ut):ut))).selector=Z}return _t}function Rr(Z,ge,ke,Pe){var We,at,st,ut,ot,Mt="function"==typeof Z&&Z,_t=!Pe&&ar(Z=Mt.selector||Z);if(ke=ke||[],1===_t.length){if(2<(at=_t[0]=_t[0].slice(0)).length&&"ID"===(st=at[0]).type&&9===ge.nodeType&&ie&&d.relative[at[1].type]){if(!(ge=(d.find.ID(st.matches[0].replace(Zt,pn),ge)||[])[0]))return ke;Mt&&(ge=ge.parentNode),Z=Z.slice(at.shift().value.length)}for(We=Fn.needsContext.test(Z)?0:at.length;We--&&!d.relative[ut=(st=at[We]).type];)if((ot=d.find[ut])&&(Pe=ot(st.matches[0].replace(Zt,pn),on.test(at[0].type)&&Er(ge.parentNode)||ge))){if(at.splice(We,1),!(Z=Pe.length&&ur(at)))return Fe.apply(ke,Pe),ke;break}}return(Mt||Cr(Z,_t))(Pe,ge,!ie,ke,!ge||on.test(Z)&&Er(ge.parentNode)||ge),ke}wr.prototype=d.filters=d.pseudos,d.setFilters=new wr,T.sortStable=Ue.split("").sort(rn).join("")===Ue,Un(),T.sortDetached=Ut(function(Z){return 1&Z.compareDocumentPosition(B.createElement("fieldset"))}),n.find=mt,n.expr[":"]=n.expr.pseudos,n.unique=n.uniqueSort,mt.compile=Cr,mt.select=Rr,mt.setDocument=Un,mt.tokenize=ar,mt.escape=n.escapeSelector,mt.getText=n.text,mt.isXML=n.isXMLDoc,mt.selectors=n.expr,mt.support=n.support,mt.uniqueSort=n.uniqueSort}();var pe=function(r,d,g){for(var C=[],F=void 0!==g;(r=r[d])&&9!==r.nodeType;)if(1===r.nodeType){if(F&&n(r).is(g))break;C.push(r)}return C},Re=function(r,d){for(var g=[];r;r=r.nextSibling)1===r.nodeType&&r!==d&&g.push(r);return g},qe=n.expr.match.needsContext,Oe=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function de(r,d,g){return _(d)?n.grep(r,function(C,F){return!!d.call(C,F,C)!==g}):d.nodeType?n.grep(r,function(C){return C===d!==g}):"string"!=typeof d?n.grep(r,function(C){return-1<O.call(d,C)!==g}):n.filter(d,r,g)}n.filter=function(r,d,g){var C=d[0];return g&&(r=":not("+r+")"),1===d.length&&1===C.nodeType?n.find.matchesSelector(C,r)?[C]:[]:n.find.matches(r,n.grep(d,function(F){return 1===F.nodeType}))},n.fn.extend({find:function(r){var d,g,C=this.length,F=this;if("string"!=typeof r)return this.pushStack(n(r).filter(function(){for(d=0;d<C;d++)if(n.contains(F[d],this))return!0}));for(g=this.pushStack([]),d=0;d<C;d++)n.find(r,F[d],g);return 1<C?n.uniqueSort(g):g},filter:function(r){return this.pushStack(de(this,r||[],!1))},not:function(r){return this.pushStack(de(this,r||[],!0))},is:function(r){return!!de(this,"string"==typeof r&&qe.test(r)?n(r):r||[],!1).length}});var $e,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(n.fn.init=function(r,d,g){var C,F;if(!r)return this;if(g=g||$e,"string"==typeof r){if(!(C="<"===r[0]&&">"===r[r.length-1]&&3<=r.length?[null,r,null]:le.exec(r))||!C[1]&&d)return!d||d.jquery?(d||g).find(r):this.constructor(d).find(r);if(C[1]){if(n.merge(this,n.parseHTML(C[1],(d=d instanceof n?d[0]:d)&&d.nodeType?d.ownerDocument||d:c,!0)),Oe.test(C[1])&&n.isPlainObject(d))for(C in d)_(this[C])?this[C](d[C]):this.attr(C,d[C]);return this}return(F=c.getElementById(C[2]))&&(this[0]=F,this.length=1),this}return r.nodeType?(this[0]=r,this.length=1,this):_(r)?void 0!==g.ready?g.ready(r):r(n):n.makeArray(r,this)}).prototype=n.fn,$e=n(c);var He=/^(?:parents|prev(?:Until|All))/,ce={children:!0,contents:!0,next:!0,prev:!0};function Be(r,d){for(;(r=r[d])&&1!==r.nodeType;);return r}n.fn.extend({has:function(r){var d=n(r,this),g=d.length;return this.filter(function(){for(var C=0;C<g;C++)if(n.contains(this,d[C]))return!0})},closest:function(r,d){var g,C=0,F=this.length,B=[],z="string"!=typeof r&&n(r);if(!qe.test(r))for(;C<F;C++)for(g=this[C];g&&g!==d;g=g.parentNode)if(g.nodeType<11&&(z?-1<z.index(g):1===g.nodeType&&n.find.matchesSelector(g,r))){B.push(g);break}return this.pushStack(1<B.length?n.uniqueSort(B):B)},index:function(r){return r?"string"==typeof r?O.call(n(r),this[0]):O.call(this,r.jquery?r[0]:r):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(r,d){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(r,d))))},addBack:function(r){return this.add(null==r?this.prevObject:this.prevObject.filter(r))}}),n.each({parent:function(r){var d=r.parentNode;return d&&11!==d.nodeType?d:null},parents:function(r){return pe(r,"parentNode")},parentsUntil:function(r,d,g){return pe(r,"parentNode",g)},next:function(r){return Be(r,"nextSibling")},prev:function(r){return Be(r,"previousSibling")},nextAll:function(r){return pe(r,"nextSibling")},prevAll:function(r){return pe(r,"previousSibling")},nextUntil:function(r,d,g){return pe(r,"nextSibling",g)},prevUntil:function(r,d,g){return pe(r,"previousSibling",g)},siblings:function(r){return Re((r.parentNode||{}).firstChild,r)},children:function(r){return Re(r.firstChild)},contents:function(r){return null!=r.contentDocument&&o(r.contentDocument)?r.contentDocument:(x(r,"template")&&(r=r.content||r),n.merge([],r.childNodes))}},function(r,d){n.fn[r]=function(g,C){var F=n.map(this,d,g);return"Until"!==r.slice(-5)&&(C=g),C&&"string"==typeof C&&(F=n.filter(C,F)),1<this.length&&(ce[r]||n.uniqueSort(F),He.test(r)&&F.reverse()),this.pushStack(F)}});var je=/[^\x20\t\r\n\f]+/g;function ae(r){return r}function Se(r){throw r}function ze(r,d,g,C){var F;try{r&&_(F=r.promise)?F.call(r).done(d).fail(g):r&&_(F=r.then)?F.call(r,d,g):d.apply(void 0,[r].slice(C))}catch(B){g.apply(void 0,[B])}}n.Callbacks=function(r){var g;r="string"==typeof r?(g={},n.each(r.match(je)||[],function(Ie,Ke){g[Ke]=!0}),g):n.extend({},r);var C,F,B,z,ie=[],re=[],Ce=-1,Fe=function(){for(z=z||r.once,B=C=!0;re.length;Ce=-1)for(F=re.shift();++Ce<ie.length;)!1===ie[Ce].apply(F[0],F[1])&&r.stopOnFalse&&(Ce=ie.length,F=!1);r.memory||(F=!1),C=!1,z&&(ie=F?[]:"")},Ue={add:function(){return ie&&(F&&!C&&(Ce=ie.length-1,re.push(F)),function Ie(Ke){n.each(Ke,function(ht,bt){_(bt)?r.unique&&Ue.has(bt)||ie.push(bt):bt&&bt.length&&"string"!==s(bt)&&Ie(bt)})}(arguments),F&&!C&&Fe()),this},remove:function(){return n.each(arguments,function(Ie,Ke){for(var ht;-1<(ht=n.inArray(Ke,ie,ht));)ie.splice(ht,1),ht<=Ce&&Ce--}),this},has:function(Ie){return Ie?-1<n.inArray(Ie,ie):0<ie.length},empty:function(){return ie&&(ie=[]),this},disable:function(){return z=re=[],ie=F="",this},disabled:function(){return!ie},lock:function(){return z=re=[],F||C||(ie=F=""),this},locked:function(){return!!z},fireWith:function(Ie,Ke){return z||(Ke=[Ie,(Ke=Ke||[]).slice?Ke.slice():Ke],re.push(Ke),C||Fe()),this},fire:function(){return Ue.fireWith(this,arguments),this},fired:function(){return!!B}};return Ue},n.extend({Deferred:function(r){var d=[["notify","progress",n.Callbacks("memory"),n.Callbacks("memory"),2],["resolve","done",n.Callbacks("once memory"),n.Callbacks("once memory"),0,"resolved"],["reject","fail",n.Callbacks("once memory"),n.Callbacks("once memory"),1,"rejected"]],g="pending",C={state:function(){return g},always:function(){return F.done(arguments).fail(arguments),this},catch:function(B){return C.then(null,B)},pipe:function(){var B=arguments;return n.Deferred(function(z){n.each(d,function(ie,re){var Ce=_(B[re[4]])&&B[re[4]];F[re[1]](function(){var Fe=Ce&&Ce.apply(this,arguments);Fe&&_(Fe.promise)?Fe.promise().progress(z.notify).done(z.resolve).fail(z.reject):z[re[0]+"With"](this,Ce?[Fe]:arguments)})}),B=null}).promise()},then:function(B,z,ie){var re=0;function Ce(Fe,Ue,Ie,Ke){return function(){var ht=this,bt=arguments,Ct=function(){var rn,Nn;if(!(Fe<re)){if((rn=Ie.apply(ht,bt))===Ue.promise())throw new TypeError("Thenable self-resolution");_(Nn=rn&&("object"==typeof rn||"function"==typeof rn)&&rn.then)?Ke?Nn.call(rn,Ce(re,Ue,ae,Ke),Ce(re,Ue,Se,Ke)):(re++,Nn.call(rn,Ce(re,Ue,ae,Ke),Ce(re,Ue,Se,Ke),Ce(re,Ue,ae,Ue.notifyWith))):(Ie!==ae&&(ht=void 0,bt=[rn]),(Ke||Ue.resolveWith)(ht,bt))}},jt=Ke?Ct:function(){try{Ct()}catch(rn){n.Deferred.exceptionHook&&n.Deferred.exceptionHook(rn,jt.error),re<=Fe+1&&(Ie!==Se&&(ht=void 0,bt=[rn]),Ue.rejectWith(ht,bt))}};Fe?jt():(n.Deferred.getErrorHook?jt.error=n.Deferred.getErrorHook():n.Deferred.getStackHook&&(jt.error=n.Deferred.getStackHook()),t.setTimeout(jt))}}return n.Deferred(function(Fe){d[0][3].add(Ce(0,Fe,_(ie)?ie:ae,Fe.notifyWith)),d[1][3].add(Ce(0,Fe,_(B)?B:ae)),d[2][3].add(Ce(0,Fe,_(z)?z:Se))}).promise()},promise:function(B){return null!=B?n.extend(B,C):C}},F={};return n.each(d,function(B,z){var ie=z[2],re=z[5];C[z[1]]=ie.add,re&&ie.add(function(){g=re},d[3-B][2].disable,d[3-B][3].disable,d[0][2].lock,d[0][3].lock),ie.add(z[3].fire),F[z[0]]=function(){return F[z[0]+"With"](this===F?void 0:this,arguments),this},F[z[0]+"With"]=ie.fireWith}),C.promise(F),r&&r.call(F,F),F},when:function(r){var d=arguments.length,g=d,C=Array(g),F=i.call(arguments),B=n.Deferred(),z=function(ie){return function(re){C[ie]=this,F[ie]=1<arguments.length?i.call(arguments):re,--d||B.resolveWith(C,F)}};if(d<=1&&(ze(r,B.done(z(g)).resolve,B.reject,!d),"pending"===B.state()||_(F[g]&&F[g].then)))return B.then();for(;g--;)ze(F[g],z(g),B.reject);return B.promise()}});var Ze=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;n.Deferred.exceptionHook=function(r,d){t.console&&t.console.warn&&r&&Ze.test(r.name)&&t.console.warn("jQuery.Deferred exception: "+r.message,r.stack,d)},n.readyException=function(r){t.setTimeout(function(){throw r})};var Ye=n.Deferred();function lt(){c.removeEventListener("DOMContentLoaded",lt),t.removeEventListener("load",lt),n.ready()}n.fn.ready=function(r){return Ye.then(r).catch(function(d){n.readyException(d)}),this},n.extend({isReady:!1,readyWait:1,ready:function(r){(!0===r?--n.readyWait:n.isReady)||(n.isReady=!0)!==r&&0<--n.readyWait||Ye.resolveWith(c,[n])}}),n.ready.then=Ye.then,"complete"===c.readyState||"loading"!==c.readyState&&!c.documentElement.doScroll?t.setTimeout(n.ready):(c.addEventListener("DOMContentLoaded",lt),t.addEventListener("load",lt));var Ne=function(r,d,g,C,F,B,z){var ie=0,re=r.length,Ce=null==g;if("object"===s(g))for(ie in F=!0,g)Ne(r,d,ie,g[ie],!0,B,z);else if(void 0!==C&&(F=!0,_(C)||(z=!0),Ce&&(z?(d.call(r,C),d=null):(Ce=d,d=function(Fe,Ue,Ie){return Ce.call(n(Fe),Ie)})),d))for(;ie<re;ie++)d(r[ie],g,z?C:C.call(r[ie],ie,d(r[ie],g)));return F?r:Ce?d.call(r):re?d(r[0],g):B},Ve=/^-ms-/,j=/-([a-z])/g;function fe(r,d){return d.toUpperCase()}function M(r){return r.replace(Ve,"ms-").replace(j,fe)}var U=function(r){return 1===r.nodeType||9===r.nodeType||!+r.nodeType};function K(){this.expando=n.expando+K.uid++}K.uid=1,K.prototype={cache:function(r){var d=r[this.expando];return d||(d={},U(r)&&(r.nodeType?r[this.expando]=d:Object.defineProperty(r,this.expando,{value:d,configurable:!0}))),d},set:function(r,d,g){var C,F=this.cache(r);if("string"==typeof d)F[M(d)]=g;else for(C in d)F[M(C)]=d[C];return F},get:function(r,d){return void 0===d?this.cache(r):r[this.expando]&&r[this.expando][M(d)]},access:function(r,d,g){return void 0===d||d&&"string"==typeof d&&void 0===g?this.get(r,d):(this.set(r,d,g),void 0!==g?g:d)},remove:function(r,d){var g,C=r[this.expando];if(void 0!==C){if(void 0!==d)for((g=(d=Array.isArray(d)?d.map(M):(d=M(d))in C?[d]:d.match(je)||[]).length);g--;)delete C[d[g]];(void 0===d||n.isEmptyObject(C))&&(r.nodeType?r[this.expando]=void 0:delete r[this.expando])}},hasData:function(r){var d=r[this.expando];return void 0!==d&&!n.isEmptyObject(d)}};var P=new K,Y=new K,V=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,he=/[A-Z]/g;function _e(r,d,g){var C,F;if(void 0===g&&1===r.nodeType)if(C="data-"+d.replace(he,"-$&").toLowerCase(),"string"==typeof(g=r.getAttribute(C))){try{g="true"===(F=g)||"false"!==F&&("null"===F?null:F===+F+""?+F:V.test(F)?JSON.parse(F):F)}catch{}Y.set(r,d,g)}else g=void 0;return g}n.extend({hasData:function(r){return Y.hasData(r)||P.hasData(r)},data:function(r,d,g){return Y.access(r,d,g)},removeData:function(r,d){Y.remove(r,d)},_data:function(r,d,g){return P.access(r,d,g)},_removeData:function(r,d){P.remove(r,d)}}),n.fn.extend({data:function(r,d){var g,C,F,B=this[0],z=B&&B.attributes;if(void 0===r){if(this.length&&(F=Y.get(B),1===B.nodeType&&!P.get(B,"hasDataAttrs"))){for(g=z.length;g--;)z[g]&&0===(C=z[g].name).indexOf("data-")&&(C=M(C.slice(5)),_e(B,C,F[C]));P.set(B,"hasDataAttrs",!0)}return F}return"object"==typeof r?this.each(function(){Y.set(this,r)}):Ne(this,function(ie){var re;if(B&&void 0===ie)return void 0!==(re=Y.get(B,r))||void 0!==(re=_e(B,r))?re:void 0;this.each(function(){Y.set(this,r,ie)})},null,d,1<arguments.length,null,!0)},removeData:function(r){return this.each(function(){Y.remove(this,r)})}}),n.extend({queue:function(r,d,g){var C;if(r)return C=P.get(r,d=(d||"fx")+"queue"),g&&(!C||Array.isArray(g)?C=P.access(r,d,n.makeArray(g)):C.push(g)),C||[]},dequeue:function(r,d){var g=n.queue(r,d=d||"fx"),C=g.length,F=g.shift(),B=n._queueHooks(r,d);"inprogress"===F&&(F=g.shift(),C--),F&&("fx"===d&&g.unshift("inprogress"),delete B.stop,F.call(r,function(){n.dequeue(r,d)},B)),!C&&B&&B.empty.fire()},_queueHooks:function(r,d){var g=d+"queueHooks";return P.get(r,g)||P.access(r,g,{empty:n.Callbacks("once memory").add(function(){P.remove(r,[d+"queue",g])})})}}),n.fn.extend({queue:function(r,d){var g=2;return"string"!=typeof r&&(d=r,r="fx",g--),arguments.length<g?n.queue(this[0],r):void 0===d?this:this.each(function(){var C=n.queue(this,r,d);n._queueHooks(this,r),"fx"===r&&"inprogress"!==C[0]&&n.dequeue(this,r)})},dequeue:function(r){return this.each(function(){n.dequeue(this,r)})},clearQueue:function(r){return this.queue(r||"fx",[])},promise:function(r,d){var g,C=1,F=n.Deferred(),B=this,z=this.length,ie=function(){--C||F.resolveWith(B,[B])};for("string"!=typeof r&&(d=r,r=void 0),r=r||"fx";z--;)(g=P.get(B[z],r+"queueHooks"))&&g.empty&&(C++,g.empty.add(ie));return ie(),F.promise(d)}});var me=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Le=new RegExp("^(?:([+-])=|)("+me+")([a-z%]*)$","i"),Qe=["Top","Right","Bottom","Left"],Je=c.documentElement,et=function(r){return n.contains(r.ownerDocument,r)},nt={composed:!0};Je.getRootNode&&(et=function(r){return n.contains(r.ownerDocument,r)||r.getRootNode(nt)===r.ownerDocument});var rt=function(r,d){return"none"===(r=d||r).style.display||""===r.style.display&&et(r)&&"none"===n.css(r,"display")};function $(r,d,g,C){var F,B,z=20,ie=C?function(){return C.cur()}:function(){return n.css(r,d,"")},re=ie(),Ce=g&&g[3]||(n.cssNumber[d]?"":"px"),Fe=r.nodeType&&(n.cssNumber[d]||"px"!==Ce&&+re)&&Le.exec(n.css(r,d));if(Fe&&Fe[3]!==Ce){for(Ce=Ce||Fe[3],Fe=+(re/=2)||1;z--;)n.style(r,d,Fe+Ce),(1-B)*(1-(B=ie()/re||.5))<=0&&(z=0),Fe/=B;n.style(r,d,(Fe*=2)+Ce),g=g||[]}return g&&(Fe=+Fe||+re||0,F=g[1]?Fe+(g[1]+1)*g[2]:+g[2],C&&(C.unit=Ce,C.start=Fe,C.end=F)),F}var X={};function ne(r,d){for(var g,C,F,B,z,ie,re,Ce=[],Fe=0,Ue=r.length;Fe<Ue;Fe++)(C=r[Fe]).style&&(g=C.style.display,d?("none"===g&&(Ce[Fe]=P.get(C,"display")||null,Ce[Fe]||(C.style.display="")),""===C.style.display&&rt(C)&&(Ce[Fe]=(re=z=B=void 0,z=(F=C).ownerDocument,(re=X[ie=F.nodeName])||(B=z.body.appendChild(z.createElement(ie)),re=n.css(B,"display"),B.parentNode.removeChild(B),"none"===re&&(re="block"),X[ie]=re)))):"none"!==g&&(Ce[Fe]="none",P.set(C,"display",g)));for(Fe=0;Fe<Ue;Fe++)null!=Ce[Fe]&&(r[Fe].style.display=Ce[Fe]);return r}n.fn.extend({show:function(){return ne(this,!0)},hide:function(){return ne(this)},toggle:function(r){return"boolean"==typeof r?r?this.show():this.hide():this.each(function(){rt(this)?n(this).show():n(this).hide()})}});var oe,xe,N=/^(?:checkbox|radio)$/i,h=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,I=/^$|^module$|\/(?:java|ecma)script/i;oe=c.createDocumentFragment().appendChild(c.createElement("div")),(xe=c.createElement("input")).setAttribute("type","radio"),xe.setAttribute("checked","checked"),xe.setAttribute("name","t"),oe.appendChild(xe),T.checkClone=oe.cloneNode(!0).cloneNode(!0).lastChild.checked,oe.innerHTML="<textarea>x</textarea>",T.noCloneChecked=!!oe.cloneNode(!0).lastChild.defaultValue,oe.innerHTML="<option></option>",T.option=!!oe.lastChild;var H={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Q(r,d){var g;return g=typeof r.getElementsByTagName<"u"?r.getElementsByTagName(d||"*"):typeof r.querySelectorAll<"u"?r.querySelectorAll(d||"*"):[],void 0===d||d&&x(r,d)?n.merge([r],g):g}function ve(r,d){for(var g=0,C=r.length;g<C;g++)P.set(r[g],"globalEval",!d||P.get(d[g],"globalEval"))}H.tbody=H.tfoot=H.colgroup=H.caption=H.thead,H.th=H.td,T.option||(H.optgroup=H.option=[1,"<select multiple='multiple'>","</select>"]);var se=/<|&#?\w+;/;function Ae(r,d,g,C,F){for(var B,z,ie,re,Ce,Fe,Ue=d.createDocumentFragment(),Ie=[],Ke=0,ht=r.length;Ke<ht;Ke++)if((B=r[Ke])||0===B)if("object"===s(B))n.merge(Ie,B.nodeType?[B]:B);else if(se.test(B)){for(z=z||Ue.appendChild(d.createElement("div")),ie=(h.exec(B)||["",""])[1].toLowerCase(),z.innerHTML=(re=H[ie]||H._default)[1]+n.htmlPrefilter(B)+re[2],Fe=re[0];Fe--;)z=z.lastChild;n.merge(Ie,z.childNodes),(z=Ue.firstChild).textContent=""}else Ie.push(d.createTextNode(B));for(Ue.textContent="",Ke=0;B=Ie[Ke++];)if(C&&-1<n.inArray(B,C))F&&F.push(B);else if(Ce=et(B),z=Q(Ue.appendChild(B),"script"),Ce&&ve(z),g)for(Fe=0;B=z[Fe++];)I.test(B.type||"")&&g.push(B);return Ue}var we=/^([^.]*)(?:\.(.+)|)/;function Me(){return!0}function Ge(){return!1}function tt(r,d,g,C,F,B){var z,ie;if("object"==typeof d){for(ie in"string"!=typeof g&&(C=C||g,g=void 0),d)tt(r,ie,g,C,d[ie],B);return r}if(null==C&&null==F?(F=g,C=g=void 0):null==F&&("string"==typeof g?(F=C,C=void 0):(F=C,C=g,g=void 0)),!1===F)F=Ge;else if(!F)return r;return 1===B&&(z=F,(F=function(re){return n().off(re),z.apply(this,arguments)}).guid=z.guid||(z.guid=n.guid++)),r.each(function(){n.event.add(this,d,F,C,g)})}function Xe(r,d,g){g?(P.set(r,d,!1),n.event.add(r,d,{namespace:!1,handler:function(C){var F,B=P.get(this,d);if(1&C.isTrigger&&this[d]){if(B)(n.event.special[d]||{}).delegateType&&C.stopPropagation();else if(B=i.call(arguments),P.set(this,d,B),this[d](),F=P.get(this,d),P.set(this,d,!1),B!==F)return C.stopImmediatePropagation(),C.preventDefault(),F}else B&&(P.set(this,d,n.event.trigger(B[0],B.slice(1),this)),C.stopPropagation(),C.isImmediatePropagationStopped=Me)}})):void 0===P.get(r,d)&&n.event.add(r,d,Me)}n.event={global:{},add:function(r,d,g,C,F){var B,z,ie,re,Ce,Fe,Ue,Ie,Ke,ht,bt,Ct=P.get(r);if(U(r))for(g.handler&&(g=(B=g).handler,F=B.selector),F&&n.find.matchesSelector(Je,F),g.guid||(g.guid=n.guid++),(re=Ct.events)||(re=Ct.events=Object.create(null)),(z=Ct.handle)||(z=Ct.handle=function(jt){return typeof n<"u"&&n.event.triggered!==jt.type?n.event.dispatch.apply(r,arguments):void 0}),Ce=(d=(d||"").match(je)||[""]).length;Ce--;)Ke=bt=(ie=we.exec(d[Ce])||[])[1],ht=(ie[2]||"").split(".").sort(),Ke&&(Ue=n.event.special[Ke]||{},Ue=n.event.special[Ke=(F?Ue.delegateType:Ue.bindType)||Ke]||{},Fe=n.extend({type:Ke,origType:bt,data:C,handler:g,guid:g.guid,selector:F,needsContext:F&&n.expr.match.needsContext.test(F),namespace:ht.join(".")},B),(Ie=re[Ke])||((Ie=re[Ke]=[]).delegateCount=0,Ue.setup&&!1!==Ue.setup.call(r,C,ht,z)||r.addEventListener&&r.addEventListener(Ke,z)),Ue.add&&(Ue.add.call(r,Fe),Fe.handler.guid||(Fe.handler.guid=g.guid)),F?Ie.splice(Ie.delegateCount++,0,Fe):Ie.push(Fe),n.event.global[Ke]=!0)},remove:function(r,d,g,C,F){var B,z,ie,re,Ce,Fe,Ue,Ie,Ke,ht,bt,Ct=P.hasData(r)&&P.get(r);if(Ct&&(re=Ct.events)){for(Ce=(d=(d||"").match(je)||[""]).length;Ce--;)if(Ke=bt=(ie=we.exec(d[Ce])||[])[1],ht=(ie[2]||"").split(".").sort(),Ke){for(Ue=n.event.special[Ke]||{},Ie=re[Ke=(C?Ue.delegateType:Ue.bindType)||Ke]||[],ie=ie[2]&&new RegExp("(^|\\.)"+ht.join("\\.(?:.*\\.|)")+"(\\.|$)"),z=B=Ie.length;B--;)Fe=Ie[B],!F&&bt!==Fe.origType||g&&g.guid!==Fe.guid||ie&&!ie.test(Fe.namespace)||C&&C!==Fe.selector&&("**"!==C||!Fe.selector)||(Ie.splice(B,1),Fe.selector&&Ie.delegateCount--,Ue.remove&&Ue.remove.call(r,Fe));z&&!Ie.length&&(Ue.teardown&&!1!==Ue.teardown.call(r,ht,Ct.handle)||n.removeEvent(r,Ke,Ct.handle),delete re[Ke])}else for(Ke in re)n.event.remove(r,Ke+d[Ce],g,C,!0);n.isEmptyObject(re)&&P.remove(r,"handle events")}},dispatch:function(r){var d,g,C,F,B,z,ie=new Array(arguments.length),re=n.event.fix(r),Ce=(P.get(this,"events")||Object.create(null))[re.type]||[],Fe=n.event.special[re.type]||{};for(ie[0]=re,d=1;d<arguments.length;d++)ie[d]=arguments[d];if(re.delegateTarget=this,!Fe.preDispatch||!1!==Fe.preDispatch.call(this,re)){for(z=n.event.handlers.call(this,re,Ce),d=0;(F=z[d++])&&!re.isPropagationStopped();)for(re.currentTarget=F.elem,g=0;(B=F.handlers[g++])&&!re.isImmediatePropagationStopped();)re.rnamespace&&!1!==B.namespace&&!re.rnamespace.test(B.namespace)||(re.handleObj=B,re.data=B.data,void 0!==(C=((n.event.special[B.origType]||{}).handle||B.handler).apply(F.elem,ie))&&!1===(re.result=C)&&(re.preventDefault(),re.stopPropagation()));return Fe.postDispatch&&Fe.postDispatch.call(this,re),re.result}},handlers:function(r,d){var g,C,F,B,z,ie=[],re=d.delegateCount,Ce=r.target;if(re&&Ce.nodeType&&!("click"===r.type&&1<=r.button))for(;Ce!==this;Ce=Ce.parentNode||this)if(1===Ce.nodeType&&("click"!==r.type||!0!==Ce.disabled)){for(B=[],z={},g=0;g<re;g++)void 0===z[F=(C=d[g]).selector+" "]&&(z[F]=C.needsContext?-1<n(F,this).index(Ce):n.find(F,this,null,[Ce]).length),z[F]&&B.push(C);B.length&&ie.push({elem:Ce,handlers:B})}return Ce=this,re<d.length&&ie.push({elem:Ce,handlers:d.slice(re)}),ie},addProp:function(r,d){Object.defineProperty(n.Event.prototype,r,{enumerable:!0,configurable:!0,get:_(d)?function(){if(this.originalEvent)return d(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[r]},set:function(g){Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:g})}})},fix:function(r){return r[n.expando]?r:new n.Event(r)},special:{load:{noBubble:!0},click:{setup:function(r){var d=this||r;return N.test(d.type)&&d.click&&x(d,"input")&&Xe(d,"click",!0),!1},trigger:function(r){var d=this||r;return N.test(d.type)&&d.click&&x(d,"input")&&Xe(d,"click"),!0},_default:function(r){var d=r.target;return N.test(d.type)&&d.click&&x(d,"input")&&P.get(d,"click")||x(d,"a")}},beforeunload:{postDispatch:function(r){void 0!==r.result&&r.originalEvent&&(r.originalEvent.returnValue=r.result)}}}},n.removeEvent=function(r,d,g){r.removeEventListener&&r.removeEventListener(d,g)},n.Event=function(r,d){if(!(this instanceof n.Event))return new n.Event(r,d);r&&r.type?(this.originalEvent=r,this.type=r.type,this.isDefaultPrevented=r.defaultPrevented||void 0===r.defaultPrevented&&!1===r.returnValue?Me:Ge,this.target=r.target&&3===r.target.nodeType?r.target.parentNode:r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget):this.type=r,d&&n.extend(this,d),this.timeStamp=r&&r.timeStamp||Date.now(),this[n.expando]=!0},n.Event.prototype={constructor:n.Event,isDefaultPrevented:Ge,isPropagationStopped:Ge,isImmediatePropagationStopped:Ge,isSimulated:!1,preventDefault:function(){var r=this.originalEvent;this.isDefaultPrevented=Me,r&&!this.isSimulated&&r.preventDefault()},stopPropagation:function(){var r=this.originalEvent;this.isPropagationStopped=Me,r&&!this.isSimulated&&r.stopPropagation()},stopImmediatePropagation:function(){var r=this.originalEvent;this.isImmediatePropagationStopped=Me,r&&!this.isSimulated&&r.stopImmediatePropagation(),this.stopPropagation()}},n.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},n.event.addProp),n.each({focus:"focusin",blur:"focusout"},function(r,d){function g(C){if(c.documentMode){var F=P.get(this,"handle"),B=n.event.fix(C);B.type="focusin"===C.type?"focus":"blur",B.isSimulated=!0,F(C),B.target===B.currentTarget&&F(B)}else n.event.simulate(d,C.target,n.event.fix(C))}n.event.special[r]={setup:function(){var C;if(Xe(this,r,!0),!c.documentMode)return!1;(C=P.get(this,d))||this.addEventListener(d,g),P.set(this,d,(C||0)+1)},trigger:function(){return Xe(this,r),!0},teardown:function(){var C;if(!c.documentMode)return!1;(C=P.get(this,d)-1)?P.set(this,d,C):(this.removeEventListener(d,g),P.remove(this,d))},_default:function(C){return P.get(C.target,r)},delegateType:d},n.event.special[d]={setup:function(){var C=this.ownerDocument||this.document||this,F=c.documentMode?this:C,B=P.get(F,d);B||(c.documentMode?this.addEventListener(d,g):C.addEventListener(r,g,!0)),P.set(F,d,(B||0)+1)},teardown:function(){var C=this.ownerDocument||this.document||this,F=c.documentMode?this:C,B=P.get(F,d)-1;B?P.set(F,d,B):(c.documentMode?this.removeEventListener(d,g):C.removeEventListener(r,g,!0),P.remove(F,d))}}}),n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(r,d){n.event.special[r]={delegateType:d,bindType:d,handle:function(g){var C,F=g.relatedTarget,B=g.handleObj;return F&&(F===this||n.contains(this,F))||(g.type=B.origType,C=B.handler.apply(this,arguments),g.type=d),C}}}),n.fn.extend({on:function(r,d,g,C){return tt(this,r,d,g,C)},one:function(r,d,g,C){return tt(this,r,d,g,C,1)},off:function(r,d,g){var C,F;if(r&&r.preventDefault&&r.handleObj)return C=r.handleObj,n(r.delegateTarget).off(C.namespace?C.origType+"."+C.namespace:C.origType,C.selector,C.handler),this;if("object"==typeof r){for(F in r)this.off(F,d,r[F]);return this}return!1!==d&&"function"!=typeof d||(g=d,d=void 0),!1===g&&(g=Ge),this.each(function(){n.event.remove(this,r,g,d)})}});var gt=/<script|<style|<link/i,ct=/checked\s*(?:[^=]|=\s*.checked.)/i,pt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function At(r,d){return x(r,"table")&&x(11!==d.nodeType?d:d.firstChild,"tr")&&n(r).children("tbody")[0]||r}function Et(r){return r.type=(null!==r.getAttribute("type"))+"/"+r.type,r}function Ft(r){return"true/"===(r.type||"").slice(0,5)?r.type=r.type.slice(5):r.removeAttribute("type"),r}function Bt(r,d){var g,C,F,B,z,ie;if(1===d.nodeType){if(P.hasData(r)&&(ie=P.get(r).events))for(F in P.remove(d,"handle events"),ie)for(g=0,C=ie[F].length;g<C;g++)n.event.add(d,F,ie[F][g]);Y.hasData(r)&&(B=Y.access(r),z=n.extend({},B),Y.set(d,z))}}function wt(r,d,g,C){d=y(d);var F,B,z,ie,re,Ce,Fe=0,Ue=r.length,Ie=Ue-1,Ke=d[0],ht=_(Ke);if(ht||1<Ue&&"string"==typeof Ke&&!T.checkClone&&ct.test(Ke))return r.each(function(bt){var Ct=r.eq(bt);ht&&(d[0]=Ke.call(this,bt,Ct.html())),wt(Ct,d,g,C)});if(Ue&&(B=(F=Ae(d,r[0].ownerDocument,!1,r,C)).firstChild,1===F.childNodes.length&&(F=B),B||C)){for(ie=(z=n.map(Q(F,"script"),Et)).length;Fe<Ue;Fe++)re=F,Fe!==Ie&&(re=n.clone(re,!0,!0),ie&&n.merge(z,Q(re,"script"))),g.call(r[Fe],re,Fe);if(ie)for(Ce=z[z.length-1].ownerDocument,n.map(z,Ft),Fe=0;Fe<ie;Fe++)I.test((re=z[Fe]).type||"")&&!P.access(re,"globalEval")&&n.contains(Ce,re)&&(re.src&&"module"!==(re.type||"").toLowerCase()?n._evalUrl&&!re.noModule&&n._evalUrl(re.src,{nonce:re.nonce||re.getAttribute("nonce")},Ce):a(re.textContent.replace(pt,""),re,Ce))}return r}function Lt(r,d,g){for(var C,F=d?n.filter(d,r):r,B=0;null!=(C=F[B]);B++)g||1!==C.nodeType||n.cleanData(Q(C)),C.parentNode&&(g&&et(C)&&ve(Q(C,"script")),C.parentNode.removeChild(C));return r}n.extend({htmlPrefilter:function(r){return r},clone:function(r,d,g){var C,F,B,z,ie,re,Ce,Fe=r.cloneNode(!0),Ue=et(r);if(!(T.noCloneChecked||1!==r.nodeType&&11!==r.nodeType||n.isXMLDoc(r)))for(z=Q(Fe),C=0,F=(B=Q(r)).length;C<F;C++)ie=B[C],"input"===(Ce=(re=z[C]).nodeName.toLowerCase())&&N.test(ie.type)?re.checked=ie.checked:"input"!==Ce&&"textarea"!==Ce||(re.defaultValue=ie.defaultValue);if(d)if(g)for(B=B||Q(r),z=z||Q(Fe),C=0,F=B.length;C<F;C++)Bt(B[C],z[C]);else Bt(r,Fe);return 0<(z=Q(Fe,"script")).length&&ve(z,!Ue&&Q(r,"script")),Fe},cleanData:function(r){for(var d,g,C,F=n.event.special,B=0;void 0!==(g=r[B]);B++)if(U(g)){if(d=g[P.expando]){if(d.events)for(C in d.events)F[C]?n.event.remove(g,C):n.removeEvent(g,C,d.handle);g[P.expando]=void 0}g[Y.expando]&&(g[Y.expando]=void 0)}}}),n.fn.extend({detach:function(r){return Lt(this,r,!0)},remove:function(r){return Lt(this,r)},text:function(r){return Ne(this,function(d){return void 0===d?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=d)})},null,r,arguments.length)},append:function(){return wt(this,arguments,function(r){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||At(this,r).appendChild(r)})},prepend:function(){return wt(this,arguments,function(r){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var d=At(this,r);d.insertBefore(r,d.firstChild)}})},before:function(){return wt(this,arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this)})},after:function(){return wt(this,arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling)})},empty:function(){for(var r,d=0;null!=(r=this[d]);d++)1===r.nodeType&&(n.cleanData(Q(r,!1)),r.textContent="");return this},clone:function(r,d){return r=null!=r&&r,d=d??r,this.map(function(){return n.clone(this,r,d)})},html:function(r){return Ne(this,function(d){var g=this[0]||{},C=0,F=this.length;if(void 0===d&&1===g.nodeType)return g.innerHTML;if("string"==typeof d&&!gt.test(d)&&!H[(h.exec(d)||["",""])[1].toLowerCase()]){d=n.htmlPrefilter(d);try{for(;C<F;C++)1===(g=this[C]||{}).nodeType&&(n.cleanData(Q(g,!1)),g.innerHTML=d);g=0}catch{}}g&&this.empty().append(d)},null,r,arguments.length)},replaceWith:function(){var r=[];return wt(this,arguments,function(d){var g=this.parentNode;n.inArray(this,r)<0&&(n.cleanData(Q(this)),g&&g.replaceChild(d,this))},r)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(r,d){n.fn[r]=function(g){for(var C,F=[],B=n(g),z=B.length-1,ie=0;ie<=z;ie++)C=ie===z?this:this.clone(!0),n(B[ie])[d](C),E.apply(F,C.get());return this.pushStack(F)}});var Tt=new RegExp("^("+me+")(?!px)[a-z%]+$","i"),vt=/^--/,Rt=function(r){var d=r.ownerDocument.defaultView;return d&&d.opener||(d=t),d.getComputedStyle(r)},It=function(r,d,g){var C,F,B={};for(F in d)B[F]=r.style[F],r.style[F]=d[F];for(F in C=g.call(r),d)r.style[F]=B[F];return C},Dt=new RegExp(Qe.join("|"),"i");function Pt(r,d,g){var C,F,B,z,ie=vt.test(d),re=r.style;return(g=g||Rt(r))&&(z=g.getPropertyValue(d)||g[d],ie&&z&&(z=z.replace(k,"$1")||void 0),""!==z||et(r)||(z=n.style(r,d)),!T.pixelBoxStyles()&&Tt.test(z)&&Dt.test(d)&&(C=re.width,F=re.minWidth,B=re.maxWidth,re.minWidth=re.maxWidth=re.width=z,z=g.width,re.width=C,re.minWidth=F,re.maxWidth=B)),void 0!==z?z+"":z}function qt(r,d){return{get:function(){if(!r())return(this.get=d).apply(this,arguments);delete this.get}}}!function(){function r(){if(Ce){re.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ce.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Je.appendChild(re).appendChild(Ce);var Fe=t.getComputedStyle(Ce);g="1%"!==Fe.top,ie=12===d(Fe.marginLeft),Ce.style.right="60%",B=36===d(Fe.right),C=36===d(Fe.width),Ce.style.position="absolute",F=12===d(Ce.offsetWidth/3),Je.removeChild(re),Ce=null}}function d(Fe){return Math.round(parseFloat(Fe))}var g,C,F,B,z,ie,re=c.createElement("div"),Ce=c.createElement("div");Ce.style&&(Ce.style.backgroundClip="content-box",Ce.cloneNode(!0).style.backgroundClip="",T.clearCloneStyle="content-box"===Ce.style.backgroundClip,n.extend(T,{boxSizingReliable:function(){return r(),C},pixelBoxStyles:function(){return r(),B},pixelPosition:function(){return r(),g},reliableMarginLeft:function(){return r(),ie},scrollboxSize:function(){return r(),F},reliableTrDimensions:function(){var Fe,Ue,Ie,Ke;return null==z&&(Fe=c.createElement("table"),Ue=c.createElement("tr"),Ie=c.createElement("div"),Fe.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Ue.style.cssText="box-sizing:content-box;border:1px solid",Ue.style.height="1px",Ie.style.height="9px",Ie.style.display="block",Je.appendChild(Fe).appendChild(Ue).appendChild(Ie),Ke=t.getComputedStyle(Ue),z=parseInt(Ke.height,10)+parseInt(Ke.borderTopWidth,10)+parseInt(Ke.borderBottomWidth,10)===Ue.offsetHeight,Je.removeChild(Fe)),z}}))}();var dn=["Webkit","Moz","ms"],Jt=c.createElement("div").style,Vt={};function tn(r){return n.cssProps[r]||Vt[r]||(r in Jt?r:Vt[r]=function(g){for(var C=g[0].toUpperCase()+g.slice(1),F=dn.length;F--;)if((g=dn[F]+C)in Jt)return g}(r)||r)}var Kt=/^(none|table(?!-c[ea]).+)/,nn={position:"absolute",visibility:"hidden",display:"block"},mn={letterSpacing:"0",fontWeight:"400"};function wn(r,d,g){var C=Le.exec(d);return C?Math.max(0,C[2]-(g||0))+(C[3]||"px"):d}function vn(r,d,g,C,F,B){var z="width"===d?1:0,ie=0,re=0,Ce=0;if(g===(C?"border":"content"))return 0;for(;z<4;z+=2)"margin"===g&&(Ce+=n.css(r,g+Qe[z],!0,F)),C?("content"===g&&(re-=n.css(r,"padding"+Qe[z],!0,F)),"margin"!==g&&(re-=n.css(r,"border"+Qe[z]+"Width",!0,F))):(re+=n.css(r,"padding"+Qe[z],!0,F),"padding"!==g?re+=n.css(r,"border"+Qe[z]+"Width",!0,F):ie+=n.css(r,"border"+Qe[z]+"Width",!0,F));return!C&&0<=B&&(re+=Math.max(0,Math.ceil(r["offset"+d[0].toUpperCase()+d.slice(1)]-B-re-ie-.5))||0),re+Ce}function cn(r,d,g){var C=Rt(r),F=(!T.boxSizingReliable()||g)&&"border-box"===n.css(r,"boxSizing",!1,C),B=F,z=Pt(r,d,C),ie="offset"+d[0].toUpperCase()+d.slice(1);if(Tt.test(z)){if(!g)return z;z="auto"}return(!T.boxSizingReliable()&&F||!T.reliableTrDimensions()&&x(r,"tr")||"auto"===z||!parseFloat(z)&&"inline"===n.css(r,"display",!1,C))&&r.getClientRects().length&&(F="border-box"===n.css(r,"boxSizing",!1,C),(B=ie in r)&&(z=r[ie])),(z=parseFloat(z)||0)+vn(r,d,g||(F?"border":"content"),B,C,z)+"px"}function Ht(r,d,g,C,F){return new Ht.prototype.init(r,d,g,C,F)}n.extend({cssHooks:{opacity:{get:function(r,d){if(d){var g=Pt(r,"opacity");return""===g?"1":g}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(r,d,g,C){if(r&&3!==r.nodeType&&8!==r.nodeType&&r.style){var F,B,z,ie=M(d),re=vt.test(d),Ce=r.style;if(re||(d=tn(ie)),z=n.cssHooks[d]||n.cssHooks[ie],void 0===g)return z&&"get"in z&&void 0!==(F=z.get(r,!1,C))?F:Ce[d];"string"==(B=typeof g)&&(F=Le.exec(g))&&F[1]&&(g=$(r,d,F),B="number"),null!=g&&g==g&&("number"!==B||re||(g+=F&&F[3]||(n.cssNumber[ie]?"":"px")),T.clearCloneStyle||""!==g||0!==d.indexOf("background")||(Ce[d]="inherit"),z&&"set"in z&&void 0===(g=z.set(r,g,C))||(re?Ce.setProperty(d,g):Ce[d]=g))}},css:function(r,d,g,C){var F,B,z,ie=M(d);return vt.test(d)||(d=tn(ie)),(z=n.cssHooks[d]||n.cssHooks[ie])&&"get"in z&&(F=z.get(r,!0,g)),void 0===F&&(F=Pt(r,d,C)),"normal"===F&&d in mn&&(F=mn[d]),""===g||g?(B=parseFloat(F),!0===g||isFinite(B)?B||0:F):F}}),n.each(["height","width"],function(r,d){n.cssHooks[d]={get:function(g,C,F){if(C)return!Kt.test(n.css(g,"display"))||g.getClientRects().length&&g.getBoundingClientRect().width?cn(g,d,F):It(g,nn,function(){return cn(g,d,F)})},set:function(g,C,F){var B,z=Rt(g),ie=!T.scrollboxSize()&&"absolute"===z.position,re=(ie||F)&&"border-box"===n.css(g,"boxSizing",!1,z),Ce=F?vn(g,d,F,re,z):0;return re&&ie&&(Ce-=Math.ceil(g["offset"+d[0].toUpperCase()+d.slice(1)]-parseFloat(z[d])-vn(g,d,"border",!1,z)-.5)),Ce&&(B=Le.exec(C))&&"px"!==(B[3]||"px")&&(g.style[d]=C,C=n.css(g,d)),wn(0,C,Ce)}}}),n.cssHooks.marginLeft=qt(T.reliableMarginLeft,function(r,d){if(d)return(parseFloat(Pt(r,"marginLeft"))||r.getBoundingClientRect().left-It(r,{marginLeft:0},function(){return r.getBoundingClientRect().left}))+"px"}),n.each({margin:"",padding:"",border:"Width"},function(r,d){n.cssHooks[r+d]={expand:function(g){for(var C=0,F={},B="string"==typeof g?g.split(" "):[g];C<4;C++)F[r+Qe[C]+d]=B[C]||B[C-2]||B[0];return F}},"margin"!==r&&(n.cssHooks[r+d].set=wn)}),n.fn.extend({css:function(r,d){return Ne(this,function(g,C,F){var B,z,ie={},re=0;if(Array.isArray(C)){for(B=Rt(g),z=C.length;re<z;re++)ie[C[re]]=n.css(g,C[re],!1,B);return ie}return void 0!==F?n.style(g,C,F):n.css(g,C)},r,d,1<arguments.length)}}),((n.Tween=Ht).prototype={constructor:Ht,init:function(r,d,g,C,F,B){this.elem=r,this.prop=g,this.easing=F||n.easing._default,this.options=d,this.start=this.now=this.cur(),this.end=C,this.unit=B||(n.cssNumber[g]?"":"px")},cur:function(){var r=Ht.propHooks[this.prop];return r&&r.get?r.get(this):Ht.propHooks._default.get(this)},run:function(r){var d,g=Ht.propHooks[this.prop];return this.pos=d=this.options.duration?n.easing[this.easing](r,this.options.duration*r,0,1,this.options.duration):r,this.now=(this.end-this.start)*d+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),g&&g.set?g.set(this):Ht.propHooks._default.set(this),this}}).init.prototype=Ht.prototype,(Ht.propHooks={_default:{get:function(r){var d;return 1!==r.elem.nodeType||null!=r.elem[r.prop]&&null==r.elem.style[r.prop]?r.elem[r.prop]:(d=n.css(r.elem,r.prop,""))&&"auto"!==d?d:0},set:function(r){n.fx.step[r.prop]?n.fx.step[r.prop](r):1!==r.elem.nodeType||!n.cssHooks[r.prop]&&null==r.elem.style[tn(r.prop)]?r.elem[r.prop]=r.now:n.style(r.elem,r.prop,r.now+r.unit)}}}).scrollTop=Ht.propHooks.scrollLeft={set:function(r){r.elem.nodeType&&r.elem.parentNode&&(r.elem[r.prop]=r.now)}},n.easing={linear:function(r){return r},swing:function(r){return.5-Math.cos(r*Math.PI)/2},_default:"swing"},n.fx=Ht.prototype.init,n.fx.step={};var fn,bn,sn,Mn,Wn=/^(?:toggle|show|hide)$/,kn=/queueHooks$/;function $n(){bn&&(!1===c.hidden&&t.requestAnimationFrame?t.requestAnimationFrame($n):t.setTimeout($n,n.fx.interval),n.fx.tick())}function Rn(){return t.setTimeout(function(){fn=void 0}),fn=Date.now()}function yn(r,d){var g,C=0,F={height:r};for(d=d?1:0;C<4;C+=2-d)F["margin"+(g=Qe[C])]=F["padding"+g]=r;return d&&(F.opacity=F.width=r),F}function Gn(r,d,g){for(var C,F=(ln.tweeners[d]||[]).concat(ln.tweeners["*"]),B=0,z=F.length;B<z;B++)if(C=F[B].call(g,d,r))return C}function ln(r,d,g){var C,F,B=0,z=ln.prefilters.length,ie=n.Deferred().always(function(){delete re.elem}),re=function(){if(F)return!1;for(var Ue=fn||Rn(),Ie=Math.max(0,Ce.startTime+Ce.duration-Ue),Ke=1-(Ie/Ce.duration||0),ht=0,bt=Ce.tweens.length;ht<bt;ht++)Ce.tweens[ht].run(Ke);return ie.notifyWith(r,[Ce,Ke,Ie]),Ke<1&&bt?Ie:(bt||ie.notifyWith(r,[Ce,1,0]),ie.resolveWith(r,[Ce]),!1)},Ce=ie.promise({elem:r,props:n.extend({},d),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},g),originalProperties:d,originalOptions:g,startTime:fn||Rn(),duration:g.duration,tweens:[],createTween:function(Ue,Ie){var Ke=n.Tween(r,Ce.opts,Ue,Ie,Ce.opts.specialEasing[Ue]||Ce.opts.easing);return Ce.tweens.push(Ke),Ke},stop:function(Ue){var Ie=0,Ke=Ue?Ce.tweens.length:0;if(F)return this;for(F=!0;Ie<Ke;Ie++)Ce.tweens[Ie].run(1);return Ue?(ie.notifyWith(r,[Ce,1,0]),ie.resolveWith(r,[Ce,Ue])):ie.rejectWith(r,[Ce,Ue]),this}}),Fe=Ce.props;for(function(Ue,Ie){var Ke,ht,bt,Ct,jt;for(Ke in Ue)if(bt=Ie[ht=M(Ke)],Ct=Ue[Ke],Array.isArray(Ct)&&(bt=Ct[1],Ct=Ue[Ke]=Ct[0]),Ke!==ht&&(Ue[ht]=Ct,delete Ue[Ke]),(jt=n.cssHooks[ht])&&"expand"in jt)for(Ke in Ct=jt.expand(Ct),delete Ue[ht],Ct)Ke in Ue||(Ue[Ke]=Ct[Ke],Ie[Ke]=bt);else Ie[ht]=bt}(Fe,Ce.opts.specialEasing);B<z;B++)if(C=ln.prefilters[B].call(Ce,r,Fe,Ce.opts))return _(C.stop)&&(n._queueHooks(Ce.elem,Ce.opts.queue).stop=C.stop.bind(C)),C;return n.map(Fe,Gn,Ce),_(Ce.opts.start)&&Ce.opts.start.call(r,Ce),Ce.progress(Ce.opts.progress).done(Ce.opts.done,Ce.opts.complete).fail(Ce.opts.fail).always(Ce.opts.always),n.fx.timer(n.extend(re,{elem:r,anim:Ce,queue:Ce.opts.queue})),Ce}n.Animation=n.extend(ln,{tweeners:{"*":[function(r,d){var g=this.createTween(r,d);return $(g.elem,r,Le.exec(d),g),g}]},tweener:function(r,d){_(r)?(d=r,r=["*"]):r=r.match(je);for(var g,C=0,F=r.length;C<F;C++)(ln.tweeners[g=r[C]]=ln.tweeners[g]||[]).unshift(d)},prefilters:[function(r,d,g){var C,F,B,z,ie,re,Ce,Fe,Ue="width"in d||"height"in d,Ie=this,Ke={},ht=r.style,bt=r.nodeType&&rt(r),Ct=P.get(r,"fxshow");for(C in g.queue||(null==(z=n._queueHooks(r,"fx")).unqueued&&(z.unqueued=0,ie=z.empty.fire,z.empty.fire=function(){z.unqueued||ie()}),z.unqueued++,Ie.always(function(){Ie.always(function(){z.unqueued--,n.queue(r,"fx").length||z.empty.fire()})})),d)if(Wn.test(F=d[C])){if(delete d[C],B=B||"toggle"===F,F===(bt?"hide":"show")){if("show"!==F||!Ct||void 0===Ct[C])continue;bt=!0}Ke[C]=Ct&&Ct[C]||n.style(r,C)}if((re=!n.isEmptyObject(d))||!n.isEmptyObject(Ke))for(C in Ue&&1===r.nodeType&&(g.overflow=[ht.overflow,ht.overflowX,ht.overflowY],null==(Ce=Ct&&Ct.display)&&(Ce=P.get(r,"display")),"none"===(Fe=n.css(r,"display"))&&(Ce?Fe=Ce:(ne([r],!0),Ce=r.style.display||Ce,Fe=n.css(r,"display"),ne([r]))),("inline"===Fe||"inline-block"===Fe&&null!=Ce)&&"none"===n.css(r,"float")&&(re||(Ie.done(function(){ht.display=Ce}),null==Ce&&(Ce="none"===(Fe=ht.display)?"":Fe)),ht.display="inline-block")),g.overflow&&(ht.overflow="hidden",Ie.always(function(){ht.overflow=g.overflow[0],ht.overflowX=g.overflow[1],ht.overflowY=g.overflow[2]})),re=!1,Ke)re||(Ct?"hidden"in Ct&&(bt=Ct.hidden):Ct=P.access(r,"fxshow",{display:Ce}),B&&(Ct.hidden=!bt),bt&&ne([r],!0),Ie.done(function(){for(C in bt||ne([r]),P.remove(r,"fxshow"),Ke)n.style(r,C,Ke[C])})),re=Gn(bt?Ct[C]:0,C,Ie),C in Ct||(Ct[C]=re.start,bt&&(re.end=re.start,re.start=0))}],prefilter:function(r,d){d?ln.prefilters.unshift(r):ln.prefilters.push(r)}}),n.speed=function(r,d,g){var C=r&&"object"==typeof r?n.extend({},r):{complete:g||!g&&d||_(r)&&r,duration:r,easing:g&&d||d&&!_(d)&&d};return n.fx.off?C.duration=0:"number"!=typeof C.duration&&(C.duration=C.duration in n.fx.speeds?n.fx.speeds[C.duration]:n.fx.speeds._default),null!=C.queue&&!0!==C.queue||(C.queue="fx"),C.old=C.complete,C.complete=function(){_(C.old)&&C.old.call(this),C.queue&&n.dequeue(this,C.queue)},C},n.fn.extend({fadeTo:function(r,d,g,C){return this.filter(rt).css("opacity",0).show().end().animate({opacity:d},r,g,C)},animate:function(r,d,g,C){var F=n.isEmptyObject(r),B=n.speed(d,g,C),z=function(){var ie=ln(this,n.extend({},r),B);(F||P.get(this,"finish"))&&ie.stop(!0)};return z.finish=z,F||!1===B.queue?this.each(z):this.queue(B.queue,z)},stop:function(r,d,g){var C=function(F){var B=F.stop;delete F.stop,B(g)};return"string"!=typeof r&&(g=d,d=r,r=void 0),d&&this.queue(r||"fx",[]),this.each(function(){var F=!0,B=null!=r&&r+"queueHooks",z=n.timers,ie=P.get(this);if(B)ie[B]&&ie[B].stop&&C(ie[B]);else for(B in ie)ie[B]&&ie[B].stop&&kn.test(B)&&C(ie[B]);for(B=z.length;B--;)z[B].elem!==this||null!=r&&z[B].queue!==r||(z[B].anim.stop(g),F=!1,z.splice(B,1));!F&&g||n.dequeue(this,r)})},finish:function(r){return!1!==r&&(r=r||"fx"),this.each(function(){var d,g=P.get(this),C=g[r+"queue"],F=g[r+"queueHooks"],B=n.timers,z=C?C.length:0;for(g.finish=!0,n.queue(this,r,[]),F&&F.stop&&F.stop.call(this,!0),d=B.length;d--;)B[d].elem===this&&B[d].queue===r&&(B[d].anim.stop(!0),B.splice(d,1));for(d=0;d<z;d++)C[d]&&C[d].finish&&C[d].finish.call(this);delete g.finish})}}),n.each(["toggle","show","hide"],function(r,d){var g=n.fn[d];n.fn[d]=function(C,F,B){return null==C||"boolean"==typeof C?g.apply(this,arguments):this.animate(yn(d,!0),C,F,B)}}),n.each({slideDown:yn("show"),slideUp:yn("hide"),slideToggle:yn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(r,d){n.fn[r]=function(g,C,F){return this.animate(d,g,C,F)}}),n.timers=[],n.fx.tick=function(){var r,d=0,g=n.timers;for(fn=Date.now();d<g.length;d++)(r=g[d])()||g[d]!==r||g.splice(d--,1);g.length||n.fx.stop(),fn=void 0},n.fx.timer=function(r){n.timers.push(r),n.fx.start()},n.fx.interval=13,n.fx.start=function(){bn||(bn=!0,$n())},n.fx.stop=function(){bn=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(r,d){return r=n.fx&&n.fx.speeds[r]||r,this.queue(d=d||"fx",function(g,C){var F=t.setTimeout(g,r);C.stop=function(){t.clearTimeout(F)}})},sn=c.createElement("input"),Mn=c.createElement("select").appendChild(c.createElement("option")),sn.type="checkbox",T.checkOn=""!==sn.value,T.optSelected=Mn.selected,(sn=c.createElement("input")).value="t",sn.type="radio",T.radioValue="t"===sn.value;var xn,Cn=n.expr.attrHandle;n.fn.extend({attr:function(r,d){return Ne(this,n.attr,r,d,1<arguments.length)},removeAttr:function(r){return this.each(function(){n.removeAttr(this,r)})}}),n.extend({attr:function(r,d,g){var C,F,B=r.nodeType;if(3!==B&&8!==B&&2!==B)return typeof r.getAttribute>"u"?n.prop(r,d,g):(1===B&&n.isXMLDoc(r)||(F=n.attrHooks[d.toLowerCase()]||(n.expr.match.bool.test(d)?xn:void 0)),void 0!==g?null===g?void n.removeAttr(r,d):F&&"set"in F&&void 0!==(C=F.set(r,g,d))?C:(r.setAttribute(d,g+""),g):F&&"get"in F&&null!==(C=F.get(r,d))?C:null==(C=n.find.attr(r,d))?void 0:C)},attrHooks:{type:{set:function(r,d){if(!T.radioValue&&"radio"===d&&x(r,"input")){var g=r.value;return r.setAttribute("type",d),g&&(r.value=g),d}}}},removeAttr:function(r,d){var g,C=0,F=d&&d.match(je);if(F&&1===r.nodeType)for(;g=F[C++];)r.removeAttribute(g)}}),xn={set:function(r,d,g){return!1===d?n.removeAttr(r,g):r.setAttribute(g,g),g}},n.each(n.expr.match.bool.source.match(/\w+/g),function(r,d){var g=Cn[d]||n.find.attr;Cn[d]=function(C,F,B){var z,ie,re=F.toLowerCase();return B||(ie=Cn[re],Cn[re]=z,z=null!=g(C,F,B)?re:null,Cn[re]=ie),z}});var Kn=/^(?:input|select|textarea|button)$/i,qn=/^(?:a|area)$/i;function Tn(r){return(r.match(je)||[]).join(" ")}function Xt(r){return r.getAttribute&&r.getAttribute("class")||""}function be(r){return Array.isArray(r)?r:"string"==typeof r&&r.match(je)||[]}n.fn.extend({prop:function(r,d){return Ne(this,n.prop,r,d,1<arguments.length)},removeProp:function(r){return this.each(function(){delete this[n.propFix[r]||r]})}}),n.extend({prop:function(r,d,g){var C,F,B=r.nodeType;if(3!==B&&8!==B&&2!==B)return 1===B&&n.isXMLDoc(r)||(F=n.propHooks[d=n.propFix[d]||d]),void 0!==g?F&&"set"in F&&void 0!==(C=F.set(r,g,d))?C:r[d]=g:F&&"get"in F&&null!==(C=F.get(r,d))?C:r[d]},propHooks:{tabIndex:{get:function(r){var d=n.find.attr(r,"tabindex");return d?parseInt(d,10):Kn.test(r.nodeName)||qn.test(r.nodeName)&&r.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),T.optSelected||(n.propHooks.selected={get:function(r){return null},set:function(r){}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this}),n.fn.extend({addClass:function(r){var d,g,C,F,B,z;return _(r)?this.each(function(ie){n(this).addClass(r.call(this,ie,Xt(this)))}):(d=be(r)).length?this.each(function(){if(C=Xt(this),g=1===this.nodeType&&" "+Tn(C)+" "){for(B=0;B<d.length;B++)g.indexOf(" "+(F=d[B])+" ")<0&&(g+=F+" ");z=Tn(g),C!==z&&this.setAttribute("class",z)}}):this},removeClass:function(r){var d,g,C,F,B,z;return _(r)?this.each(function(ie){n(this).removeClass(r.call(this,ie,Xt(this)))}):arguments.length?(d=be(r)).length?this.each(function(){if(C=Xt(this),g=1===this.nodeType&&" "+Tn(C)+" "){for(B=0;B<d.length;B++)for(F=d[B];-1<g.indexOf(" "+F+" ");)g=g.replace(" "+F+" "," ");z=Tn(g),C!==z&&this.setAttribute("class",z)}}):this:this.attr("class","")},toggleClass:function(r,d){var g,C,F,B,z=typeof r,ie="string"===z||Array.isArray(r);return _(r)?this.each(function(re){n(this).toggleClass(r.call(this,re,Xt(this),d),d)}):"boolean"==typeof d&&ie?d?this.addClass(r):this.removeClass(r):(g=be(r),this.each(function(){if(ie)for(B=n(this),F=0;F<g.length;F++)B.hasClass(C=g[F])?B.removeClass(C):B.addClass(C);else void 0!==r&&"boolean"!==z||((C=Xt(this))&&P.set(this,"__className__",C),this.setAttribute&&this.setAttribute("class",C||!1===r?"":P.get(this,"__className__")||""))}))},hasClass:function(r){var d,g,C=0;for(d=" "+r+" ";g=this[C++];)if(1===g.nodeType&&-1<(" "+Tn(Xt(g))+" ").indexOf(d))return!0;return!1}});var ue=/\r/g;n.fn.extend({val:function(r){var d,g,C,F=this[0];return arguments.length?(C=_(r),this.each(function(B){var z;1===this.nodeType&&(null==(z=C?r.call(this,B,n(this).val()):r)?z="":"number"==typeof z?z+="":Array.isArray(z)&&(z=n.map(z,function(ie){return null==ie?"":ie+""})),(d=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()])&&"set"in d&&void 0!==d.set(this,z,"value")||(this.value=z))})):F?(d=n.valHooks[F.type]||n.valHooks[F.nodeName.toLowerCase()])&&"get"in d&&void 0!==(g=d.get(F,"value"))?g:"string"==typeof(g=F.value)?g.replace(ue,""):g??"":void 0}}),n.extend({valHooks:{option:{get:function(r){return n.find.attr(r,"value")??Tn(n.text(r))}},select:{get:function(r){var d,g,C,F=r.options,B=r.selectedIndex,z="select-one"===r.type,ie=z?null:[],re=z?B+1:F.length;for(C=B<0?re:z?B:0;C<re;C++)if(((g=F[C]).selected||C===B)&&!g.disabled&&(!g.parentNode.disabled||!x(g.parentNode,"optgroup"))){if(d=n(g).val(),z)return d;ie.push(d)}return ie},set:function(r,d){for(var g,C,F=r.options,B=n.makeArray(d),z=F.length;z--;)((C=F[z]).selected=-1<n.inArray(n.valHooks.option.get(C),B))&&(g=!0);return g||(r.selectedIndex=-1),B}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(r,d){if(Array.isArray(d))return r.checked=-1<n.inArray(n(r).val(),d)}},T.checkOn||(n.valHooks[this].get=function(r){return null===r.getAttribute("value")?"on":r.value})});var b=t.location,W={guid:Date.now()},ee=/\?/;n.parseXML=function(r){var d,g;if(!r||"string"!=typeof r)return null;try{d=(new t.DOMParser).parseFromString(r,"text/xml")}catch{}return g=d&&d.getElementsByTagName("parsererror")[0],d&&!g||n.error("Invalid XML: "+(g?n.map(g.childNodes,function(C){return C.textContent}).join("\n"):r)),d};var Te=/^(?:focusinfocus|focusoutblur)$/,De=function(r){r.stopPropagation()};n.extend(n.event,{trigger:function(r,d,g,C){var F,B,z,ie,re,Ce,Fe,Ue,Ie=[g||c],Ke=w.call(r,"type")?r.type:r,ht=w.call(r,"namespace")?r.namespace.split("."):[];if(B=Ue=z=g=g||c,3!==g.nodeType&&8!==g.nodeType&&!Te.test(Ke+n.event.triggered)&&(-1<Ke.indexOf(".")&&(Ke=(ht=Ke.split(".")).shift(),ht.sort()),re=Ke.indexOf(":")<0&&"on"+Ke,(r=r[n.expando]?r:new n.Event(Ke,"object"==typeof r&&r)).isTrigger=C?2:3,r.namespace=ht.join("."),r.rnamespace=r.namespace?new RegExp("(^|\\.)"+ht.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,r.result=void 0,r.target||(r.target=g),d=null==d?[r]:n.makeArray(d,[r]),Fe=n.event.special[Ke]||{},C||!Fe.trigger||!1!==Fe.trigger.apply(g,d))){if(!C&&!Fe.noBubble&&!A(g)){for(Te.test((ie=Fe.delegateType||Ke)+Ke)||(B=B.parentNode);B;B=B.parentNode)Ie.push(B),z=B;z===(g.ownerDocument||c)&&Ie.push(z.defaultView||z.parentWindow||t)}for(F=0;(B=Ie[F++])&&!r.isPropagationStopped();)Ue=B,r.type=1<F?ie:Fe.bindType||Ke,(Ce=(P.get(B,"events")||Object.create(null))[r.type]&&P.get(B,"handle"))&&Ce.apply(B,d),(Ce=re&&B[re])&&Ce.apply&&U(B)&&(r.result=Ce.apply(B,d),!1===r.result&&r.preventDefault());return r.type=Ke,C||r.isDefaultPrevented()||Fe._default&&!1!==Fe._default.apply(Ie.pop(),d)||!U(g)||re&&_(g[Ke])&&!A(g)&&((z=g[re])&&(g[re]=null),n.event.triggered=Ke,r.isPropagationStopped()&&Ue.addEventListener(Ke,De),g[Ke](),r.isPropagationStopped()&&Ue.removeEventListener(Ke,De),n.event.triggered=void 0,z&&(g[re]=z)),r.result}},simulate:function(r,d,g){var C=n.extend(new n.Event,g,{type:r,isSimulated:!0});n.event.trigger(C,null,d)}}),n.fn.extend({trigger:function(r,d){return this.each(function(){n.event.trigger(r,d,this)})},triggerHandler:function(r,d){var g=this[0];if(g)return n.event.trigger(r,d,g,!0)}});var it=/\[\]$/,ft=/\r?\n/g,$t=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;function Qt(r,d,g,C){var F;if(Array.isArray(d))n.each(d,function(B,z){g||it.test(r)?C(r,z):Qt(r+"["+("object"==typeof z&&null!=z?B:"")+"]",z,g,C)});else if(g||"object"!==s(d))C(r,d);else for(F in d)Qt(r+"["+F+"]",d[F],g,C)}n.param=function(r,d){var g,C=[],F=function(B,z){var ie=_(z)?z():z;C[C.length]=encodeURIComponent(B)+"="+encodeURIComponent(ie??"")};if(null==r)return"";if(Array.isArray(r)||r.jquery&&!n.isPlainObject(r))n.each(r,function(){F(this.name,this.value)});else for(g in r)Qt(g,r[g],d,F);return C.join("&")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var r=n.prop(this,"elements");return r?n.makeArray(r):this}).filter(function(){var r=this.type;return this.name&&!n(this).is(":disabled")&&Nt.test(this.nodeName)&&!$t.test(r)&&(this.checked||!N.test(r))}).map(function(r,d){var g=n(this).val();return null==g?null:Array.isArray(g)?n.map(g,function(C){return{name:d.name,value:C.replace(ft,"\r\n")}}):{name:d.name,value:g.replace(ft,"\r\n")}}).get()}});var Ln=/%20/g,Bn=/#.*$/,er=/([?&])_=[^&]*/,sr=/^(.*?):[ \t]*([^\r\n]*)$/gm,tr=/^(?:GET|HEAD)$/,lr=/^\/\//,Vn={},Xn={},Qn="*/".concat("*"),nr=c.createElement("a");function dr(r){return function(d,g){"string"!=typeof d&&(g=d,d="*");var C,F=0,B=d.toLowerCase().match(je)||[];if(_(g))for(;C=B[F++];)"+"===C[0]?(C=C.slice(1)||"*",(r[C]=r[C]||[]).unshift(g)):(r[C]=r[C]||[]).push(g)}}function Tr(r,d,g,C){var F={},B=r===Xn;function z(ie){var re;return F[ie]=!0,n.each(r[ie]||[],function(Ce,Fe){var Ue=Fe(d,g,C);return"string"!=typeof Ue||B||F[Ue]?B?!(re=Ue):void 0:(d.dataTypes.unshift(Ue),z(Ue),!1)}),re}return z(d.dataTypes[0])||!F["*"]&&z("*")}function gr(r,d){var g,C,F=n.ajaxSettings.flatOptions||{};for(g in d)void 0!==d[g]&&((F[g]?r:C||(C={}))[g]=d[g]);return C&&n.extend(!0,r,C),r}nr.href=b.href,n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:b.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(b.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(r,d){return d?gr(gr(r,n.ajaxSettings),d):gr(n.ajaxSettings,r)},ajaxPrefilter:dr(Vn),ajaxTransport:dr(Xn),ajax:function(r,d){"object"==typeof r&&(d=r,r=void 0);var g,C,F,B,z,ie,re,Ce,Fe,Ue,Ie=n.ajaxSetup({},d=d||{}),Ke=Ie.context||Ie,ht=Ie.context&&(Ke.nodeType||Ke.jquery)?n(Ke):n.event,bt=n.Deferred(),Ct=n.Callbacks("once memory"),jt=Ie.statusCode||{},rn={},Nn={},On="canceled",xt={readyState:0,getResponseHeader:function(kt){var zt;if(re){if(!B)for(B={};zt=sr.exec(F);)B[zt[1].toLowerCase()+" "]=(B[zt[1].toLowerCase()+" "]||[]).concat(zt[2]);zt=B[kt.toLowerCase()+" "]}return null==zt?null:zt.join(", ")},getAllResponseHeaders:function(){return re?F:null},setRequestHeader:function(kt,zt){return null==re&&(kt=Nn[kt.toLowerCase()]=Nn[kt.toLowerCase()]||kt,rn[kt]=zt),this},overrideMimeType:function(kt){return null==re&&(Ie.mimeType=kt),this},statusCode:function(kt){var zt;if(kt)if(re)xt.always(kt[xt.status]);else for(zt in kt)jt[zt]=[jt[zt],kt[zt]];return this},abort:function(kt){var zt=kt||On;return g&&g.abort(zt),zn(0,zt),this}};if(bt.promise(xt),Ie.url=((r||Ie.url||b.href)+"").replace(lr,b.protocol+"//"),Ie.type=d.method||d.type||Ie.method||Ie.type,Ie.dataTypes=(Ie.dataType||"*").toLowerCase().match(je)||[""],null==Ie.crossDomain){ie=c.createElement("a");try{ie.href=Ie.url,ie.href=ie.href,Ie.crossDomain=nr.protocol+"//"+nr.host!=ie.protocol+"//"+ie.host}catch{Ie.crossDomain=!0}}if(Ie.data&&Ie.processData&&"string"!=typeof Ie.data&&(Ie.data=n.param(Ie.data,Ie.traditional)),Tr(Vn,Ie,d,xt),re)return xt;for(Fe in(Ce=n.event&&Ie.global)&&0==n.active++&&n.event.trigger("ajaxStart"),Ie.type=Ie.type.toUpperCase(),Ie.hasContent=!tr.test(Ie.type),C=Ie.url.replace(Bn,""),Ie.hasContent?Ie.data&&Ie.processData&&0===(Ie.contentType||"").indexOf("application/x-www-form-urlencoded")&&(Ie.data=Ie.data.replace(Ln,"+")):(Ue=Ie.url.slice(C.length),Ie.data&&(Ie.processData||"string"==typeof Ie.data)&&(C+=(ee.test(C)?"&":"?")+Ie.data,delete Ie.data),!1===Ie.cache&&(C=C.replace(er,"$1"),Ue=(ee.test(C)?"&":"?")+"_="+W.guid+++Ue),Ie.url=C+Ue),Ie.ifModified&&(n.lastModified[C]&&xt.setRequestHeader("If-Modified-Since",n.lastModified[C]),n.etag[C]&&xt.setRequestHeader("If-None-Match",n.etag[C])),(Ie.data&&Ie.hasContent&&!1!==Ie.contentType||d.contentType)&&xt.setRequestHeader("Content-Type",Ie.contentType),xt.setRequestHeader("Accept",Ie.dataTypes[0]&&Ie.accepts[Ie.dataTypes[0]]?Ie.accepts[Ie.dataTypes[0]]+("*"!==Ie.dataTypes[0]?", "+Qn+"; q=0.01":""):Ie.accepts["*"]),Ie.headers)xt.setRequestHeader(Fe,Ie.headers[Fe]);if(Ie.beforeSend&&(!1===Ie.beforeSend.call(Ke,xt,Ie)||re))return xt.abort();if(On="abort",Ct.add(Ie.complete),xt.done(Ie.success),xt.fail(Ie.error),g=Tr(Xn,Ie,d,xt)){if(xt.readyState=1,Ce&&ht.trigger("ajaxSend",[xt,Ie]),re)return xt;Ie.async&&0<Ie.timeout&&(z=t.setTimeout(function(){xt.abort("timeout")},Ie.timeout));try{re=!1,g.send(rn,zn)}catch(kt){if(re)throw kt;zn(-1,kt)}}else zn(-1,"No Transport");function zn(kt,zt,ir,vr){var In,or,Fn,Pn,Zn,An=zt;re||(re=!0,z&&t.clearTimeout(z),g=void 0,F=vr||"",xt.readyState=0<kt?4:0,In=200<=kt&&kt<300||304===kt,ir&&(Pn=function(on,Zt,pn){for(var Hn,hn,mt,Yt,Gt=on.contents,Ut=on.dataTypes;"*"===Ut[0];)Ut.shift(),void 0===Hn&&(Hn=on.mimeType||Zt.getResponseHeader("Content-Type"));if(Hn)for(hn in Gt)if(Gt[hn]&&Gt[hn].test(Hn)){Ut.unshift(hn);break}if(Ut[0]in pn)mt=Ut[0];else{for(hn in pn){if(!Ut[0]||on.converters[hn+" "+Ut[0]]){mt=hn;break}Yt||(Yt=hn)}mt=mt||Yt}if(mt)return mt!==Ut[0]&&Ut.unshift(mt),pn[mt]}(Ie,xt,ir)),!In&&-1<n.inArray("script",Ie.dataTypes)&&n.inArray("json",Ie.dataTypes)<0&&(Ie.converters["text script"]=function(){}),Pn=function(on,Zt,pn,Hn){var hn,mt,Yt,Gt,Ut,Dn={},Jn=on.dataTypes.slice();if(Jn[1])for(Yt in on.converters)Dn[Yt.toLowerCase()]=on.converters[Yt];for(mt=Jn.shift();mt;)if(on.responseFields[mt]&&(pn[on.responseFields[mt]]=Zt),!Ut&&Hn&&on.dataFilter&&(Zt=on.dataFilter(Zt,on.dataType)),Ut=mt,mt=Jn.shift())if("*"===mt)mt=Ut;else if("*"!==Ut&&Ut!==mt){if(!(Yt=Dn[Ut+" "+mt]||Dn["* "+mt]))for(hn in Dn)if((Gt=hn.split(" "))[1]===mt&&(Yt=Dn[Ut+" "+Gt[0]]||Dn["* "+Gt[0]])){!0===Yt?Yt=Dn[hn]:!0!==Dn[hn]&&(mt=Gt[0],Jn.unshift(Gt[1]));break}if(!0!==Yt)if(Yt&&on.throws)Zt=Yt(Zt);else try{Zt=Yt(Zt)}catch(cr){return{state:"parsererror",error:Yt?cr:"No conversion from "+Ut+" to "+mt}}}return{state:"success",data:Zt}}(Ie,Pn,xt,In),In?(Ie.ifModified&&((Zn=xt.getResponseHeader("Last-Modified"))&&(n.lastModified[C]=Zn),(Zn=xt.getResponseHeader("etag"))&&(n.etag[C]=Zn)),204===kt||"HEAD"===Ie.type?An="nocontent":304===kt?An="notmodified":(An=Pn.state,or=Pn.data,In=!(Fn=Pn.error))):(Fn=An,!kt&&An||(An="error",kt<0&&(kt=0))),xt.status=kt,xt.statusText=(zt||An)+"",In?bt.resolveWith(Ke,[or,An,xt]):bt.rejectWith(Ke,[xt,An,Fn]),xt.statusCode(jt),jt=void 0,Ce&&ht.trigger(In?"ajaxSuccess":"ajaxError",[xt,Ie,In?or:Fn]),Ct.fireWith(Ke,[xt,An]),Ce&&(ht.trigger("ajaxComplete",[xt,Ie]),--n.active||n.event.trigger("ajaxStop")))}return xt},getJSON:function(r,d,g){return n.get(r,d,g,"json")},getScript:function(r,d){return n.get(r,void 0,d,"script")}}),n.each(["get","post"],function(r,d){n[d]=function(g,C,F,B){return _(C)&&(B=B||F,F=C,C=void 0),n.ajax(n.extend({url:g,type:d,dataType:B,data:C,success:F},n.isPlainObject(g)&&g))}}),n.ajaxPrefilter(function(r){var d;for(d in r.headers)"content-type"===d.toLowerCase()&&(r.contentType=r.headers[d]||"")}),n._evalUrl=function(r,d,g){return n.ajax({url:r,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(C){n.globalEval(C,d,g)}})},n.fn.extend({wrapAll:function(r){var d;return this[0]&&(_(r)&&(r=r.call(this[0])),d=n(r,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&d.insertBefore(this[0]),d.map(function(){for(var g=this;g.firstElementChild;)g=g.firstElementChild;return g}).append(this)),this},wrapInner:function(r){return _(r)?this.each(function(d){n(this).wrapInner(r.call(this,d))}):this.each(function(){var d=n(this),g=d.contents();g.length?g.wrapAll(r):d.append(r)})},wrap:function(r){var d=_(r);return this.each(function(g){n(this).wrapAll(d?r.call(this,g):r)})},unwrap:function(r){return this.parent(r).not("body").each(function(){n(this).replaceWith(this.childNodes)}),this}}),n.expr.pseudos.hidden=function(r){return!n.expr.pseudos.visible(r)},n.expr.pseudos.visible=function(r){return!!(r.offsetWidth||r.offsetHeight||r.getClientRects().length)},n.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var Nr={0:200,1223:204},rr=n.ajaxSettings.xhr();T.cors=!!rr&&"withCredentials"in rr,T.ajax=rr=!!rr,n.ajaxTransport(function(r){var d,g;if(T.cors||rr&&!r.crossDomain)return{send:function(C,F){var B,z=r.xhr();if(z.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(B in r.xhrFields)z[B]=r.xhrFields[B];for(B in r.mimeType&&z.overrideMimeType&&z.overrideMimeType(r.mimeType),r.crossDomain||C["X-Requested-With"]||(C["X-Requested-With"]="XMLHttpRequest"),C)z.setRequestHeader(B,C[B]);d=function(ie){return function(){d&&(d=g=z.onload=z.onerror=z.onabort=z.ontimeout=z.onreadystatechange=null,"abort"===ie?z.abort():"error"===ie?"number"!=typeof z.status?F(0,"error"):F(z.status,z.statusText):F(Nr[z.status]||z.status,z.statusText,"text"!==(z.responseType||"text")||"string"!=typeof z.responseText?{binary:z.response}:{text:z.responseText},z.getAllResponseHeaders()))}},z.onload=d(),g=z.onerror=z.ontimeout=d("error"),void 0!==z.onabort?z.onabort=g:z.onreadystatechange=function(){4===z.readyState&&t.setTimeout(function(){d&&g()})},d=d("abort");try{z.send(r.hasContent&&r.data||null)}catch(ie){if(d)throw ie}},abort:function(){d&&d()}}}),n.ajaxPrefilter(function(r){r.crossDomain&&(r.contents.script=!1)}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(r){return n.globalEval(r),r}}}),n.ajaxPrefilter("script",function(r){void 0===r.cache&&(r.cache=!1),r.crossDomain&&(r.type="GET")}),n.ajaxTransport("script",function(r){var d,g;if(r.crossDomain||r.scriptAttrs)return{send:function(C,F){d=n("<script>").attr(r.scriptAttrs||{}).prop({charset:r.scriptCharset,src:r.url}).on("load error",g=function(B){d.remove(),g=null,B&&F("error"===B.type?404:200,B.type)}),c.head.appendChild(d[0])},abort:function(){g&&g()}}});var _r,Sr=[],mr=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var r=Sr.pop()||n.expando+"_"+W.guid++;return this[r]=!0,r}}),n.ajaxPrefilter("json jsonp",function(r,d,g){var C,F,B,z=!1!==r.jsonp&&(mr.test(r.url)?"url":"string"==typeof r.data&&0===(r.contentType||"").indexOf("application/x-www-form-urlencoded")&&mr.test(r.data)&&"data");if(z||"jsonp"===r.dataTypes[0])return C=r.jsonpCallback=_(r.jsonpCallback)?r.jsonpCallback():r.jsonpCallback,z?r[z]=r[z].replace(mr,"$1"+C):!1!==r.jsonp&&(r.url+=(ee.test(r.url)?"&":"?")+r.jsonp+"="+C),r.converters["script json"]=function(){return B||n.error(C+" was not called"),B[0]},r.dataTypes[0]="json",F=t[C],t[C]=function(){B=arguments},g.always(function(){void 0===F?n(t).removeProp(C):t[C]=F,r[C]&&(r.jsonpCallback=d.jsonpCallback,Sr.push(C)),B&&_(F)&&F(B[0]),B=F=void 0}),"script"}),T.createHTMLDocument=((_r=c.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===_r.childNodes.length),n.parseHTML=function(r,d,g){return"string"!=typeof r?[]:("boolean"==typeof d&&(g=d,d=!1),d||(T.createHTMLDocument?((C=(d=c.implementation.createHTMLDocument("")).createElement("base")).href=c.location.href,d.head.appendChild(C)):d=c),B=!g&&[],(F=Oe.exec(r))?[d.createElement(F[1])]:(F=Ae([r],d,B),B&&B.length&&n(B).remove(),n.merge([],F.childNodes)));var C,F,B},n.fn.load=function(r,d,g){var C,F,B,z=this,ie=r.indexOf(" ");return-1<ie&&(C=Tn(r.slice(ie)),r=r.slice(0,ie)),_(d)?(g=d,d=void 0):d&&"object"==typeof d&&(F="POST"),0<z.length&&n.ajax({url:r,type:F||"GET",dataType:"html",data:d}).done(function(re){B=arguments,z.html(C?n("<div>").append(n.parseHTML(re)).find(C):re)}).always(g&&function(re,Ce){z.each(function(){g.apply(this,B||[re.responseText,Ce,re])})}),this},n.expr.pseudos.animated=function(r){return n.grep(n.timers,function(d){return r===d.elem}).length},n.offset={setOffset:function(r,d,g){var C,F,B,z,ie,re,Ce=n.css(r,"position"),Fe=n(r),Ue={};"static"===Ce&&(r.style.position="relative"),ie=Fe.offset(),B=n.css(r,"top"),re=n.css(r,"left"),("absolute"===Ce||"fixed"===Ce)&&-1<(B+re).indexOf("auto")?(z=(C=Fe.position()).top,F=C.left):(z=parseFloat(B)||0,F=parseFloat(re)||0),_(d)&&(d=d.call(r,g,n.extend({},ie))),null!=d.top&&(Ue.top=d.top-ie.top+z),null!=d.left&&(Ue.left=d.left-ie.left+F),"using"in d?d.using.call(r,Ue):Fe.css(Ue)}},n.fn.extend({offset:function(r){if(arguments.length)return void 0===r?this:this.each(function(F){n.offset.setOffset(this,r,F)});var d,g,C=this[0];return C?C.getClientRects().length?{top:(d=C.getBoundingClientRect()).top+(g=C.ownerDocument.defaultView).pageYOffset,left:d.left+g.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var r,d,g,C=this[0],F={top:0,left:0};if("fixed"===n.css(C,"position"))d=C.getBoundingClientRect();else{for(d=this.offset(),g=C.ownerDocument,r=C.offsetParent||g.documentElement;r&&(r===g.body||r===g.documentElement)&&"static"===n.css(r,"position");)r=r.parentNode;r&&r!==C&&1===r.nodeType&&((F=n(r).offset()).top+=n.css(r,"borderTopWidth",!0),F.left+=n.css(r,"borderLeftWidth",!0))}return{top:d.top-F.top-n.css(C,"marginTop",!0),left:d.left-F.left-n.css(C,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var r=this.offsetParent;r&&"static"===n.css(r,"position");)r=r.offsetParent;return r||Je})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(r,d){var g="pageYOffset"===d;n.fn[r]=function(C){return Ne(this,function(F,B,z){var ie;if(A(F)?ie=F:9===F.nodeType&&(ie=F.defaultView),void 0===z)return ie?ie[d]:F[B];ie?ie.scrollTo(g?ie.pageXOffset:z,g?z:ie.pageYOffset):F[B]=z},r,C,arguments.length)}}),n.each(["top","left"],function(r,d){n.cssHooks[d]=qt(T.pixelPosition,function(g,C){if(C)return C=Pt(g,d),Tt.test(C)?n(g).position()[d]+"px":C})}),n.each({Height:"height",Width:"width"},function(r,d){n.each({padding:"inner"+r,content:d,"":"outer"+r},function(g,C){n.fn[C]=function(F,B){var z=arguments.length&&(g||"boolean"!=typeof F),ie=g||(!0===F||!0===B?"margin":"border");return Ne(this,function(re,Ce,Fe){var Ue;return A(re)?0===C.indexOf("outer")?re["inner"+r]:re.document.documentElement["client"+r]:9===re.nodeType?(Ue=re.documentElement,Math.max(re.body["scroll"+r],Ue["scroll"+r],re.body["offset"+r],Ue["offset"+r],Ue["client"+r])):void 0===Fe?n.css(re,Ce,ie):n.style(re,Ce,Fe,ie)},d,z?F:void 0,z)}})}),n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(r,d){n.fn[d]=function(g){return this.on(d,g)}}),n.fn.extend({bind:function(r,d,g){return this.on(r,null,d,g)},unbind:function(r,d){return this.off(r,null,d)},delegate:function(r,d,g,C){return this.on(d,r,g,C)},undelegate:function(r,d,g){return 1===arguments.length?this.off(r,"**"):this.off(d,r||"**",g)},hover:function(r,d){return this.on("mouseenter",r).on("mouseleave",d||r)}}),n.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(r,d){n.fn[d]=function(g,C){return 0<arguments.length?this.on(d,null,g,C):this.trigger(d)}});var Or=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;n.proxy=function(r,d){var g,C,F;if("string"==typeof d&&(g=r[d],d=r,r=g),_(r))return C=i.call(arguments,2),(F=function(){return r.apply(d||this,C.concat(i.call(arguments)))}).guid=r.guid=r.guid||n.guid++,F},n.holdReady=function(r){r?n.readyWait++:n.ready(!0)},n.isArray=Array.isArray,n.parseJSON=JSON.parse,n.nodeName=x,n.isFunction=_,n.isWindow=A,n.camelCase=M,n.type=s,n.now=Date.now,n.isNumeric=function(r){var d=n.type(r);return("number"===d||"string"===d)&&!isNaN(r-parseFloat(r))},n.trim=function(r){return null==r?"":(r+"").replace(Or,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Ir=t.jQuery,Dr=t.$;return n.noConflict=function(r){return t.$===n&&(t.$=Dr),r&&t.jQuery===n&&(t.jQuery=Ir),n},typeof dt>"u"&&(t.jQuery=t.$=n),n}),function(t,dt){"object"==typeof exports&&typeof module<"u"?module.exports=dt():"function"==typeof define&&define.amd?define(dt):t.Popper=dt()}(this,function(){"use strict";function t($){return $&&"[object Function]"==={}.toString.call($)}function dt($,X){if(1!==$.nodeType)return[];var oe=$.ownerDocument.defaultView.getComputedStyle($,null);return X?oe[X]:oe}function e($){return"HTML"===$.nodeName?$:$.parentNode||$.host}function o($){if(!$)return document.body;switch($.nodeName){case"HTML":case"BODY":return $.ownerDocument.body;case"#document":return $.body}var X=dt($);return/(auto|scroll|overlay)/.test(X.overflow+X.overflowY+X.overflowX)?$:o(e($))}function i($){return $&&$.referenceNode?$.referenceNode:$}function y($){return 11===$?Y:10===$?V:Y||V}function E($){if(!$)return document.documentElement;for(var X=y(10)?document.body:null,ne=$.offsetParent||null;ne===X&&$.nextElementSibling;)ne=($=$.nextElementSibling).offsetParent;var oe=ne&&ne.nodeName;return oe&&"BODY"!==oe&&"HTML"!==oe?-1!==["TH","TD","TABLE"].indexOf(ne.nodeName)&&"static"===dt(ne,"position")?E(ne):ne:$?$.ownerDocument.documentElement:document.documentElement}function p($){return null===$.parentNode?$:p($.parentNode)}function L($,X){if(!($&&$.nodeType&&X&&X.nodeType))return document.documentElement;var ne=$.compareDocumentPosition(X)&Node.DOCUMENT_POSITION_FOLLOWING,oe=ne?$:X,xe=ne?X:$,N=document.createRange();N.setStart(oe,0),N.setEnd(xe,0);var h=N.commonAncestorContainer;if($!==h&&X!==h||oe.contains(xe))return function O($){var X=$.nodeName;return"BODY"!==X&&("HTML"===X||E($.firstElementChild)===$)}(h)?h:E(h);var I=p($);return I.host?L(I.host,X):L($,p(X).host)}function w($){var ne="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",oe=$.nodeName;return"BODY"===oe||"HTML"===oe?($.ownerDocument.scrollingElement||$.ownerDocument.documentElement)[ne]:$[ne]}function R($,X){var ne="x"===X?"Left":"Top",oe="Left"==ne?"Right":"Bottom";return parseFloat($["border"+ne+"Width"])+parseFloat($["border"+oe+"Width"])}function T($,X,ne,oe){return fe(X["offset"+$],X["scroll"+$],ne["client"+$],ne["offset"+$],ne["scroll"+$],y(10)?parseInt(ne["offset"+$])+parseInt(oe["margin"+("Height"===$?"Top":"Left")])+parseInt(oe["margin"+("Height"===$?"Bottom":"Right")]):0)}function _($){var X=$.body,ne=$.documentElement,oe=y(10)&&getComputedStyle(ne);return{height:T("Height",X,ne,oe),width:T("Width",X,ne,oe)}}function A($){return Le({},$,{right:$.left+$.width,bottom:$.top+$.height})}function c($){var X={};try{if(y(10)){X=$.getBoundingClientRect();var ne=w($,"top"),oe=w($,"left");X.top+=ne,X.left+=oe,X.bottom+=ne,X.right+=oe}else X=$.getBoundingClientRect()}catch{}var xe={left:X.left,top:X.top,width:X.right-X.left,height:X.bottom-X.top},N="HTML"===$.nodeName?_($.ownerDocument):{},H=$.offsetWidth-(N.width||$.clientWidth||xe.width),Q=$.offsetHeight-(N.height||$.clientHeight||xe.height);if(H||Q){var ve=dt($);H-=R(ve,"x"),Q-=R(ve,"y"),xe.width-=H,xe.height-=Q}return A(xe)}function l($,X){var ne=2<arguments.length&&void 0!==arguments[2]&&arguments[2],oe=y(10),xe="HTML"===X.nodeName,N=c($),h=c(X),I=o($),H=dt(X),Q=parseFloat(H.borderTopWidth),ve=parseFloat(H.borderLeftWidth);ne&&xe&&(h.top=fe(h.top,0),h.left=fe(h.left,0));var se=A({top:N.top-h.top-Q,left:N.left-h.left-ve,width:N.width,height:N.height});if(se.marginTop=0,se.marginLeft=0,!oe&&xe){var Ae=parseFloat(H.marginTop),we=parseFloat(H.marginLeft);se.top-=Q-Ae,se.bottom-=Q-Ae,se.left-=ve-we,se.right-=ve-we,se.marginTop=Ae,se.marginLeft=we}return(oe&&!ne?X.contains(I):X===I&&"BODY"!==I.nodeName)&&(se=function f($,X){var ne=2<arguments.length&&void 0!==arguments[2]&&arguments[2],oe=w(X,"top"),xe=w(X,"left"),N=ne?-1:1;return $.top+=oe*N,$.bottom+=oe*N,$.left+=xe*N,$.right+=xe*N,$}(se,X)),se}function s($){var X=$.nodeName;if("BODY"===X||"HTML"===X)return!1;if("fixed"===dt($,"position"))return!0;var ne=e($);return!!ne&&s(ne)}function u($){if(!$||!$.parentElement||y())return document.documentElement;for(var X=$.parentElement;X&&"none"===dt(X,"transform");)X=X.parentElement;return X||document.documentElement}function m($,X,ne,oe){var xe=4<arguments.length&&void 0!==arguments[4]&&arguments[4],N={top:0,left:0},h=xe?u($):L($,i(X));if("viewport"===oe)N=function a($){var X=1<arguments.length&&void 0!==arguments[1]&&arguments[1],ne=$.ownerDocument.documentElement,oe=l($,ne),xe=fe(ne.clientWidth,window.innerWidth||0),N=fe(ne.clientHeight,window.innerHeight||0),h=X?0:w(ne),I=X?0:w(ne,"left");return A({top:h-oe.top+oe.marginTop,left:I-oe.left+oe.marginLeft,width:xe,height:N})}(h,xe);else{var I;"scrollParent"===oe?"BODY"===(I=o(e(X))).nodeName&&(I=$.ownerDocument.documentElement):I="window"===oe?$.ownerDocument.documentElement:oe;var H=l(I,h,xe);if("HTML"!==I.nodeName||s(h))N=H;else{var Q=_($.ownerDocument),ve=Q.height,se=Q.width;N.top+=H.top-H.marginTop,N.bottom=ve+H.top,N.left+=H.left-H.marginLeft,N.right=se+H.left}}var Ae="number"==typeof(ne=ne||0);return N.left+=Ae?ne:ne.left||0,N.top+=Ae?ne:ne.top||0,N.right-=Ae?ne:ne.right||0,N.bottom-=Ae?ne:ne.bottom||0,N}function n($){return $.width*$.height}function S($,X,ne,oe,xe){var N=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===$.indexOf("auto"))return $;var h=m(ne,oe,N,xe),I={top:{width:h.width,height:X.top-h.top},right:{width:h.right-X.right,height:h.height},bottom:{width:h.width,height:h.bottom-X.bottom},left:{width:X.left-h.left,height:h.height}},H=Object.keys(I).map(function(Ae){return Le({key:Ae},I[Ae],{area:n(I[Ae])})}).sort(function(Ae,we){return we.area-Ae.area}),Q=H.filter(function(Ae){return Ae.width>=ne.clientWidth&&Ae.height>=ne.clientHeight}),ve=0<Q.length?Q[0].key:H[0].key,se=$.split("-")[1];return ve+(se?"-"+se:"")}function x($,X,ne){var oe=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return l(ne,oe?u(X):L(X,i(ne)),oe)}function q($){var ne=$.ownerDocument.defaultView.getComputedStyle($),oe=parseFloat(ne.marginTop||0)+parseFloat(ne.marginBottom||0),xe=parseFloat(ne.marginLeft||0)+parseFloat(ne.marginRight||0);return{width:$.offsetWidth+xe,height:$.offsetHeight+oe}}function v($){var X={left:"right",right:"left",bottom:"top",top:"bottom"};return $.replace(/left|right|bottom|top/g,function(ne){return X[ne]})}function D($,X,ne){ne=ne.split("-")[0];var oe=q($),xe={width:oe.width,height:oe.height},N=-1!==["right","left"].indexOf(ne),h=N?"top":"left",I=N?"left":"top",H=N?"height":"width",Q=N?"width":"height";return xe[h]=X[h]+X[H]/2-oe[H]/2,xe[I]=ne===I?X[I]-oe[Q]:X[v(I)],xe}function G($,X){return Array.prototype.find?$.find(X):$.filter(X)[0]}function te($,X,ne){var oe=void 0===ne?$:$.slice(0,function k($,X,ne){if(Array.prototype.findIndex)return $.findIndex(function(xe){return xe[X]===ne});var oe=G($,function(xe){return xe[X]===ne});return $.indexOf(oe)}($,"name",ne));return oe.forEach(function(xe){xe.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var N=xe.function||xe.fn;xe.enabled&&t(N)&&(X.offsets.popper=A(X.offsets.popper),X.offsets.reference=A(X.offsets.reference),X=N(X,xe))}),X}function J(){if(!this.state.isDestroyed){var $={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};$.offsets.reference=x(this.state,this.popper,this.reference,this.options.positionFixed),$.placement=S(this.options.placement,$.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),$.originalPlacement=$.placement,$.positionFixed=this.options.positionFixed,$.offsets.popper=D(this.popper,$.offsets.reference,$.placement),$.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",$=te(this.modifiers,$),this.state.isCreated?this.options.onUpdate($):(this.state.isCreated=!0,this.options.onCreate($))}}function Ee($,X){return $.some(function(ne){return ne.enabled&&ne.name===X})}function ye($){for(var X=[!1,"ms","Webkit","Moz","O"],ne=$.charAt(0).toUpperCase()+$.slice(1),oe=0;oe<X.length;oe++){var xe=X[oe],N=xe?""+xe+ne:$;if(typeof document.body.style[N]<"u")return N}return null}function pe(){return this.state.isDestroyed=!0,Ee(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[ye("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Re($){var X=$.ownerDocument;return X?X.defaultView:window}function qe($,X,ne,oe){var xe="BODY"===$.nodeName,N=xe?$.ownerDocument.defaultView:$;N.addEventListener(X,ne,{passive:!0}),xe||qe(o(N.parentNode),X,ne,oe),oe.push(N)}function Oe($,X,ne,oe){ne.updateBound=oe,Re($).addEventListener("resize",ne.updateBound,{passive:!0});var xe=o($);return qe(xe,"scroll",ne.updateBound,ne.scrollParents),ne.scrollElement=xe,ne.eventsEnabled=!0,ne}function de(){this.state.eventsEnabled||(this.state=Oe(this.reference,0,this.state,this.scheduleUpdate))}function le(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function $e($,X){return Re($).removeEventListener("resize",X.updateBound),X.scrollParents.forEach(function(ne){ne.removeEventListener("scroll",X.updateBound)}),X.updateBound=null,X.scrollParents=[],X.scrollElement=null,X.eventsEnabled=!1,X}(this.reference,this.state))}function He($){return""!==$&&!isNaN(parseFloat($))&&isFinite($)}function ce($,X){Object.keys(X).forEach(function(ne){var oe="";-1!==["width","height","top","right","bottom","left"].indexOf(ne)&&He(X[ne])&&(oe="px"),$.style[ne]=X[ne]+oe})}function ae($,X,ne){var oe=G($,function(h){return h.name===X}),xe=!!oe&&$.some(function(h){return h.name===ne&&h.enabled&&h.order<oe.order});if(!xe){var N="`"+X+"`";console.warn("`"+ne+"` modifier is required by "+N+" modifier in order to work, be sure to include it before "+N+"!")}return xe}function ze($){var X=1<arguments.length&&void 0!==arguments[1]&&arguments[1],ne=et.indexOf($),oe=et.slice(ne+1).concat(et.slice(0,ne));return X?oe.reverse():oe}var Ne=Math.min,Ve=Math.floor,j=Math.round,fe=Math.max,M=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",U=function(){for(var $=["Edge","Trident","Firefox"],X=0;X<$.length;X+=1)if(M&&0<=navigator.userAgent.indexOf($[X]))return 1;return 0}(),P=M&&window.Promise?function($){var X=!1;return function(){X||(X=!0,window.Promise.resolve().then(function(){X=!1,$()}))}}:function($){var X=!1;return function(){X||(X=!0,setTimeout(function(){X=!1,$()},U))}},Y=M&&!(!window.MSInputMethodContext||!document.documentMode),V=M&&/MSIE 10/.test(navigator.userAgent),_e=function(){function $(X,ne){for(var oe,xe=0;xe<ne.length;xe++)(oe=ne[xe]).enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(X,oe.key,oe)}return function(X,ne,oe){return ne&&$(X.prototype,ne),oe&&$(X,oe),X}}(),me=function($,X,ne){return X in $?Object.defineProperty($,X,{value:ne,enumerable:!0,configurable:!0,writable:!0}):$[X]=ne,$},Le=Object.assign||function($){for(var X,ne=1;ne<arguments.length;ne++)for(var oe in X=arguments[ne])Object.prototype.hasOwnProperty.call(X,oe)&&($[oe]=X[oe]);return $},Qe=M&&/Firefox/i.test(navigator.userAgent),Je=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],et=Je.slice(3),rt=function(){function $(X,ne){var oe=this,xe=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};(function($,X){if(!($ instanceof X))throw new TypeError("Cannot call a class as a function")})(this,$),this.scheduleUpdate=function(){return requestAnimationFrame(oe.update)},this.update=P(this.update.bind(this)),this.options=Le({},$.Defaults,xe),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=X&&X.jquery?X[0]:X,this.popper=ne&&ne.jquery?ne[0]:ne,this.options.modifiers={},Object.keys(Le({},$.Defaults.modifiers,xe.modifiers)).forEach(function(h){oe.options.modifiers[h]=Le({},$.Defaults.modifiers[h]||{},xe.modifiers?xe.modifiers[h]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(h){return Le({name:h},oe.options.modifiers[h])}).sort(function(h,I){return h.order-I.order}),this.modifiers.forEach(function(h){h.enabled&&t(h.onLoad)&&h.onLoad(oe.reference,oe.popper,oe.options,h,oe.state)}),this.update();var N=this.options.eventsEnabled;N&&this.enableEventListeners(),this.state.eventsEnabled=N}return _e($,[{key:"update",value:function(){return J.call(this)}},{key:"destroy",value:function(){return pe.call(this)}},{key:"enableEventListeners",value:function(){return de.call(this)}},{key:"disableEventListeners",value:function(){return le.call(this)}}]),$}();return rt.Utils=(typeof window>"u"?global:window).PopperUtils,rt.placements=Je,rt.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function($){var X=$.placement,ne=X.split("-")[0],oe=X.split("-")[1];if(oe){var xe=$.offsets,N=xe.reference,h=xe.popper,I=-1!==["bottom","top"].indexOf(ne),H=I?"left":"top",Q=I?"width":"height",ve={start:me({},H,N[H]),end:me({},H,N[H]+N[Q]-h[Q])};$.offsets.popper=Le({},h,ve[oe])}return $}},offset:{order:200,enabled:!0,fn:function lt($,X){var ne,oe=X.offset,N=$.offsets,h=N.popper,I=N.reference,H=$.placement.split("-")[0];return ne=He(+oe)?[+oe,0]:function Ye($,X,ne,oe){var xe=[0,0],N=-1!==["right","left"].indexOf(oe),h=$.split(/(\+|\-)/).map(function(ve){return ve.trim()}),I=h.indexOf(G(h,function(ve){return-1!==ve.search(/,|\s/)}));h[I]&&-1===h[I].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var H=/\s*,\s*|\s+/,Q=-1===I?[h]:[h.slice(0,I).concat([h[I].split(H)[0]]),[h[I].split(H)[1]].concat(h.slice(I+1))];return Q=Q.map(function(ve,se){var Ae=(1===se?!N:N)?"height":"width",we=!1;return ve.reduce(function(Me,Ge){return""===Me[Me.length-1]&&-1!==["+","-"].indexOf(Ge)?(Me[Me.length-1]=Ge,we=!0,Me):we?(Me[Me.length-1]+=Ge,we=!1,Me):Me.concat(Ge)},[]).map(function(Me){return function Ze($,X,ne,oe){var xe=$.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),N=+xe[1],h=xe[2];return N?0===h.indexOf("%")?A("%p"===h?ne:oe)[X]/100*N:"vh"===h||"vw"===h?("vh"===h?fe(document.documentElement.clientHeight,window.innerHeight||0):fe(document.documentElement.clientWidth,window.innerWidth||0))/100*N:N:$}(Me,Ae,X,ne)})}),Q.forEach(function(ve,se){ve.forEach(function(Ae,we){He(Ae)&&(xe[se]+=Ae*("-"===ve[we-1]?-1:1))})}),xe}(oe,h,I,H),"left"===H?(h.top+=ne[0],h.left-=ne[1]):"right"===H?(h.top+=ne[0],h.left+=ne[1]):"top"===H?(h.left+=ne[0],h.top-=ne[1]):"bottom"===H&&(h.left+=ne[0],h.top+=ne[1]),$.popper=h,$},offset:0},preventOverflow:{order:300,enabled:!0,fn:function($,X){var ne=X.boundariesElement||E($.instance.popper);$.instance.reference===ne&&(ne=E(ne));var oe=ye("transform"),xe=$.instance.popper.style,N=xe.top,h=xe.left,I=xe[oe];xe.top="",xe.left="",xe[oe]="";var H=m($.instance.popper,$.instance.reference,X.padding,ne,$.positionFixed);xe.top=N,xe.left=h,xe[oe]=I,X.boundaries=H;var ve=$.offsets.popper,se={primary:function(Ae){var we=ve[Ae];return ve[Ae]<H[Ae]&&!X.escapeWithReference&&(we=fe(ve[Ae],H[Ae])),me({},Ae,we)},secondary:function(Ae){var we="right"===Ae?"left":"top",Me=ve[we];return ve[Ae]>H[Ae]&&!X.escapeWithReference&&(Me=Ne(ve[we],H[Ae]-("right"===Ae?ve.width:ve.height))),me({},we,Me)}};return X.priority.forEach(function(Ae){var we=-1===["left","top"].indexOf(Ae)?"secondary":"primary";ve=Le({},ve,se[we](Ae))}),$.offsets.popper=ve,$},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function($){var X=$.offsets,ne=X.popper,oe=X.reference,xe=$.placement.split("-")[0],N=Ve,h=-1!==["top","bottom"].indexOf(xe),I=h?"right":"bottom",H=h?"left":"top",Q=h?"width":"height";return ne[I]<N(oe[H])&&($.offsets.popper[H]=N(oe[H])-ne[Q]),ne[H]>N(oe[I])&&($.offsets.popper[H]=N(oe[I])),$}},arrow:{order:500,enabled:!0,fn:function($,X){var ne;if(!ae($.instance.modifiers,"arrow","keepTogether"))return $;var oe=X.element;if("string"==typeof oe){if(!(oe=$.instance.popper.querySelector(oe)))return $}else if(!$.instance.popper.contains(oe))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),$;var xe=$.placement.split("-")[0],N=$.offsets,h=N.popper,I=N.reference,H=-1!==["left","right"].indexOf(xe),Q=H?"height":"width",ve=H?"Top":"Left",se=ve.toLowerCase(),Ae=H?"left":"top",we=H?"bottom":"right",Me=q(oe)[Q];I[we]-Me<h[se]&&($.offsets.popper[se]-=h[se]-(I[we]-Me)),I[se]+Me>h[we]&&($.offsets.popper[se]+=I[se]+Me-h[we]),$.offsets.popper=A($.offsets.popper);var Ge=I[se]+I[Q]/2-Me/2,tt=dt($.instance.popper),Xe=parseFloat(tt["margin"+ve]),gt=parseFloat(tt["border"+ve+"Width"]),ct=Ge-$.offsets.popper[se]-Xe-gt;return ct=fe(Ne(h[Q]-Me,ct),0),$.arrowElement=oe,$.offsets.arrow=(me(ne={},se,j(ct)),me(ne,Ae,""),ne),$},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function($,X){if(Ee($.instance.modifiers,"inner")||$.flipped&&$.placement===$.originalPlacement)return $;var ne=m($.instance.popper,$.instance.reference,X.padding,X.boundariesElement,$.positionFixed),oe=$.placement.split("-")[0],xe=v(oe),N=$.placement.split("-")[1]||"",h=[];switch(X.behavior){case"flip":h=[oe,xe];break;case"clockwise":h=ze(oe);break;case"counterclockwise":h=ze(oe,!0);break;default:h=X.behavior}return h.forEach(function(I,H){if(oe!==I||h.length===H+1)return $;oe=$.placement.split("-")[0],xe=v(oe);var Q=$.offsets.popper,ve=$.offsets.reference,se=Ve,Ae="left"===oe&&se(Q.right)>se(ve.left)||"right"===oe&&se(Q.left)<se(ve.right)||"top"===oe&&se(Q.bottom)>se(ve.top)||"bottom"===oe&&se(Q.top)<se(ve.bottom),we=se(Q.left)<se(ne.left),Me=se(Q.right)>se(ne.right),Ge=se(Q.top)<se(ne.top),tt=se(Q.bottom)>se(ne.bottom),Xe="left"===oe&&we||"right"===oe&&Me||"top"===oe&&Ge||"bottom"===oe&&tt,gt=-1!==["top","bottom"].indexOf(oe),At=!!X.flipVariations&&(gt&&"start"===N&&we||gt&&"end"===N&&Me||!gt&&"start"===N&&Ge||!gt&&"end"===N&&tt)||!!X.flipVariationsByContent&&(gt&&"start"===N&&Me||gt&&"end"===N&&we||!gt&&"start"===N&&tt||!gt&&"end"===N&&Ge);(Ae||Xe||At)&&($.flipped=!0,(Ae||Xe)&&(oe=h[H+1]),At&&(N=function Se($){return"end"===$?"start":"start"===$?"end":$}(N)),$.placement=oe+(N?"-"+N:""),$.offsets.popper=Le({},$.offsets.popper,D($.instance.popper,$.offsets.reference,$.placement)),$=te($.instance.modifiers,$,"flip"))}),$},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function($){var X=$.placement,ne=X.split("-")[0],oe=$.offsets,xe=oe.popper,N=oe.reference,h=-1!==["left","right"].indexOf(ne),I=-1===["top","left"].indexOf(ne);return xe[h?"left":"top"]=N[ne]-(I?xe[h?"width":"height"]:0),$.placement=v(X),$.offsets.popper=A(xe),$}},hide:{order:800,enabled:!0,fn:function($){if(!ae($.instance.modifiers,"hide","preventOverflow"))return $;var X=$.offsets.reference,ne=G($.instance.modifiers,function(oe){return"preventOverflow"===oe.name}).boundaries;if(X.bottom<ne.top||X.left>ne.right||X.top>ne.bottom||X.right<ne.left){if(!0===$.hide)return $;$.hide=!0,$.attributes["x-out-of-boundaries"]=""}else{if(!1===$.hide)return $;$.hide=!1,$.attributes["x-out-of-boundaries"]=!1}return $}},computeStyle:{order:850,enabled:!0,fn:function($,X){var ne=X.x,oe=X.y,xe=$.offsets.popper,N=G($.instance.modifiers,function(ct){return"applyStyle"===ct.name}).gpuAcceleration;void 0!==N&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var h,I,H=void 0===N?X.gpuAcceleration:N,Q=E($.instance.popper),ve=c(Q),se={position:xe.position},Ae=function je($,X){var ne=$.offsets,oe=ne.popper,N=j,h=function(we){return we},I=N(ne.reference.width),H=N(oe.width),Q=-1!==["left","right"].indexOf($.placement),ve=-1!==$.placement.indexOf("-"),se=X?Q||ve||I%2==H%2?N:Ve:h,Ae=X?N:h;return{left:se(I%2==1&&H%2==1&&!ve&&X?oe.left-1:oe.left),top:Ae(oe.top),bottom:Ae(oe.bottom),right:se(oe.right)}}($,2>window.devicePixelRatio||!Qe),we="bottom"===ne?"top":"bottom",Me="right"===oe?"left":"right",Ge=ye("transform");if(I="bottom"==we?"HTML"===Q.nodeName?-Q.clientHeight+Ae.bottom:-ve.height+Ae.bottom:Ae.top,h="right"==Me?"HTML"===Q.nodeName?-Q.clientWidth+Ae.right:-ve.width+Ae.right:Ae.left,H&&Ge)se[Ge]="translate3d("+h+"px, "+I+"px, 0)",se[we]=0,se[Me]=0,se.willChange="transform";else{var Xe="right"==Me?-1:1;se[we]=I*("bottom"==we?-1:1),se[Me]=h*Xe,se.willChange=we+", "+Me}return $.attributes=Le({},{"x-placement":$.placement},$.attributes),$.styles=Le({},se,$.styles),$.arrowStyles=Le({},$.offsets.arrow,$.arrowStyles),$},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function($){return ce($.instance.popper,$.styles),function Be($,X){Object.keys(X).forEach(function(ne){!1===X[ne]?$.removeAttribute(ne):$.setAttribute(ne,X[ne])})}($.instance.popper,$.attributes),$.arrowElement&&Object.keys($.arrowStyles).length&&ce($.arrowElement,$.arrowStyles),$},onLoad:function($,X,ne,oe,xe){var N=x(xe,X,$,ne.positionFixed),h=S(ne.placement,N,X,$,ne.modifiers.flip.boundariesElement,ne.modifiers.flip.padding);return X.setAttribute("x-placement",h),ce(X,{position:ne.positionFixed?"fixed":"absolute"}),ne},gpuAcceleration:void 0}}},rt}),function(t,dt){"object"==typeof exports&&typeof module<"u"?dt(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],dt):dt((t=typeof globalThis<"u"?globalThis:t||self).bootstrap={},t.jQuery,t.Popper)}(this,function(t,dt,e){"use strict";function o(be){return be&&"object"==typeof be&&"default"in be?be:{default:be}}var i=o(dt),y=o(e);function E(be,ue){for(var b=0;b<ue.length;b++){var W=ue[b];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(be,W.key,W)}}function O(be,ue,b){return ue&&E(be.prototype,ue),b&&E(be,b),Object.defineProperty(be,"prototype",{writable:!1}),be}function p(){return p=Object.assign?Object.assign.bind():function(be){for(var ue=1;ue<arguments.length;ue++){var b=arguments[ue];for(var W in b)Object.prototype.hasOwnProperty.call(b,W)&&(be[W]=b[W])}return be},p.apply(this,arguments)}function L(be,ue){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,W){return b.__proto__=W,b})(be,ue)}var w="transitionend",f={TRANSITION_END:"bsTransitionEnd",getUID:function(be){do{be+=~~(1e6*Math.random())}while(document.getElementById(be));return be},getSelectorFromElement:function(be){var ue=be.getAttribute("data-target");if(!ue||"#"===ue){var b=be.getAttribute("href");ue=b&&"#"!==b?b.trim():""}try{return document.querySelector(ue)?ue:null}catch{return null}},getTransitionDurationFromElement:function(be){if(!be)return 0;var ue=i.default(be).css("transition-duration"),b=i.default(be).css("transition-delay"),W=parseFloat(ue),ee=parseFloat(b);return W||ee?(ue=ue.split(",")[0],b=b.split(",")[0],1e3*(parseFloat(ue)+parseFloat(b))):0},reflow:function(be){return be.offsetHeight},triggerTransitionEnd:function(be){i.default(be).trigger(w)},supportsTransitionEnd:function(){return!0},isElement:function(be){return(be[0]||be).nodeType},typeCheckConfig:function(be,ue,b){for(var W in b)if(Object.prototype.hasOwnProperty.call(b,W)){var ee=b[W],Te=ue[W],De=Te&&f.isElement(Te)?"element":null===(it=Te)||typeof it>"u"?""+it:{}.toString.call(it).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(ee).test(De))throw new Error(be.toUpperCase()+': Option "'+W+'" provided type "'+De+'" but expected type "'+ee+'".')}var it},findShadowRoot:function(be){if(!document.documentElement.attachShadow)return null;if("function"==typeof be.getRootNode){var ue=be.getRootNode();return ue instanceof ShadowRoot?ue:null}return be instanceof ShadowRoot?be:be.parentNode?f.findShadowRoot(be.parentNode):null},jQueryDetection:function(){if(typeof i.default>"u")throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var be=i.default.fn.jquery.split(" ")[0].split(".");if(be[0]<2&&be[1]<9||1===be[0]&&9===be[1]&&be[2]<1||be[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};f.jQueryDetection(),i.default.fn.emulateTransitionEnd=function(be){var ue=this,b=!1;return i.default(this).one(f.TRANSITION_END,function(){b=!0}),setTimeout(function(){b||f.triggerTransitionEnd(ue)},be),this},i.default.event.special[f.TRANSITION_END]={bindType:w,delegateType:w,handle:function(be){if(i.default(be.target).is(this))return be.handleObj.handler.apply(this,arguments)}};var R="bs.alert",T=i.default.fn.alert,_=function(){function be(b){this._element=b}var ue=be.prototype;return ue.close=function(b){var W=this._element;b&&(W=this._getRootElement(b)),this._triggerCloseEvent(W).isDefaultPrevented()||this._removeElement(W)},ue.dispose=function(){i.default.removeData(this._element,R),this._element=null},ue._getRootElement=function(b){var W=f.getSelectorFromElement(b),ee=!1;return W&&(ee=document.querySelector(W)),ee||(ee=i.default(b).closest(".alert")[0]),ee},ue._triggerCloseEvent=function(b){var W=i.default.Event("close.bs.alert");return i.default(b).trigger(W),W},ue._removeElement=function(b){var W=this;if(i.default(b).removeClass("show"),i.default(b).hasClass("fade")){var ee=f.getTransitionDurationFromElement(b);i.default(b).one(f.TRANSITION_END,function(Te){return W._destroyElement(b,Te)}).emulateTransitionEnd(ee)}else this._destroyElement(b)},ue._destroyElement=function(b){i.default(b).detach().trigger("closed.bs.alert").remove()},be._jQueryInterface=function(b){return this.each(function(){var W=i.default(this),ee=W.data(R);ee||(ee=new be(this),W.data(R,ee)),"close"===b&&ee[b](this)})},be._handleDismiss=function(b){return function(W){W&&W.preventDefault(),b.close(this)}},O(be,null,[{key:"VERSION",get:function(){return"4.6.2"}}]),be}();i.default(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',_._handleDismiss(new _)),i.default.fn.alert=_._jQueryInterface,i.default.fn.alert.Constructor=_,i.default.fn.alert.noConflict=function(){return i.default.fn.alert=T,_._jQueryInterface};var A="bs.button",c=i.default.fn.button,l="active",a='[data-toggle^="button"]',s='input:not([type="hidden"])',u=".btn",m=function(){function be(b){this._element=b,this.shouldAvoidTriggerChange=!1}var ue=be.prototype;return ue.toggle=function(){var b=!0,W=!0,ee=i.default(this._element).closest('[data-toggle="buttons"]')[0];if(ee){var Te=this._element.querySelector(s);if(Te){if("radio"===Te.type)if(Te.checked&&this._element.classList.contains(l))b=!1;else{var De=ee.querySelector(".active");De&&i.default(De).removeClass(l)}b&&("checkbox"!==Te.type&&"radio"!==Te.type||(Te.checked=!this._element.classList.contains(l)),this.shouldAvoidTriggerChange||i.default(Te).trigger("change")),Te.focus(),W=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(W&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(l)),b&&i.default(this._element).toggleClass(l))},ue.dispose=function(){i.default.removeData(this._element,A),this._element=null},be._jQueryInterface=function(b,W){return this.each(function(){var ee=i.default(this),Te=ee.data(A);Te||(Te=new be(this),ee.data(A,Te)),Te.shouldAvoidTriggerChange=W,"toggle"===b&&Te[b]()})},O(be,null,[{key:"VERSION",get:function(){return"4.6.2"}}]),be}();i.default(document).on("click.bs.button.data-api",a,function(be){var ue=be.target,b=ue;if(i.default(ue).hasClass("btn")||(ue=i.default(ue).closest(u)[0]),!ue||ue.hasAttribute("disabled")||ue.classList.contains("disabled"))be.preventDefault();else{var W=ue.querySelector(s);if(W&&(W.hasAttribute("disabled")||W.classList.contains("disabled")))return void be.preventDefault();"INPUT"!==b.tagName&&"LABEL"===ue.tagName||m._jQueryInterface.call(i.default(ue),"toggle","INPUT"===b.tagName)}}).on("focus.bs.button.data-api blur.bs.button.data-api",a,function(be){var ue=i.default(be.target).closest(u)[0];i.default(ue).toggleClass("focus",/^focus(in)?$/.test(be.type))}),i.default(window).on("load.bs.button.data-api",function(){for(var be=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),ue=0,b=be.length;ue<b;ue++){var W=be[ue],ee=W.querySelector(s);ee.checked||ee.hasAttribute("checked")?W.classList.add(l):W.classList.remove(l)}for(var Te=0,De=(be=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;Te<De;Te++){var it=be[Te];"true"===it.getAttribute("aria-pressed")?it.classList.add(l):it.classList.remove(l)}}),i.default.fn.button=m._jQueryInterface,i.default.fn.button.Constructor=m,i.default.fn.button.noConflict=function(){return i.default.fn.button=c,m._jQueryInterface};var n="carousel",S="bs.carousel",x=i.default.fn[n],q="active",v="next",D="prev",G="slid.bs.carousel",k=".active.carousel-item",te={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},J={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Ee={TOUCH:"touch",PEN:"pen"},ye=function(){function be(b,W){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(W),this._element=b,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=!(!window.PointerEvent&&!window.MSPointerEvent),this._addEventListeners()}var ue=be.prototype;return ue.next=function(){this._isSliding||this._slide(v)},ue.nextWhenVisible=function(){var b=i.default(this._element);!document.hidden&&b.is(":visible")&&"hidden"!==b.css("visibility")&&this.next()},ue.prev=function(){this._isSliding||this._slide(D)},ue.pause=function(b){b||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(f.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},ue.cycle=function(b){b||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},ue.to=function(b){var W=this;this._activeElement=this._element.querySelector(k);var ee=this._getItemIndex(this._activeElement);if(!(b>this._items.length-1||b<0))if(this._isSliding)i.default(this._element).one(G,function(){return W.to(b)});else{if(ee===b)return this.pause(),void this.cycle();this._slide(b>ee?v:D,this._items[b])}},ue.dispose=function(){i.default(this._element).off(".bs.carousel"),i.default.removeData(this._element,S),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},ue._getConfig=function(b){return b=p({},te,b),f.typeCheckConfig(n,b,J),b},ue._handleSwipe=function(){var b=Math.abs(this.touchDeltaX);if(!(b<=40)){var W=b/this.touchDeltaX;this.touchDeltaX=0,W>0&&this.prev(),W<0&&this.next()}},ue._addEventListeners=function(){var b=this;this._config.keyboard&&i.default(this._element).on("keydown.bs.carousel",function(W){return b._keydown(W)}),"hover"===this._config.pause&&i.default(this._element).on("mouseenter.bs.carousel",function(W){return b.pause(W)}).on("mouseleave.bs.carousel",function(W){return b.cycle(W)}),this._config.touch&&this._addTouchEventListeners()},ue._addTouchEventListeners=function(){var b=this;if(this._touchSupported){var W=function(Te){b._pointerEvent&&Ee[Te.originalEvent.pointerType.toUpperCase()]?b.touchStartX=Te.originalEvent.clientX:b._pointerEvent||(b.touchStartX=Te.originalEvent.touches[0].clientX)},ee=function(Te){b._pointerEvent&&Ee[Te.originalEvent.pointerType.toUpperCase()]&&(b.touchDeltaX=Te.originalEvent.clientX-b.touchStartX),b._handleSwipe(),"hover"===b._config.pause&&(b.pause(),b.touchTimeout&&clearTimeout(b.touchTimeout),b.touchTimeout=setTimeout(function(De){return b.cycle(De)},500+b._config.interval))};i.default(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",function(Te){return Te.preventDefault()}),this._pointerEvent?(i.default(this._element).on("pointerdown.bs.carousel",function(Te){return W(Te)}),i.default(this._element).on("pointerup.bs.carousel",function(Te){return ee(Te)}),this._element.classList.add("pointer-event")):(i.default(this._element).on("touchstart.bs.carousel",function(Te){return W(Te)}),i.default(this._element).on("touchmove.bs.carousel",function(Te){var De;b.touchDeltaX=(De=Te).originalEvent.touches&&De.originalEvent.touches.length>1?0:De.originalEvent.touches[0].clientX-b.touchStartX}),i.default(this._element).on("touchend.bs.carousel",function(Te){return ee(Te)}))}},ue._keydown=function(b){if(!/input|textarea/i.test(b.target.tagName))switch(b.which){case 37:b.preventDefault(),this.prev();break;case 39:b.preventDefault(),this.next()}},ue._getItemIndex=function(b){return this._items=b&&b.parentNode?[].slice.call(b.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(b)},ue._getItemByDirection=function(b,W){var ee=b===v,Te=b===D,De=this._getItemIndex(W);if((Te&&0===De||ee&&De===this._items.length-1)&&!this._config.wrap)return W;var ft=(De+(b===D?-1:1))%this._items.length;return-1===ft?this._items[this._items.length-1]:this._items[ft]},ue._triggerSlideEvent=function(b,W){var ee=this._getItemIndex(b),Te=this._getItemIndex(this._element.querySelector(k)),De=i.default.Event("slide.bs.carousel",{relatedTarget:b,direction:W,from:Te,to:ee});return i.default(this._element).trigger(De),De},ue._setActiveIndicatorElement=function(b){if(this._indicatorsElement){var W=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));i.default(W).removeClass(q);var ee=this._indicatorsElement.children[this._getItemIndex(b)];ee&&i.default(ee).addClass(q)}},ue._updateInterval=function(){var b=this._activeElement||this._element.querySelector(k);if(b){var W=parseInt(b.getAttribute("data-interval"),10);W?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=W):this._config.interval=this._config.defaultInterval||this._config.interval}},ue._slide=function(b,W){var ee,Te,De,it=this,ft=this._element.querySelector(k),$t=this._getItemIndex(ft),Nt=W||ft&&this._getItemByDirection(b,ft),Qt=this._getItemIndex(Nt),Ln=!!this._interval;if(b===v?(ee="carousel-item-left",Te="carousel-item-next",De="left"):(ee="carousel-item-right",Te="carousel-item-prev",De="right"),Nt&&i.default(Nt).hasClass(q))this._isSliding=!1;else if(!this._triggerSlideEvent(Nt,De).isDefaultPrevented()&&ft&&Nt){this._isSliding=!0,Ln&&this.pause(),this._setActiveIndicatorElement(Nt),this._activeElement=Nt;var Bn=i.default.Event(G,{relatedTarget:Nt,direction:De,from:$t,to:Qt});if(i.default(this._element).hasClass("slide")){i.default(Nt).addClass(Te),f.reflow(Nt),i.default(ft).addClass(ee),i.default(Nt).addClass(ee);var er=f.getTransitionDurationFromElement(ft);i.default(ft).one(f.TRANSITION_END,function(){i.default(Nt).removeClass(ee+" "+Te).addClass(q),i.default(ft).removeClass("active "+Te+" "+ee),it._isSliding=!1,setTimeout(function(){return i.default(it._element).trigger(Bn)},0)}).emulateTransitionEnd(er)}else i.default(ft).removeClass(q),i.default(Nt).addClass(q),this._isSliding=!1,i.default(this._element).trigger(Bn);Ln&&this.cycle()}},be._jQueryInterface=function(b){return this.each(function(){var W=i.default(this).data(S),ee=p({},te,i.default(this).data());"object"==typeof b&&(ee=p({},ee,b));var Te="string"==typeof b?b:ee.slide;if(W||(W=new be(this,ee),i.default(this).data(S,W)),"number"==typeof b)W.to(b);else if("string"==typeof Te){if(typeof W[Te]>"u")throw new TypeError('No method named "'+Te+'"');W[Te]()}else ee.interval&&ee.ride&&(W.pause(),W.cycle())})},be._dataApiClickHandler=function(b){var W=f.getSelectorFromElement(this);if(W){var ee=i.default(W)[0];if(ee&&i.default(ee).hasClass("carousel")){var Te=p({},i.default(ee).data(),i.default(this).data()),De=this.getAttribute("data-slide-to");De&&(Te.interval=!1),be._jQueryInterface.call(i.default(ee),Te),De&&i.default(ee).data(S).to(De),b.preventDefault()}}},O(be,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return te}}]),be}();i.default(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",ye._dataApiClickHandler),i.default(window).on("load.bs.carousel.data-api",function(){for(var be=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),ue=0,b=be.length;ue<b;ue++){var W=i.default(be[ue]);ye._jQueryInterface.call(W,W.data())}}),i.default.fn[n]=ye._jQueryInterface,i.default.fn[n].Constructor=ye,i.default.fn[n].noConflict=function(){return i.default.fn[n]=x,ye._jQueryInterface};var pe="collapse",Re="bs.collapse",qe=i.default.fn[pe],Oe="show",de="collapse",$e="collapsing",le="collapsed",ce='[data-toggle="collapse"]',Be={toggle:!0,parent:""},je={toggle:"boolean",parent:"(string|element)"},ae=function(){function be(b,W){this._isTransitioning=!1,this._element=b,this._config=this._getConfig(W),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'));for(var ee=[].slice.call(document.querySelectorAll(ce)),Te=0,De=ee.length;Te<De;Te++){var it=ee[Te],ft=f.getSelectorFromElement(it),$t=[].slice.call(document.querySelectorAll(ft)).filter(function(Nt){return Nt===b});null!==ft&&$t.length>0&&(this._selector=ft,this._triggerArray.push(it))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var ue=be.prototype;return ue.toggle=function(){i.default(this._element).hasClass(Oe)?this.hide():this.show()},ue.show=function(){var b,W,ee=this;if(!(this._isTransitioning||i.default(this._element).hasClass(Oe)||(this._parent&&0===(b=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function($t){return"string"==typeof ee._config.parent?$t.getAttribute("data-parent")===ee._config.parent:$t.classList.contains(de)})).length&&(b=null),b&&(W=i.default(b).not(this._selector).data(Re))&&W._isTransitioning))){var Te=i.default.Event("show.bs.collapse");if(i.default(this._element).trigger(Te),!Te.isDefaultPrevented()){b&&(be._jQueryInterface.call(i.default(b).not(this._selector),"hide"),W||i.default(b).data(Re,null));var De=this._getDimension();i.default(this._element).removeClass(de).addClass($e),this._element.style[De]=0,this._triggerArray.length&&i.default(this._triggerArray).removeClass(le).attr("aria-expanded",!0),this.setTransitioning(!0);var it="scroll"+(De[0].toUpperCase()+De.slice(1)),ft=f.getTransitionDurationFromElement(this._element);i.default(this._element).one(f.TRANSITION_END,function(){i.default(ee._element).removeClass($e).addClass("collapse show"),ee._element.style[De]="",ee.setTransitioning(!1),i.default(ee._element).trigger("shown.bs.collapse")}).emulateTransitionEnd(ft),this._element.style[De]=this._element[it]+"px"}}},ue.hide=function(){var b=this;if(!this._isTransitioning&&i.default(this._element).hasClass(Oe)){var W=i.default.Event("hide.bs.collapse");if(i.default(this._element).trigger(W),!W.isDefaultPrevented()){var ee=this._getDimension();this._element.style[ee]=this._element.getBoundingClientRect()[ee]+"px",f.reflow(this._element),i.default(this._element).addClass($e).removeClass("collapse show");var Te=this._triggerArray.length;if(Te>0)for(var De=0;De<Te;De++){var it=this._triggerArray[De],ft=f.getSelectorFromElement(it);null!==ft&&(i.default([].slice.call(document.querySelectorAll(ft))).hasClass(Oe)||i.default(it).addClass(le).attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[ee]="";var $t=f.getTransitionDurationFromElement(this._element);i.default(this._element).one(f.TRANSITION_END,function(){b.setTransitioning(!1),i.default(b._element).removeClass($e).addClass(de).trigger("hidden.bs.collapse")}).emulateTransitionEnd($t)}}},ue.setTransitioning=function(b){this._isTransitioning=b},ue.dispose=function(){i.default.removeData(this._element,Re),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},ue._getConfig=function(b){return(b=p({},Be,b)).toggle=!!b.toggle,f.typeCheckConfig(pe,b,je),b},ue._getDimension=function(){return i.default(this._element).hasClass("width")?"width":"height"},ue._getParent=function(){var b,W=this;f.isElement(this._config.parent)?(b=this._config.parent,typeof this._config.parent.jquery<"u"&&(b=this._config.parent[0])):b=document.querySelector(this._config.parent);var Te=[].slice.call(b.querySelectorAll('[data-toggle="collapse"][data-parent="'+this._config.parent+'"]'));return i.default(Te).each(function(De,it){W._addAriaAndCollapsedClass(be._getTargetFromElement(it),[it])}),b},ue._addAriaAndCollapsedClass=function(b,W){var ee=i.default(b).hasClass(Oe);W.length&&i.default(W).toggleClass(le,!ee).attr("aria-expanded",ee)},be._getTargetFromElement=function(b){var W=f.getSelectorFromElement(b);return W?document.querySelector(W):null},be._jQueryInterface=function(b){return this.each(function(){var W=i.default(this),ee=W.data(Re),Te=p({},Be,W.data(),"object"==typeof b&&b?b:{});if(!ee&&Te.toggle&&"string"==typeof b&&/show|hide/.test(b)&&(Te.toggle=!1),ee||(ee=new be(this,Te),W.data(Re,ee)),"string"==typeof b){if(typeof ee[b]>"u")throw new TypeError('No method named "'+b+'"');ee[b]()}})},O(be,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return Be}}]),be}();i.default(document).on("click.bs.collapse.data-api",ce,function(be){"A"===be.currentTarget.tagName&&be.preventDefault();var ue=i.default(this),b=f.getSelectorFromElement(this),W=[].slice.call(document.querySelectorAll(b));i.default(W).each(function(){var ee=i.default(this),Te=ee.data(Re)?"toggle":ue.data();ae._jQueryInterface.call(ee,Te)})}),i.default.fn[pe]=ae._jQueryInterface,i.default.fn[pe].Constructor=ae,i.default.fn[pe].noConflict=function(){return i.default.fn[pe]=qe,ae._jQueryInterface};var Se="dropdown",ze="bs.dropdown",Ze=i.default.fn[Se],Ye=new RegExp("38|40|27"),lt="disabled",Ne="show",Ve="dropdown-menu-right",j="hide.bs.dropdown",fe="hidden.bs.dropdown",M="click.bs.dropdown.data-api",U="keydown.bs.dropdown.data-api",K='[data-toggle="dropdown"]',P=".dropdown-menu",Y={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},V={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},he=function(){function be(b,W){this._element=b,this._popper=null,this._config=this._getConfig(W),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var ue=be.prototype;return ue.toggle=function(){if(!this._element.disabled&&!i.default(this._element).hasClass(lt)){var b=i.default(this._menu).hasClass(Ne);be._clearMenus(),b||this.show(!0)}},ue.show=function(b){if(void 0===b&&(b=!1),!(this._element.disabled||i.default(this._element).hasClass(lt)||i.default(this._menu).hasClass(Ne))){var W={relatedTarget:this._element},ee=i.default.Event("show.bs.dropdown",W),Te=be._getParentFromElement(this._element);if(i.default(Te).trigger(ee),!ee.isDefaultPrevented()){if(!this._inNavbar&&b){if(typeof y.default>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var De=this._element;"parent"===this._config.reference?De=Te:f.isElement(this._config.reference)&&(De=this._config.reference,typeof this._config.reference.jquery<"u"&&(De=this._config.reference[0])),"scrollParent"!==this._config.boundary&&i.default(Te).addClass("position-static"),this._popper=new y.default(De,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===i.default(Te).closest(".navbar-nav").length&&i.default(document.body).children().on("mouseover",null,i.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),i.default(this._menu).toggleClass(Ne),i.default(Te).toggleClass(Ne).trigger(i.default.Event("shown.bs.dropdown",W))}}},ue.hide=function(){if(!this._element.disabled&&!i.default(this._element).hasClass(lt)&&i.default(this._menu).hasClass(Ne)){var b={relatedTarget:this._element},W=i.default.Event(j,b),ee=be._getParentFromElement(this._element);i.default(ee).trigger(W),W.isDefaultPrevented()||(this._popper&&this._popper.destroy(),i.default(this._menu).toggleClass(Ne),i.default(ee).toggleClass(Ne).trigger(i.default.Event(fe,b)))}},ue.dispose=function(){i.default.removeData(this._element,ze),i.default(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},ue.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},ue._addEventListeners=function(){var b=this;i.default(this._element).on("click.bs.dropdown",function(W){W.preventDefault(),W.stopPropagation(),b.toggle()})},ue._getConfig=function(b){return b=p({},this.constructor.Default,i.default(this._element).data(),b),f.typeCheckConfig(Se,b,this.constructor.DefaultType),b},ue._getMenuElement=function(){if(!this._menu){var b=be._getParentFromElement(this._element);b&&(this._menu=b.querySelector(P))}return this._menu},ue._getPlacement=function(){var b=i.default(this._element.parentNode),W="bottom-start";return b.hasClass("dropup")?W=i.default(this._menu).hasClass(Ve)?"top-end":"top-start":b.hasClass("dropright")?W="right-start":b.hasClass("dropleft")?W="left-start":i.default(this._menu).hasClass(Ve)&&(W="bottom-end"),W},ue._detectNavbar=function(){return i.default(this._element).closest(".navbar").length>0},ue._getOffset=function(){var b=this,W={};return"function"==typeof this._config.offset?W.fn=function(ee){return ee.offsets=p({},ee.offsets,b._config.offset(ee.offsets,b._element)),ee}:W.offset=this._config.offset,W},ue._getPopperConfig=function(){var b={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(b.modifiers.applyStyle={enabled:!1}),p({},b,this._config.popperConfig)},be._jQueryInterface=function(b){return this.each(function(){var W=i.default(this).data(ze);if(W||(W=new be(this,"object"==typeof b?b:null),i.default(this).data(ze,W)),"string"==typeof b){if(typeof W[b]>"u")throw new TypeError('No method named "'+b+'"');W[b]()}})},be._clearMenus=function(b){if(!b||3!==b.which&&("keyup"!==b.type||9===b.which))for(var W=[].slice.call(document.querySelectorAll(K)),ee=0,Te=W.length;ee<Te;ee++){var De=be._getParentFromElement(W[ee]),it=i.default(W[ee]).data(ze),ft={relatedTarget:W[ee]};if(b&&"click"===b.type&&(ft.clickEvent=b),it){var $t=it._menu;if(i.default(De).hasClass(Ne)&&!(b&&("click"===b.type&&/input|textarea/i.test(b.target.tagName)||"keyup"===b.type&&9===b.which)&&i.default.contains(De,b.target))){var Nt=i.default.Event(j,ft);i.default(De).trigger(Nt),Nt.isDefaultPrevented()||("ontouchstart"in document.documentElement&&i.default(document.body).children().off("mouseover",null,i.default.noop),W[ee].setAttribute("aria-expanded","false"),it._popper&&it._popper.destroy(),i.default($t).removeClass(Ne),i.default(De).removeClass(Ne).trigger(i.default.Event(fe,ft)))}}}},be._getParentFromElement=function(b){var W,ee=f.getSelectorFromElement(b);return ee&&(W=document.querySelector(ee)),W||b.parentNode},be._dataApiKeydownHandler=function(b){if(!(/input|textarea/i.test(b.target.tagName)?32===b.which||27!==b.which&&(40!==b.which&&38!==b.which||i.default(b.target).closest(P).length):!Ye.test(b.which))&&!this.disabled&&!i.default(this).hasClass(lt)){var W=be._getParentFromElement(this),ee=i.default(W).hasClass(Ne);if(ee||27!==b.which){if(b.preventDefault(),b.stopPropagation(),!ee||27===b.which||32===b.which)return 27===b.which&&i.default(W.querySelector(K)).trigger("focus"),void i.default(this).trigger("click");var Te=[].slice.call(W.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(it){return i.default(it).is(":visible")});if(0!==Te.length){var De=Te.indexOf(b.target);38===b.which&&De>0&&De--,40===b.which&&De<Te.length-1&&De++,De<0&&(De=0),Te[De].focus()}}}},O(be,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return Y}},{key:"DefaultType",get:function(){return V}}]),be}();i.default(document).on(U,K,he._dataApiKeydownHandler).on(U,P,he._dataApiKeydownHandler).on(M+" keyup.bs.dropdown.data-api",he._clearMenus).on(M,K,function(be){be.preventDefault(),be.stopPropagation(),he._jQueryInterface.call(i.default(this),"toggle")}).on(M,".dropdown form",function(be){be.stopPropagation()}),i.default.fn[Se]=he._jQueryInterface,i.default.fn[Se].Constructor=he,i.default.fn[Se].noConflict=function(){return i.default.fn[Se]=Ze,he._jQueryInterface};var _e="bs.modal",me=i.default.fn.modal,Le="modal-open",Qe="fade",Je="show",et="modal-static",nt="hidden.bs.modal",rt="show.bs.modal",$="focusin.bs.modal",X="resize.bs.modal",ne="click.dismiss.bs.modal",oe="keydown.dismiss.bs.modal",xe="mousedown.dismiss.bs.modal",N=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",h={backdrop:!0,keyboard:!0,focus:!0,show:!0},I={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},H=function(){function be(b,W){this._config=this._getConfig(W),this._element=b,this._dialog=b.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var ue=be.prototype;return ue.toggle=function(b){return this._isShown?this.hide():this.show(b)},ue.show=function(b){var W=this;if(!this._isShown&&!this._isTransitioning){var ee=i.default.Event(rt,{relatedTarget:b});i.default(this._element).trigger(ee),ee.isDefaultPrevented()||(this._isShown=!0,i.default(this._element).hasClass(Qe)&&(this._isTransitioning=!0),this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),i.default(this._element).on(ne,'[data-dismiss="modal"]',function(Te){return W.hide(Te)}),i.default(this._dialog).on(xe,function(){i.default(W._element).one("mouseup.dismiss.bs.modal",function(Te){i.default(Te.target).is(W._element)&&(W._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return W._showElement(b)}))}},ue.hide=function(b){var W=this;if(b&&b.preventDefault(),this._isShown&&!this._isTransitioning){var ee=i.default.Event("hide.bs.modal");if(i.default(this._element).trigger(ee),this._isShown&&!ee.isDefaultPrevented()){this._isShown=!1;var Te=i.default(this._element).hasClass(Qe);if(Te&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),i.default(document).off($),i.default(this._element).removeClass(Je),i.default(this._element).off(ne),i.default(this._dialog).off(xe),Te){var De=f.getTransitionDurationFromElement(this._element);i.default(this._element).one(f.TRANSITION_END,function(it){return W._hideModal(it)}).emulateTransitionEnd(De)}else this._hideModal()}}},ue.dispose=function(){[window,this._element,this._dialog].forEach(function(b){return i.default(b).off(".bs.modal")}),i.default(document).off($),i.default.removeData(this._element,_e),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},ue.handleUpdate=function(){this._adjustDialog()},ue._getConfig=function(b){return b=p({},h,b),f.typeCheckConfig("modal",b,I),b},ue._triggerBackdropTransition=function(){var b=this,W=i.default.Event("hidePrevented.bs.modal");if(i.default(this._element).trigger(W),!W.isDefaultPrevented()){var ee=this._element.scrollHeight>document.documentElement.clientHeight;ee||(this._element.style.overflowY="hidden"),this._element.classList.add(et);var Te=f.getTransitionDurationFromElement(this._dialog);i.default(this._element).off(f.TRANSITION_END),i.default(this._element).one(f.TRANSITION_END,function(){b._element.classList.remove(et),ee||i.default(b._element).one(f.TRANSITION_END,function(){b._element.style.overflowY=""}).emulateTransitionEnd(b._element,Te)}).emulateTransitionEnd(Te),this._element.focus()}},ue._showElement=function(b){var W=this,ee=i.default(this._element).hasClass(Qe),Te=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),i.default(this._dialog).hasClass("modal-dialog-scrollable")&&Te?Te.scrollTop=0:this._element.scrollTop=0,ee&&f.reflow(this._element),i.default(this._element).addClass(Je),this._config.focus&&this._enforceFocus();var De=i.default.Event("shown.bs.modal",{relatedTarget:b}),it=function(){W._config.focus&&W._element.focus(),W._isTransitioning=!1,i.default(W._element).trigger(De)};if(ee){var ft=f.getTransitionDurationFromElement(this._dialog);i.default(this._dialog).one(f.TRANSITION_END,it).emulateTransitionEnd(ft)}else it()},ue._enforceFocus=function(){var b=this;i.default(document).off($).on($,function(W){document!==W.target&&b._element!==W.target&&0===i.default(b._element).has(W.target).length&&b._element.focus()})},ue._setEscapeEvent=function(){var b=this;this._isShown?i.default(this._element).on(oe,function(W){b._config.keyboard&&27===W.which?(W.preventDefault(),b.hide()):b._config.keyboard||27!==W.which||b._triggerBackdropTransition()}):this._isShown||i.default(this._element).off(oe)},ue._setResizeEvent=function(){var b=this;this._isShown?i.default(window).on(X,function(W){return b.handleUpdate(W)}):i.default(window).off(X)},ue._hideModal=function(){var b=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(function(){i.default(document.body).removeClass(Le),b._resetAdjustments(),b._resetScrollbar(),i.default(b._element).trigger(nt)})},ue._removeBackdrop=function(){this._backdrop&&(i.default(this._backdrop).remove(),this._backdrop=null)},ue._showBackdrop=function(b){var W=this,ee=i.default(this._element).hasClass(Qe)?Qe:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",ee&&this._backdrop.classList.add(ee),i.default(this._backdrop).appendTo(document.body),i.default(this._element).on(ne,function(ft){W._ignoreBackdropClick?W._ignoreBackdropClick=!1:ft.target===ft.currentTarget&&("static"===W._config.backdrop?W._triggerBackdropTransition():W.hide())}),ee&&f.reflow(this._backdrop),i.default(this._backdrop).addClass(Je),!b)return;if(!ee)return void b();var Te=f.getTransitionDurationFromElement(this._backdrop);i.default(this._backdrop).one(f.TRANSITION_END,b).emulateTransitionEnd(Te)}else if(!this._isShown&&this._backdrop){i.default(this._backdrop).removeClass(Je);var De=function(){W._removeBackdrop(),b&&b()};if(i.default(this._element).hasClass(Qe)){var it=f.getTransitionDurationFromElement(this._backdrop);i.default(this._backdrop).one(f.TRANSITION_END,De).emulateTransitionEnd(it)}else De()}else b&&b()},ue._adjustDialog=function(){var b=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&b&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!b&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},ue._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},ue._checkScrollbar=function(){var b=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(b.left+b.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},ue._setScrollbar=function(){var b=this;if(this._isBodyOverflowing){var W=[].slice.call(document.querySelectorAll(N)),ee=[].slice.call(document.querySelectorAll(".sticky-top"));i.default(W).each(function(it,ft){var $t=ft.style.paddingRight,Nt=i.default(ft).css("padding-right");i.default(ft).data("padding-right",$t).css("padding-right",parseFloat(Nt)+b._scrollbarWidth+"px")}),i.default(ee).each(function(it,ft){var $t=ft.style.marginRight,Nt=i.default(ft).css("margin-right");i.default(ft).data("margin-right",$t).css("margin-right",parseFloat(Nt)-b._scrollbarWidth+"px")});var Te=document.body.style.paddingRight,De=i.default(document.body).css("padding-right");i.default(document.body).data("padding-right",Te).css("padding-right",parseFloat(De)+this._scrollbarWidth+"px")}i.default(document.body).addClass(Le)},ue._resetScrollbar=function(){var b=[].slice.call(document.querySelectorAll(N));i.default(b).each(function(Te,De){var it=i.default(De).data("padding-right");i.default(De).removeData("padding-right"),De.style.paddingRight=it||""});var W=[].slice.call(document.querySelectorAll(".sticky-top"));i.default(W).each(function(Te,De){var it=i.default(De).data("margin-right");typeof it<"u"&&i.default(De).css("margin-right",it).removeData("margin-right")});var ee=i.default(document.body).data("padding-right");i.default(document.body).removeData("padding-right"),document.body.style.paddingRight=ee||""},ue._getScrollbarWidth=function(){var b=document.createElement("div");b.className="modal-scrollbar-measure",document.body.appendChild(b);var W=b.getBoundingClientRect().width-b.clientWidth;return document.body.removeChild(b),W},be._jQueryInterface=function(b,W){return this.each(function(){var ee=i.default(this).data(_e),Te=p({},h,i.default(this).data(),"object"==typeof b&&b?b:{});if(ee||(ee=new be(this,Te),i.default(this).data(_e,ee)),"string"==typeof b){if(typeof ee[b]>"u")throw new TypeError('No method named "'+b+'"');ee[b](W)}else Te.show&&ee.show(W)})},O(be,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return h}}]),be}();i.default(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(be){var ue,b=this,W=f.getSelectorFromElement(this);W&&(ue=document.querySelector(W));var ee=i.default(ue).data(_e)?"toggle":p({},i.default(ue).data(),i.default(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||be.preventDefault();var Te=i.default(ue).one(rt,function(De){De.isDefaultPrevented()||Te.one(nt,function(){i.default(b).is(":visible")&&b.focus()})});H._jQueryInterface.call(i.default(ue),ee,this)}),i.default.fn.modal=H._jQueryInterface,i.default.fn.modal.Constructor=H,i.default.fn.modal.noConflict=function(){return i.default.fn.modal=me,H._jQueryInterface};var Q=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],ve=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,se=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function Ae(be,ue,b){if(0===be.length)return be;if(b&&"function"==typeof b)return b(be);for(var W=(new window.DOMParser).parseFromString(be,"text/html"),ee=Object.keys(ue),Te=[].slice.call(W.body.querySelectorAll("*")),De=function($t,Nt){var Qt=Te[$t],Ln=Qt.nodeName.toLowerCase();if(-1===ee.indexOf(Qt.nodeName.toLowerCase()))return Qt.parentNode.removeChild(Qt),"continue";var Bn=[].slice.call(Qt.attributes),er=[].concat(ue["*"]||[],ue[Ln]||[]);Bn.forEach(function(sr){(function(tr,lr){var Vn=tr.nodeName.toLowerCase();if(-1!==lr.indexOf(Vn))return-1===Q.indexOf(Vn)||!(!ve.test(tr.nodeValue)&&!se.test(tr.nodeValue));for(var Xn=lr.filter(function(dr){return dr instanceof RegExp}),Qn=0,nr=Xn.length;Qn<nr;Qn++)if(Xn[Qn].test(Vn))return!0;return!1})(sr,er)||Qt.removeAttribute(sr.nodeName)})},it=0,ft=Te.length;it<ft;it++)De(it);return W.body.innerHTML}var we="tooltip",Me="bs.tooltip",Ge=i.default.fn.tooltip,tt=new RegExp("(^|\\s)bs-tooltip\\S+","g"),Xe=["sanitize","whiteList","sanitizeFn"],gt="fade",ct="show",pt="show",Et="hover",Bt={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},wt={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},Lt={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},Tt={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},vt=function(){function be(b,W){if(typeof y.default>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=b,this.config=this._getConfig(W),this.tip=null,this._setListeners()}var ue=be.prototype;return ue.enable=function(){this._isEnabled=!0},ue.disable=function(){this._isEnabled=!1},ue.toggleEnabled=function(){this._isEnabled=!this._isEnabled},ue.toggle=function(b){if(this._isEnabled)if(b){var W=this.constructor.DATA_KEY,ee=i.default(b.currentTarget).data(W);ee||(ee=new this.constructor(b.currentTarget,this._getDelegateConfig()),i.default(b.currentTarget).data(W,ee)),ee._activeTrigger.click=!ee._activeTrigger.click,ee._isWithActiveTrigger()?ee._enter(null,ee):ee._leave(null,ee)}else{if(i.default(this.getTipElement()).hasClass(ct))return void this._leave(null,this);this._enter(null,this)}},ue.dispose=function(){clearTimeout(this._timeout),i.default.removeData(this.element,this.constructor.DATA_KEY),i.default(this.element).off(this.constructor.EVENT_KEY),i.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&i.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},ue.show=function(){var b=this;if("none"===i.default(this.element).css("display"))throw new Error("Please use show on visible elements");var W=i.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){i.default(this.element).trigger(W);var ee=f.findShadowRoot(this.element),Te=i.default.contains(null!==ee?ee:this.element.ownerDocument.documentElement,this.element);if(W.isDefaultPrevented()||!Te)return;var De=this.getTipElement(),it=f.getUID(this.constructor.NAME);De.setAttribute("id",it),this.element.setAttribute("aria-describedby",it),this.setContent(),this.config.animation&&i.default(De).addClass(gt);var ft="function"==typeof this.config.placement?this.config.placement.call(this,De,this.element):this.config.placement,$t=this._getAttachment(ft);this.addAttachmentClass($t);var Nt=this._getContainer();i.default(De).data(this.constructor.DATA_KEY,this),i.default.contains(this.element.ownerDocument.documentElement,this.tip)||i.default(De).appendTo(Nt),i.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new y.default(this.element,De,this._getPopperConfig($t)),i.default(De).addClass(ct),i.default(De).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&i.default(document.body).children().on("mouseover",null,i.default.noop);var Qt=function(){b.config.animation&&b._fixTransition();var Bn=b._hoverState;b._hoverState=null,i.default(b.element).trigger(b.constructor.Event.SHOWN),"out"===Bn&&b._leave(null,b)};if(i.default(this.tip).hasClass(gt)){var Ln=f.getTransitionDurationFromElement(this.tip);i.default(this.tip).one(f.TRANSITION_END,Qt).emulateTransitionEnd(Ln)}else Qt()}},ue.hide=function(b){var W=this,ee=this.getTipElement(),Te=i.default.Event(this.constructor.Event.HIDE),De=function(){W._hoverState!==pt&&ee.parentNode&&ee.parentNode.removeChild(ee),W._cleanTipClass(),W.element.removeAttribute("aria-describedby"),i.default(W.element).trigger(W.constructor.Event.HIDDEN),null!==W._popper&&W._popper.destroy(),b&&b()};if(i.default(this.element).trigger(Te),!Te.isDefaultPrevented()){if(i.default(ee).removeClass(ct),"ontouchstart"in document.documentElement&&i.default(document.body).children().off("mouseover",null,i.default.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,i.default(this.tip).hasClass(gt)){var it=f.getTransitionDurationFromElement(ee);i.default(ee).one(f.TRANSITION_END,De).emulateTransitionEnd(it)}else De();this._hoverState=""}},ue.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},ue.isWithContent=function(){return!!this.getTitle()},ue.addAttachmentClass=function(b){i.default(this.getTipElement()).addClass("bs-tooltip-"+b)},ue.getTipElement=function(){return this.tip=this.tip||i.default(this.config.template)[0],this.tip},ue.setContent=function(){var b=this.getTipElement();this.setElementContent(i.default(b.querySelectorAll(".tooltip-inner")),this.getTitle()),i.default(b).removeClass("fade show")},ue.setElementContent=function(b,W){"object"!=typeof W||!W.nodeType&&!W.jquery?this.config.html?(this.config.sanitize&&(W=Ae(W,this.config.whiteList,this.config.sanitizeFn)),b.html(W)):b.text(W):this.config.html?i.default(W).parent().is(b)||b.empty().append(W):b.text(i.default(W).text())},ue.getTitle=function(){var b=this.element.getAttribute("data-original-title");return b||(b="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),b},ue._getPopperConfig=function(b){var W=this;return p({},{placement:b,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(ee){ee.originalPlacement!==ee.placement&&W._handlePopperPlacementChange(ee)},onUpdate:function(ee){return W._handlePopperPlacementChange(ee)}},this.config.popperConfig)},ue._getOffset=function(){var b=this,W={};return"function"==typeof this.config.offset?W.fn=function(ee){return ee.offsets=p({},ee.offsets,b.config.offset(ee.offsets,b.element)),ee}:W.offset=this.config.offset,W},ue._getContainer=function(){return!1===this.config.container?document.body:f.isElement(this.config.container)?i.default(this.config.container):i.default(document).find(this.config.container)},ue._getAttachment=function(b){return Bt[b.toUpperCase()]},ue._setListeners=function(){var b=this;this.config.trigger.split(" ").forEach(function(W){if("click"===W)i.default(b.element).on(b.constructor.Event.CLICK,b.config.selector,function(De){return b.toggle(De)});else if("manual"!==W){var ee=W===Et?b.constructor.Event.MOUSEENTER:b.constructor.Event.FOCUSIN,Te=W===Et?b.constructor.Event.MOUSELEAVE:b.constructor.Event.FOCUSOUT;i.default(b.element).on(ee,b.config.selector,function(De){return b._enter(De)}).on(Te,b.config.selector,function(De){return b._leave(De)})}}),this._hideModalHandler=function(){b.element&&b.hide()},i.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=p({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},ue._fixTitle=function(){var b=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==b)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},ue._enter=function(b,W){var ee=this.constructor.DATA_KEY;(W=W||i.default(b.currentTarget).data(ee))||(W=new this.constructor(b.currentTarget,this._getDelegateConfig()),i.default(b.currentTarget).data(ee,W)),b&&(W._activeTrigger["focusin"===b.type?"focus":Et]=!0),i.default(W.getTipElement()).hasClass(ct)||W._hoverState===pt?W._hoverState=pt:(clearTimeout(W._timeout),W._hoverState=pt,W.config.delay&&W.config.delay.show?W._timeout=setTimeout(function(){W._hoverState===pt&&W.show()},W.config.delay.show):W.show())},ue._leave=function(b,W){var ee=this.constructor.DATA_KEY;(W=W||i.default(b.currentTarget).data(ee))||(W=new this.constructor(b.currentTarget,this._getDelegateConfig()),i.default(b.currentTarget).data(ee,W)),b&&(W._activeTrigger["focusout"===b.type?"focus":Et]=!1),W._isWithActiveTrigger()||(clearTimeout(W._timeout),W._hoverState="out",W.config.delay&&W.config.delay.hide?W._timeout=setTimeout(function(){"out"===W._hoverState&&W.hide()},W.config.delay.hide):W.hide())},ue._isWithActiveTrigger=function(){for(var b in this._activeTrigger)if(this._activeTrigger[b])return!0;return!1},ue._getConfig=function(b){var W=i.default(this.element).data();return Object.keys(W).forEach(function(ee){-1!==Xe.indexOf(ee)&&delete W[ee]}),"number"==typeof(b=p({},this.constructor.Default,W,"object"==typeof b&&b?b:{})).delay&&(b.delay={show:b.delay,hide:b.delay}),"number"==typeof b.title&&(b.title=b.title.toString()),"number"==typeof b.content&&(b.content=b.content.toString()),f.typeCheckConfig(we,b,this.constructor.DefaultType),b.sanitize&&(b.template=Ae(b.template,b.whiteList,b.sanitizeFn)),b},ue._getDelegateConfig=function(){var b={};if(this.config)for(var W in this.config)this.constructor.Default[W]!==this.config[W]&&(b[W]=this.config[W]);return b},ue._cleanTipClass=function(){var b=i.default(this.getTipElement()),W=b.attr("class").match(tt);null!==W&&W.length&&b.removeClass(W.join(""))},ue._handlePopperPlacementChange=function(b){this.tip=b.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(b.placement))},ue._fixTransition=function(){var b=this.getTipElement(),W=this.config.animation;null===b.getAttribute("x-placement")&&(i.default(b).removeClass(gt),this.config.animation=!1,this.hide(),this.show(),this.config.animation=W)},be._jQueryInterface=function(b){return this.each(function(){var W=i.default(this),ee=W.data(Me),Te="object"==typeof b&&b;if((ee||!/dispose|hide/.test(b))&&(ee||(ee=new be(this,Te),W.data(Me,ee)),"string"==typeof b)){if(typeof ee[b]>"u")throw new TypeError('No method named "'+b+'"');ee[b]()}})},O(be,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return wt}},{key:"NAME",get:function(){return we}},{key:"DATA_KEY",get:function(){return Me}},{key:"Event",get:function(){return Tt}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return Lt}}]),be}();i.default.fn.tooltip=vt._jQueryInterface,i.default.fn.tooltip.Constructor=vt,i.default.fn.tooltip.noConflict=function(){return i.default.fn.tooltip=Ge,vt._jQueryInterface};var Rt="bs.popover",It=i.default.fn.popover,Dt=new RegExp("(^|\\s)bs-popover\\S+","g"),Pt=p({},vt.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),qt=p({},vt.DefaultType,{content:"(string|element|function)"}),dn={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},Jt=function(be){var ue,b;function W(){return be.apply(this,arguments)||this}b=be,(ue=W).prototype=Object.create(b.prototype),ue.prototype.constructor=ue,L(ue,b);var ee=W.prototype;return ee.isWithContent=function(){return this.getTitle()||this._getContent()},ee.addAttachmentClass=function(Te){i.default(this.getTipElement()).addClass("bs-popover-"+Te)},ee.getTipElement=function(){return this.tip=this.tip||i.default(this.config.template)[0],this.tip},ee.setContent=function(){var Te=i.default(this.getTipElement());this.setElementContent(Te.find(".popover-header"),this.getTitle());var De=this._getContent();"function"==typeof De&&(De=De.call(this.element)),this.setElementContent(Te.find(".popover-body"),De),Te.removeClass("fade show")},ee._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},ee._cleanTipClass=function(){var Te=i.default(this.getTipElement()),De=Te.attr("class").match(Dt);null!==De&&De.length>0&&Te.removeClass(De.join(""))},W._jQueryInterface=function(Te){return this.each(function(){var De=i.default(this).data(Rt),it="object"==typeof Te?Te:null;if((De||!/dispose|hide/.test(Te))&&(De||(De=new W(this,it),i.default(this).data(Rt,De)),"string"==typeof Te)){if(typeof De[Te]>"u")throw new TypeError('No method named "'+Te+'"');De[Te]()}})},O(W,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return Pt}},{key:"NAME",get:function(){return"popover"}},{key:"DATA_KEY",get:function(){return Rt}},{key:"Event",get:function(){return dn}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return qt}}]),W}(vt);i.default.fn.popover=Jt._jQueryInterface,i.default.fn.popover.Constructor=Jt,i.default.fn.popover.noConflict=function(){return i.default.fn.popover=It,Jt._jQueryInterface};var Vt="scrollspy",tn="bs.scrollspy",Kt=i.default.fn[Vt],nn="active",mn="position",wn=".nav, .list-group",vn={offset:10,method:"auto",target:""},cn={offset:"number",method:"string",target:"(string|element)"},Ht=function(){function be(b,W){var ee=this;this._element=b,this._scrollElement="BODY"===b.tagName?window:b,this._config=this._getConfig(W),this._selector=this._config.target+" .nav-link,"+this._config.target+" .list-group-item,"+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,i.default(this._scrollElement).on("scroll.bs.scrollspy",function(Te){return ee._process(Te)}),this.refresh(),this._process()}var ue=be.prototype;return ue.refresh=function(){var b=this,ee="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":mn:this._config.method,Te=ee===mn?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(De){var it,ft=f.getSelectorFromElement(De);if(ft&&(it=document.querySelector(ft)),it){var $t=it.getBoundingClientRect();if($t.width||$t.height)return[i.default(it)[ee]().top+Te,ft]}return null}).filter(Boolean).sort(function(De,it){return De[0]-it[0]}).forEach(function(De){b._offsets.push(De[0]),b._targets.push(De[1])})},ue.dispose=function(){i.default.removeData(this._element,tn),i.default(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},ue._getConfig=function(b){if("string"!=typeof(b=p({},vn,"object"==typeof b&&b?b:{})).target&&f.isElement(b.target)){var W=i.default(b.target).attr("id");W||(W=f.getUID(Vt),i.default(b.target).attr("id",W)),b.target="#"+W}return f.typeCheckConfig(Vt,b,cn),b},ue._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},ue._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},ue._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},ue._process=function(){var b=this._getScrollTop()+this._config.offset,W=this._getScrollHeight(),ee=this._config.offset+W-this._getOffsetHeight();if(this._scrollHeight!==W&&this.refresh(),b>=ee){var Te=this._targets[this._targets.length-1];this._activeTarget!==Te&&this._activate(Te)}else{if(this._activeTarget&&b<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var De=this._offsets.length;De--;)this._activeTarget!==this._targets[De]&&b>=this._offsets[De]&&(typeof this._offsets[De+1]>"u"||b<this._offsets[De+1])&&this._activate(this._targets[De])}},ue._activate=function(b){this._activeTarget=b,this._clear();var W=this._selector.split(",").map(function(Te){return Te+'[data-target="'+b+'"],'+Te+'[href="'+b+'"]'}),ee=i.default([].slice.call(document.querySelectorAll(W.join(","))));ee.hasClass("dropdown-item")?(ee.closest(".dropdown").find(".dropdown-toggle").addClass(nn),ee.addClass(nn)):(ee.addClass(nn),ee.parents(wn).prev(".nav-link, .list-group-item").addClass(nn),ee.parents(wn).prev(".nav-item").children(".nav-link").addClass(nn)),i.default(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:b})},ue._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(b){return b.classList.contains(nn)}).forEach(function(b){return b.classList.remove(nn)})},be._jQueryInterface=function(b){return this.each(function(){var W=i.default(this).data(tn);if(W||(W=new be(this,"object"==typeof b&&b),i.default(this).data(tn,W)),"string"==typeof b){if(typeof W[b]>"u")throw new TypeError('No method named "'+b+'"');W[b]()}})},O(be,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return vn}}]),be}();i.default(window).on("load.bs.scrollspy.data-api",function(){for(var be=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),ue=be.length;ue--;){var b=i.default(be[ue]);Ht._jQueryInterface.call(b,b.data())}}),i.default.fn[Vt]=Ht._jQueryInterface,i.default.fn[Vt].Constructor=Ht,i.default.fn[Vt].noConflict=function(){return i.default.fn[Vt]=Kt,Ht._jQueryInterface};var fn="bs.tab",bn=i.default.fn.tab,sn="active",kn=".active",$n="> li > .active",Rn=function(){function be(b){this._element=b}var ue=be.prototype;return ue.show=function(){var b=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&i.default(this._element).hasClass(sn)||i.default(this._element).hasClass("disabled")||this._element.hasAttribute("disabled"))){var W,ee,Te=i.default(this._element).closest(".nav, .list-group")[0],De=f.getSelectorFromElement(this._element);if(Te){var it="UL"===Te.nodeName||"OL"===Te.nodeName?$n:kn;ee=(ee=i.default.makeArray(i.default(Te).find(it)))[ee.length-1]}var ft=i.default.Event("hide.bs.tab",{relatedTarget:this._element}),$t=i.default.Event("show.bs.tab",{relatedTarget:ee});if(ee&&i.default(ee).trigger(ft),i.default(this._element).trigger($t),!$t.isDefaultPrevented()&&!ft.isDefaultPrevented()){De&&(W=document.querySelector(De)),this._activate(this._element,Te);var Nt=function(){var Qt=i.default.Event("hidden.bs.tab",{relatedTarget:b._element}),Ln=i.default.Event("shown.bs.tab",{relatedTarget:ee});i.default(ee).trigger(Qt),i.default(b._element).trigger(Ln)};W?this._activate(W,W.parentNode,Nt):Nt()}}},ue.dispose=function(){i.default.removeData(this._element,fn),this._element=null},ue._activate=function(b,W,ee){var Te=this,De=(!W||"UL"!==W.nodeName&&"OL"!==W.nodeName?i.default(W).children(kn):i.default(W).find($n))[0],it=ee&&De&&i.default(De).hasClass("fade"),ft=function(){return Te._transitionComplete(b,De,ee)};if(De&&it){var $t=f.getTransitionDurationFromElement(De);i.default(De).removeClass("show").one(f.TRANSITION_END,ft).emulateTransitionEnd($t)}else ft()},ue._transitionComplete=function(b,W,ee){if(W){i.default(W).removeClass(sn);var Te=i.default(W.parentNode).find("> .dropdown-menu .active")[0];Te&&i.default(Te).removeClass(sn),"tab"===W.getAttribute("role")&&W.setAttribute("aria-selected",!1)}i.default(b).addClass(sn),"tab"===b.getAttribute("role")&&b.setAttribute("aria-selected",!0),f.reflow(b),b.classList.contains("fade")&&b.classList.add("show");var De=b.parentNode;if(De&&"LI"===De.nodeName&&(De=De.parentNode),De&&i.default(De).hasClass("dropdown-menu")){var it=i.default(b).closest(".dropdown")[0];if(it){var ft=[].slice.call(it.querySelectorAll(".dropdown-toggle"));i.default(ft).addClass(sn)}b.setAttribute("aria-expanded",!0)}ee&&ee()},be._jQueryInterface=function(b){return this.each(function(){var W=i.default(this),ee=W.data(fn);if(ee||(ee=new be(this),W.data(fn,ee)),"string"==typeof b){if(typeof ee[b]>"u")throw new TypeError('No method named "'+b+'"');ee[b]()}})},O(be,null,[{key:"VERSION",get:function(){return"4.6.2"}}]),be}();i.default(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(be){be.preventDefault(),Rn._jQueryInterface.call(i.default(this),"show")}),i.default.fn.tab=Rn._jQueryInterface,i.default.fn.tab.Constructor=Rn,i.default.fn.tab.noConflict=function(){return i.default.fn.tab=bn,Rn._jQueryInterface};var yn="bs.toast",Gn=i.default.fn.toast,xn="show",Cn="showing",Kn="click.dismiss.bs.toast",qn={animation:!0,autohide:!0,delay:500},Tn={animation:"boolean",autohide:"boolean",delay:"number"},Xt=function(){function be(b,W){this._element=b,this._config=this._getConfig(W),this._timeout=null,this._setListeners()}var ue=be.prototype;return ue.show=function(){var b=this,W=i.default.Event("show.bs.toast");if(i.default(this._element).trigger(W),!W.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");var ee=function(){b._element.classList.remove(Cn),b._element.classList.add(xn),i.default(b._element).trigger("shown.bs.toast"),b._config.autohide&&(b._timeout=setTimeout(function(){b.hide()},b._config.delay))};if(this._element.classList.remove("hide"),f.reflow(this._element),this._element.classList.add(Cn),this._config.animation){var Te=f.getTransitionDurationFromElement(this._element);i.default(this._element).one(f.TRANSITION_END,ee).emulateTransitionEnd(Te)}else ee()}},ue.hide=function(){if(this._element.classList.contains(xn)){var b=i.default.Event("hide.bs.toast");i.default(this._element).trigger(b),b.isDefaultPrevented()||this._close()}},ue.dispose=function(){this._clearTimeout(),this._element.classList.contains(xn)&&this._element.classList.remove(xn),i.default(this._element).off(Kn),i.default.removeData(this._element,yn),this._element=null,this._config=null},ue._getConfig=function(b){return b=p({},qn,i.default(this._element).data(),"object"==typeof b&&b?b:{}),f.typeCheckConfig("toast",b,this.constructor.DefaultType),b},ue._setListeners=function(){var b=this;i.default(this._element).on(Kn,'[data-dismiss="toast"]',function(){return b.hide()})},ue._close=function(){var b=this,W=function(){b._element.classList.add("hide"),i.default(b._element).trigger("hidden.bs.toast")};if(this._element.classList.remove(xn),this._config.animation){var ee=f.getTransitionDurationFromElement(this._element);i.default(this._element).one(f.TRANSITION_END,W).emulateTransitionEnd(ee)}else W()},ue._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},be._jQueryInterface=function(b){return this.each(function(){var W=i.default(this),ee=W.data(yn);if(ee||(ee=new be(this,"object"==typeof b&&b),W.data(yn,ee)),"string"==typeof b){if(typeof ee[b]>"u")throw new TypeError('No method named "'+b+'"');ee[b](this)}})},O(be,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"DefaultType",get:function(){return Tn}},{key:"Default",get:function(){return qn}}]),be}();i.default.fn.toast=Xt._jQueryInterface,i.default.fn.toast.Constructor=Xt,i.default.fn.toast.noConflict=function(){return i.default.fn.toast=Gn,Xt._jQueryInterface},t.Alert=_,t.Button=m,t.Carousel=ye,t.Collapse=ae,t.Dropdown=he,t.Modal=H,t.Popover=Jt,t.Scrollspy=Ht,t.Tab=Rn,t.Toast=Xt,t.Tooltip=vt,t.Util=f,Object.defineProperty(t,"__esModule",{value:!0})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(dt,e){return void 0===e&&(e=typeof window<"u"?require("jquery"):require("jquery")(dt)),t(e)}:t(window.jQuery)}(function(t){var dt=function(e,o){this.id=++t.FE.ID;var i={};o&&o.documentReady&&(i.toolbarButtons=["fullscreen","undo","redo","getPDF","print","|","bold","italic","underline","color","clearFormatting","|","alignLeft","alignCenter","alignRight","alignJustify","|","formatOL","formatUL","indent","outdent","-","paragraphFormat","|","fontFamily","|","fontSize","|","insertLink","insertImage","quote"],i.paragraphFormatSelection=!0,i.fontFamilySelection=!0,i.fontSizeSelection=!0,i.placeholderText="",i.quickInsertEnabled=!1,i.charCounterCount=!1),this.opts=t.extend(!0,{},t.extend({},dt.DEFAULTS,i,"object"==typeof o&&o));var y=JSON.stringify(this.opts);t.FE.OPTS_MAPPING[y]=t.FE.OPTS_MAPPING[y]||this.id,this.sid=t.FE.OPTS_MAPPING[y],t.FE.SHARED[this.sid]=t.FE.SHARED[this.sid]||{},this.shared=t.FE.SHARED[this.sid],this.shared.count=(this.shared.count||0)+1,this.$oel=t(e),this.$oel.data("froala.editor",this),this.o_doc=e.ownerDocument,this.o_win="defaultView"in this.o_doc?this.o_doc.defaultView:this.o_doc.parentWindow;var E=t(this.o_win).scrollTop();this.$oel.on("froala.doInit",t.proxy(function(){this.$oel.off("froala.doInit"),this.doc=this.$el.get(0).ownerDocument,this.win="defaultView"in this.doc?this.doc.defaultView:this.doc.parentWindow,this.$doc=t(this.doc),this.$win=t(this.win),this.opts.pluginsEnabled||(this.opts.pluginsEnabled=Object.keys(t.FE.PLUGINS)),this.opts.initOnClick?(this.load(t.FE.MODULES),this.$el.on("touchstart.init",function(){t(this).data("touched",!0)}),this.$el.on("touchmove.init",function(){t(this).removeData("touched")}),this.$el.on("mousedown.init touchend.init dragenter.init focus.init",t.proxy(function(O){if("touchend"==O.type&&!this.$el.data("touched"))return!0;if(1===O.which||!O.which){this.$el.off("mousedown.init touchstart.init touchmove.init touchend.init dragenter.init focus.init"),this.load(t.FE.MODULES),this.load(t.FE.PLUGINS);var p=O.originalEvent&&O.originalEvent.originalTarget;p&&"IMG"==p.tagName&&t(p).trigger("mousedown"),typeof this.ul>"u"&&this.destroy(),"touchend"==O.type&&this.image&&O.originalEvent&&O.originalEvent.target&&t(O.originalEvent.target).is("img")&&setTimeout(t.proxy(function(){this.image.edit(t(O.originalEvent.target))},this),100),this.ready=!0,this.events.trigger("initialized")}},this)),this.events.trigger("initializationDelayed")):(this.load(t.FE.MODULES),this.load(t.FE.PLUGINS),t(this.o_win).scrollTop(E),typeof this.ul>"u"&&this.destroy(),this.ready=!0,this.events.trigger("initialized"))},this)),this._init()};if(dt.DEFAULTS={initOnClick:!1,pluginsEnabled:null},dt.MODULES={},dt.PLUGINS={},dt.VERSION="2.9.1",dt.INSTANCES=[],dt.OPTS_MAPPING={},dt.SHARED={},dt.ID=0,dt.prototype._init=function(){var e=this.$oel.prop("tagName");this.$oel.closest("label");var o=t.proxy(function(){"TEXTAREA"!=e&&(this._original_html=this._original_html||this.$oel.html()),this.$box=this.$box||this.$oel,this.opts.fullPage&&(this.opts.iframe=!0),this.opts.iframe?(this.$iframe=t('<iframe src="about:blank" frameBorder="0">'),this.$wp=t("<div></div>"),this.$box.html(this.$wp),this.$wp.append(this.$iframe),this.$iframe.get(0).contentWindow.document.open(),this.$iframe.get(0).contentWindow.document.write("<!DOCTYPE html>"),this.$iframe.get(0).contentWindow.document.write("<html><head></head><body></body></html>"),this.$iframe.get(0).contentWindow.document.close(),this.$el=this.$iframe.contents().find("body"),this.el=this.$el.get(0),this.$head=this.$iframe.contents().find("head"),this.$html=this.$iframe.contents().find("html"),this.iframe_document=this.$iframe.get(0).contentWindow.document):(this.$el=t("<div></div>"),this.el=this.$el.get(0),this.$wp=t("<div></div>").append(this.$el),this.$box.html(this.$wp)),this.$oel.trigger("froala.doInit")},this),i=t.proxy(function(){this.$box=t("<div>"),this.$oel.before(this.$box).hide(),this._original_html=this.$oel.val(),this.$oel.parents("form").on("submit."+this.id,t.proxy(function(){this.events.trigger("form.submit")},this)),this.$oel.parents("form").on("reset."+this.id,t.proxy(function(){this.events.trigger("form.reset")},this)),o()},this),y=t.proxy(function(){this.$el=this.$oel,this.el=this.$el.get(0),this.$el.attr("contenteditable",!0).css("outline","none").css("display","inline-block"),this.opts.multiLine=!1,this.opts.toolbarInline=!1,this.$oel.trigger("froala.doInit")},this),E=t.proxy(function(){this.$el=this.$oel,this.el=this.$el.get(0),this.opts.toolbarInline=!1,this.$oel.trigger("froala.doInit")},this),O=t.proxy(function(){this.$el=this.$oel,this.el=this.$el.get(0),this.opts.toolbarInline=!1,this.$oel.on("click.popup",function(p){p.preventDefault()}),this.$oel.trigger("froala.doInit")},this);this.opts.editInPopup?O():"TEXTAREA"==e?i():"A"==e?y():"IMG"==e?E():"BUTTON"==e||"INPUT"==e?(this.opts.editInPopup=!0,this.opts.toolbarInline=!1,O()):o()},dt.prototype.load=function(e){for(var o in e)if(e.hasOwnProperty(o)){if(this[o]||t.FE.PLUGINS[o]&&this.opts.pluginsEnabled.indexOf(o)<0)continue;if(this[o]=new e[o](this),this[o]._init&&(this[o]._init(),this.opts.initOnClick&&"core"==o))return!1}},dt.prototype.destroy=function(){this.shared.count--,this.events.$off();var e=this.html.get();if(this.opts.iframe&&(this.events.disableBlur(),this.win.focus(),this.events.enableBlur()),this.events.trigger("destroy",[],!0),this.events.trigger("shared.destroy",void 0,!0),0===this.shared.count){for(var o in this.shared)this.shared.hasOwnProperty(o)&&(t.FE.SHARED[this.sid][o]=null);delete t.FE.SHARED[this.sid]}this.$oel.parents("form").off("."+this.id),this.$oel.off("click.popup"),this.$oel.removeData("froala.editor"),this.$oel.off("froalaEditor"),this.core.destroy(e),t.FE.INSTANCES.splice(t.FE.INSTANCES.indexOf(this),1)},t.fn.froalaEditor=function(e){for(var o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);if("string"==typeof e){var y=[];return this.each(function(){var E=t(this).data("froala.editor");if(E){var O,p;if(0<e.indexOf(".")&&E[e.split(".")[0]]?(E[e.split(".")[0]]&&(O=E[e.split(".")[0]]),p=e.split(".")[1]):(O=E,p=e.split(".")[0]),!O[p])return t.error("Method "+e+" does not exist in Froala Editor.");var L=O[p].apply(E,o.slice(1));void 0===L?y.push(this):0===y.length&&y.push(L)}}),1==y.length?y[0]:y}if("object"==typeof e||!e)return this.each(function(){t(this).data("froala.editor")||new dt(this,e)})},t.fn.froalaEditor.Constructor=dt,t.FroalaEditor=dt,t.FE=dt,t.FE.XS=0,t.FE.SM=1,t.FE.MD=2,t.FE.LG=3,t.FE.LinkRegExCommon="[a-z\\u0080-\\u009f\\u00a1-\\uffff0-9-_.]{1,}",t.FE.LinkRegExEnd="((:[0-9]{1,5})|)(((\\/|\\?|#)[a-z\\u00a1-\\uffff0-9@?\\|!^=%&amp;/~+#-\\'*-_{}]*)|())",t.FE.LinkRegExTLD="(("+t.FE.LinkRegExCommon+")(\\.(com|net|org|edu|mil|gov|co|biz|info|me|dev)))",t.FE.LinkRegExHTTP="((ftp|http|https):\\/\\/"+t.FE.LinkRegExCommon+")",t.FE.LinkRegExAuth="((ftp|http|https):\\/\\/[\\u0021-\\uffff]{1,}@"+t.FE.LinkRegExCommon+")",t.FE.LinkRegExWWW="(www\\."+t.FE.LinkRegExCommon+"\\.[a-z0-9-]{2,24})",t.FE.LinkRegEx="("+t.FE.LinkRegExTLD+"|"+t.FE.LinkRegExHTTP+"|"+t.FE.LinkRegExWWW+"|"+t.FE.LinkRegExAuth+")"+t.FE.LinkRegExEnd,t.FE.LinkProtocols=["mailto","tel","sms","notes","data"],t.FE.MAIL_REGEX=/.+@.+\..+/i,t.FE.MODULES.helpers=function(e){function i(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&!O()}function y(){return/(Android)/g.test(navigator.userAgent)&&!O()}function E(){return/(Blackberry)/g.test(navigator.userAgent)}function O(){return/(Windows Phone)/gi.test(navigator.userAgent)}function p(f){return parseInt(f,10)||0}var L,w=null;return{_init:function(){e.browser=function o(){var f,R,T={},_=(R=-1,"Microsoft Internet Explorer"==navigator.appName?(f=navigator.userAgent,null!==new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(f)&&(R=parseFloat(RegExp.$1))):"Netscape"==navigator.appName&&(f=navigator.userAgent,null!==new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})").exec(f)&&(R=parseFloat(RegExp.$1))),R);if(0<_)T.msie=!0;else{var A=navigator.userAgent.toLowerCase(),c=/(edge)[ \/]([\w.]+)/.exec(A)||/(chrome)[ \/]([\w.]+)/.exec(A)||/(webkit)[ \/]([\w.]+)/.exec(A)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(A)||/(msie) ([\w.]+)/.exec(A)||A.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(A)||[];c[1]&&(T[c[1]||""]=!0),T.chrome?T.webkit=!0:T.webkit&&(T.safari=!0)}return T.msie&&(T.version=_),T}(),function(){function f(_,A){var c=_[A];_[A]=function(l){var a,s=!1,u=!1;if(l&&l.match(T)){l=l.replace(T,""),this.parentNode||(R.appendChild(this),u=!0);var m=this.parentNode;return this.id||(this.id="rootedQuerySelector_id_"+(new Date).getTime(),s=!0),a=c.call(m,"#"+this.id+" "+l),s&&(this.id=""),u&&R.removeChild(this),a}return c.call(this,l)}}var R=e.o_doc.createElement("div");try{R.querySelectorAll(":scope *")}catch{var T=/^\s*:scope/gi;f(Element.prototype,"querySelector"),f(Element.prototype,"querySelectorAll"),f(HTMLElement.prototype,"querySelector"),f(HTMLElement.prototype,"querySelectorAll")}}(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(f){var R=this;if(!R||!document.documentElement.contains(this))return null;do{if(R.matches(f))return R;R=R.parentElement}while(null!==R);return null})},isIOS:i,isMac:function(){return null==w&&(w=0<=navigator.platform.toUpperCase().indexOf("MAC")),w},isAndroid:y,isBlackberry:E,isWindowsPhone:O,isMobile:function(){return y()||i()||E()},isEmail:function(f){return!/^(https?:|ftps?:|)\/\//i.test(f)&&t.FE.MAIL_REGEX.test(f)},requestAnimationFrame:function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(f){window.setTimeout(f,1e3/60)}},getPX:p,screenSize:function(){var f=t('<div class="fr-visibility-helper"></div>').appendTo("body:first");try{var R=p(f.css("margin-left"));return f.remove(),R}catch{return t.FE.LG}},isTouch:function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},sanitizeURL:function(f){return/^(https?:|ftps?:|)\/\//i.test(f)||/^([A-Za-z]:(\\){1,2}|[A-Za-z]:((\\){1,2}[^\\]+)+)(\\)?$/i.test(f)||new RegExp("^("+t.FE.LinkProtocols.join("|")+"):\\/\\/","i").test(f)?f:f=encodeURIComponent(f).replace(/%23/g,"#").replace(/%2F/g,"/").replace(/%25/g,"%").replace(/mailto%3A/gi,"mailto:").replace(/file%3A/gi,"file:").replace(/sms%3A/gi,"sms:").replace(/tel%3A/gi,"tel:").replace(/notes%3A/gi,"notes:").replace(/data%3Aimage/gi,"data:image").replace(/blob%3A/gi,"blob:").replace(/%3A(\d)/gi,":$1").replace(/webkit-fake-url%3A/gi,"webkit-fake-url:").replace(/%3F/g,"?").replace(/%3D/g,"=").replace(/%26/g,"&").replace(/&amp;/g,"&").replace(/%2C/g,",").replace(/%3B/g,";").replace(/%2B/g,"+").replace(/%40/g,"@").replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%7B/g,"{").replace(/%7D/g,"}")},isArray:function(f){return f&&!f.propertyIsEnumerable("length")&&"object"==typeof f&&"number"==typeof f.length},RGBToHex:function(f){function R(T){return("0"+parseInt(T,10).toString(16)).slice(-2)}try{return f&&"transparent"!==f?/^#[0-9A-F]{6}$/i.test(f)?f:("#"+R((f=f.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))[1])+R(f[2])+R(f[3])).toUpperCase():""}catch{return null}},HEXtoRGB:function(f){f=f.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(T,_,A,c){return _+_+A+A+c+c});var R=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(f);return R?"rgb("+parseInt(R[1],16)+", "+parseInt(R[2],16)+", "+parseInt(R[3],16)+")":""},isURL:function(f){return!!/^(https?:|ftps?:|)\/\//i.test(f)&&(f=String(f).replace(/</g,"%3C").replace(/>/g,"%3E").replace(/"/g,"%22").replace(/ /g,"%20"),new RegExp("^"+t.FE.LinkRegExHTTP+t.FE.LinkRegExEnd+"$","gi").test(f))},getAlignment:function(f){var R=(f.css("text-align")||"").replace(/-(.*)-/g,"");if(["left","right","justify","center"].indexOf(R)<0){if(!L){var T=t('<div dir="'+("rtl"==e.opts.direction?"rtl":"auto")+'" style="text-align: '+e.$el.css("text-align")+'; position: fixed; left: -3000px;"><span id="s1">.</span><span id="s2">.</span></div>');t("body:first").append(T);var _=T.find("#s1").get(0).getBoundingClientRect().left,A=T.find("#s2").get(0).getBoundingClientRect().left;T.remove(),L=_<A?"left":"right"}R=L}return R},scrollTop:function(){return e.o_win.pageYOffset?e.o_win.pageYOffset:e.o_doc.documentElement&&e.o_doc.documentElement.scrollTop?e.o_doc.documentElement.scrollTop:e.o_doc.body.scrollTop?e.o_doc.body.scrollTop:0},scrollLeft:function(){return e.o_win.pageXOffset?e.o_win.pageXOffset:e.o_doc.documentElement&&e.o_doc.documentElement.scrollLeft?e.o_doc.documentElement.scrollLeft:e.o_doc.body.scrollLeft?e.o_doc.body.scrollLeft:0},isInViewPort:function(f){var R=f.getBoundingClientRect();return 0<=R.top&&R.bottom<=(window.innerHeight||document.documentElement.clientHeight)||R.top<=0&&R.bottom>=(window.innerHeight||document.documentElement.clientHeight)}}},t.FE.MODULES.events=function(e){var o,i={};function y(a,s,u){T(a,s,u)}function E(a){if(void 0===a&&(a=!0),!e.$wp||(e.helpers.isIOS()&&e.$win.get(0).focus(),e.core.hasFocus()))return!1;if(!e.core.hasFocus()&&a){var s=e.$win.scrollTop();if(e.browser.msie&&e.$box&&e.$box.css("position","fixed"),e.browser.msie&&e.$wp&&e.$wp.css("overflow","visible"),L(),e.$el.focus(),e.events.trigger("focus"),p(),e.browser.msie&&e.$box&&e.$box.css("position",""),e.browser.msie&&e.$wp&&e.$wp.css("overflow","auto"),s!=e.$win.scrollTop()&&e.$win.scrollTop(s),!e.selection.info(e.el).atStart)return!1}if(!e.core.hasFocus()||0<e.$el.find(".fr-marker").length)return!1;if(e.selection.info(e.el).atStart&&e.selection.isCollapsed()&&null!=e.html.defaultTag()){var u=e.markers.insert();if(u&&!e.node.blockParent(u)){t(u).remove();var m=e.$el.find(e.html.blockTagsQuery()).get(0);m&&(t(m).prepend(t.FE.MARKERS),e.selection.restore())}else u&&t(u).remove()}}var O=!1;function p(){o=!0}function L(){o=!1}function w(){return o}function f(a,s,u){var m,n=a.split(" ");if(1<n.length){for(var S=0;S<n.length;S++)f(n[S],s,u);return!0}void 0===u&&(u=!1),m=0!==a.indexOf("shared.")?i[a]=i[a]||[]:e.shared._events[a]=e.shared._events[a]||[],u?m.unshift(s):m.push(s)}var R=[];function T(a,s,u,m,n){"function"==typeof u&&(n=m,m=u,u=!1);var S=n?e.shared.$_events:R,x=n?e.sid:e.id;u?a.on(s.split(" ").join(".ed"+x+" ")+".ed"+x,u,m):a.on(s.split(" ").join(".ed"+x+" ")+".ed"+x,m),S.push([a,s.split(" ").join(".ed"+x+" ")+".ed"+x])}function _(a){for(var s=0;s<a.length;s++)a[s][0].off(a[s][1])}function A(a,s,u){if(!e.edit.isDisabled()||u){var m,n;if(0!==a.indexOf("shared."))m=i[a];else{if(0<e.shared.count)return!1;m=e.shared._events[a]}if(m)for(var S=0;S<m.length;S++)if(!1===(n=m[S].apply(e,s)))return!1;return!1!==(n=e.$oel.triggerHandler("froalaEditor."+a,t.merge([e],s||[])))&&n}}function c(){for(var a in i)i.hasOwnProperty(a)&&delete i[a]}function l(){for(var a in e.shared._events)e.shared._events.hasOwnProperty(a)&&delete e.shared._events[a]}return{_init:function(){e.shared.$_events=e.shared.$_events||[],e.shared._events={},e.helpers.isMobile()?(e._mousedown="touchstart",e._mouseup="touchend",e._move="touchmove",e._mousemove="touchmove"):(e._mousedown="mousedown",e._mouseup="mouseup",e._move="",e._mousemove="mousemove"),y(e.$el,"click mouseup mousedown touchstart touchend dragenter dragover dragleave dragend drop dragstart",function(a){A(a.type,[a])}),f("mousedown",function(){for(var a=0;a<t.FE.INSTANCES.length;a++)t.FE.INSTANCES[a]!=e&&t.FE.INSTANCES[a].popups&&t.FE.INSTANCES[a].popups.areVisible()&&t.FE.INSTANCES[a].$el.find(".fr-marker").remove()}),y(e.$win,e._mousedown,function(a){A("window.mousedown",[a]),p()}),y(e.$win,e._mouseup,function(a){A("window.mouseup",[a])}),y(e.$win,"cut copy keydown keyup touchmove touchend",function(a){A("window."+a.type,[a])}),y(e.$doc,"dragend drop",function(a){A("document."+a.type,[a])}),y(e.$el,"keydown keypress keyup input",function(a){A(a.type,[a])}),y(e.$el,"focus",function(a){w()&&(E(!1),!1===O&&A(a.type,[a]))}),y(e.$el,"blur",function(a){w()&&!0===O&&(A(a.type,[a]),p())}),f("focus",function(){O=!0}),f("blur",function(){O=!1}),p(),y(e.$el,"cut copy paste beforepaste",function(a){A(a.type,[a])}),f("destroy",c),f("shared.destroy",l)},on:f,trigger:A,bindClick:function(a,s,u){T(a,e._mousedown,s,function(m){var n,S;e.edit.isDisabled()||(S=t((n=m).currentTarget),e.edit.isDisabled()||e.node.hasClass(S.get(0),"fr-disabled")?n.preventDefault():"mousedown"===n.type&&1!==n.which||(e.helpers.isMobile()||n.preventDefault(),(e.helpers.isAndroid()||e.helpers.isWindowsPhone())&&0===S.parents(".fr-dropdown-menu").length&&(n.preventDefault(),n.stopPropagation()),S.addClass("fr-selected"),e.events.trigger("commands.mousedown",[S])))},!0),T(a,e._mouseup+" "+e._move,s,function(m){e.edit.isDisabled()||function(n,S){var x=t(n.currentTarget);if(e.edit.isDisabled()||e.node.hasClass(x.get(0),"fr-disabled"))return n.preventDefault();if(("mouseup"!==n.type||1===n.which)&&e.node.hasClass(x.get(0),"fr-selected"))if("touchmove"!=n.type){if(n.stopPropagation(),n.stopImmediatePropagation(),n.preventDefault(),!e.node.hasClass(x.get(0),"fr-selected"))return e.button.getButtons(".fr-selected",!0).removeClass("fr-selected");if(e.button.getButtons(".fr-selected",!0).removeClass("fr-selected"),x.data("dragging")||x.attr("disabled"))return x.removeData("dragging");var q=x.data("timeout");q&&(clearTimeout(q),x.removeData("timeout")),S.apply(e,[n])}else x.data("timeout")||x.data("timeout",setTimeout(function(){x.data("dragging",!0)},100))}(m,u)},!0),T(a,"mousedown click mouseup",s,function(m){e.edit.isDisabled()||m.stopPropagation()},!0),f("window.mouseup",function(){e.edit.isDisabled()||(a.find(s).removeClass("fr-selected"),p())}),T(a,"mouseenter",s,function(){t(this).hasClass("fr-options")&&t(this).prev(".fr-btn").addClass("fr-btn-hover"),t(this).next(".fr-btn").hasClass("fr-options")&&t(this).next(".fr-btn").addClass("fr-btn-hover")}),T(a,"mouseleave",s,function(){t(this).hasClass("fr-options")&&t(this).prev(".fr-btn").removeClass("fr-btn-hover"),t(this).next(".fr-btn").hasClass("fr-options")&&t(this).next(".fr-btn").removeClass("fr-btn-hover")})},disableBlur:L,enableBlur:p,blurActive:w,focus:E,chainTrigger:function(a,s,u){if(!e.edit.isDisabled()||u){var m,n;if(0!==a.indexOf("shared."))m=i[a];else{if(0<e.shared.count)return!1;m=e.shared._events[a]}if(m)for(var S=0;S<m.length;S++)void 0!==(n=m[S].apply(e,[s]))&&(s=n);return void 0!==(n=e.$oel.triggerHandler("froalaEditor."+a,t.merge([e],[s])))&&(s=n),s}},$on:T,$off:function(){_(R),R=[],0===e.shared.count&&(_(e.shared.$_events),e.shared.$_events=[])}}},t.FE.MODULES.node=function(e){function o(p){return p&&"IFRAME"!=p.tagName?Array.prototype.slice.call(p.childNodes||[]):[]}function i(p){return!!p&&p.nodeType==Node.ELEMENT_NODE&&0<=t.FE.BLOCK_TAGS.indexOf(p.tagName.toLowerCase())}function y(p){var L={},w=p.attributes;if(w)for(var f=0;f<w.length;f++){var R=w[f];L[R.nodeName]=R.value}return L}function E(p){for(var L="",w=y(p),f=Object.keys(w).sort(),R=0;R<f.length;R++){var T=f[R],_=w[T];_.indexOf("'")<0&&0<=_.indexOf('"')?L+=" "+T+"='"+_+"'":0<=_.indexOf('"')&&0<=_.indexOf("'")?L+=" "+T+'="'+(_=_.replace(/"/g,"&quot;"))+'"':L+=" "+T+'="'+_+'"'}return L}function O(p){return p===e.el}return{isBlock:i,isEmpty:function(p,L){if(!p)return!0;if(p.querySelector("table"))return!1;var w=o(p);1==w.length&&i(w[0])&&(w=o(w[0]));for(var f=!1,R=0;R<w.length;R++){var T=w[R];if(!(L&&e.node.hasClass(T,"fr-marker")||T.nodeType==Node.TEXT_NODE&&0===T.textContent.length)){if("BR"!=T.tagName&&0<(T.textContent||"").replace(/\u200B/gi,"").replace(/\n/g,"").length||f)return!1;"BR"==T.tagName&&(f=!0)}}return!(p.querySelectorAll(t.FE.VOID_ELEMENTS.join(",")).length-p.querySelectorAll("br").length||p.querySelector(e.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),")+":not(.fr-marker)")||1<p.querySelectorAll(t.FE.BLOCK_TAGS.join(",")).length||p.querySelector(e.opts.htmlDoNotWrapTags.join(":not(.fr-marker),")+":not(.fr-marker)"))},blockParent:function(p){for(;p&&p.parentNode!==e.el&&(!p.parentNode||!e.node.hasClass(p.parentNode,"fr-inner"));)if(i(p=p.parentNode))return p;return null},deepestParent:function(p,L,w){if(void 0===L&&(L=[]),void 0===w&&(w=!0),L.push(e.el),0<=L.indexOf(p.parentNode)||p.parentNode&&e.node.hasClass(p.parentNode,"fr-inner")||p.parentNode&&0<=t.FE.SIMPLE_ENTER_TAGS.indexOf(p.parentNode.tagName)&&w)return null;for(;L.indexOf(p.parentNode)<0&&p.parentNode&&!e.node.hasClass(p.parentNode,"fr-inner")&&(t.FE.SIMPLE_ENTER_TAGS.indexOf(p.parentNode.tagName)<0||!w)&&(!i(p)||!i(p.parentNode)||!w);)p=p.parentNode;return p},rawAttributes:y,attributes:E,clearAttributes:function(p){for(var L=p.attributes,w=L.length-1;0<=w;w--)p.removeAttribute(L[w].nodeName)},openTagString:function(p){return"<"+p.tagName.toLowerCase()+E(p)+">"},closeTagString:function(p){return"</"+p.tagName.toLowerCase()+">"},isFirstSibling:function p(L,w){void 0===w&&(w=!0);for(var f=L.previousSibling;f&&w&&e.node.hasClass(f,"fr-marker");)f=f.previousSibling;return!f||f.nodeType==Node.TEXT_NODE&&""===f.textContent&&p(f)},isLastSibling:function p(L,w){void 0===w&&(w=!0);for(var f=L.nextSibling;f&&w&&e.node.hasClass(f,"fr-marker");)f=f.nextSibling;return!f||f.nodeType==Node.TEXT_NODE&&""===f.textContent&&p(f)},isList:function(p){return!!p&&0<=["UL","OL"].indexOf(p.tagName)},isLink:function(p){return!!p&&p.nodeType==Node.ELEMENT_NODE&&"a"==p.tagName.toLowerCase()},isElement:O,contents:o,isVoid:function(p){return p&&p.nodeType==Node.ELEMENT_NODE&&0<=t.FE.VOID_ELEMENTS.indexOf((p.tagName||"").toLowerCase())},hasFocus:function(p){return p===e.doc.activeElement&&(!e.doc.hasFocus||e.doc.hasFocus())&&!!(O(p)||p.type||p.href||~p.tabIndex)},isEditable:function(p){return(!p.getAttribute||"false"!=p.getAttribute("contenteditable"))&&["STYLE","SCRIPT"].indexOf(p.tagName)<0},isDeletable:function(p){return p&&p.nodeType==Node.ELEMENT_NODE&&p.getAttribute("class")&&0<=(p.getAttribute("class")||"").indexOf("fr-deletable")},hasClass:function(p,L){return p instanceof t&&(p=p.get(0)),p&&p.classList&&p.classList.contains(L)},filter:function(p){return e.browser.msie?p:{acceptNode:p}}}},t.FE.INVISIBLE_SPACE="&#8203;",t.FE.START_MARKER='<span class="fr-marker" data-id="0" data-type="true" style="display: none; line-height: 0;">'+t.FE.INVISIBLE_SPACE+"</span>",t.FE.END_MARKER='<span class="fr-marker" data-id="0" data-type="false" style="display: none; line-height: 0;">'+t.FE.INVISIBLE_SPACE+"</span>",t.FE.MARKERS=t.FE.START_MARKER+t.FE.END_MARKER,t.FE.MODULES.markers=function(e){function o(){if(!e.$wp)return null;try{var y=e.selection.ranges(0),E=y.commonAncestorContainer;if(E!=e.el&&0===e.$el.find(E).length)return null;var O=y.cloneRange(),p=y.cloneRange();O.collapse(!0);var L=t('<span class="fr-marker" style="display: none; line-height: 0;">'+t.FE.INVISIBLE_SPACE+"</span>",e.doc)[0];if(O.insertNode(L),L=e.$el.find("span.fr-marker").get(0)){for(var w=L.nextSibling;w&&w.nodeType===Node.TEXT_NODE&&0===w.textContent.length;)t(w).remove(),w=e.$el.find("span.fr-marker").get(0).nextSibling;return e.selection.clear(),e.selection.get().addRange(p),L}return null}catch{}}function i(){e.$el.find(".fr-marker").remove()}return{place:function(y,E,O){var p,L,w;try{var f=y.cloneRange();if(f.collapse(E),f.insertNode(t('<span class="fr-marker" data-id="'+O+'" data-type="'+E+'" style="display: '+(e.browser.safari?"none":"inline-block")+'; line-height: 0;">'+t.FE.INVISIBLE_SPACE+"</span>",e.doc)[0]),!0===E)for(w=(p=e.$el.find('span.fr-marker[data-type="true"][data-id="'+O+'"]').get(0)).nextSibling;w&&w.nodeType===Node.TEXT_NODE&&0===w.textContent.length;)t(w).remove(),w=p.nextSibling;if(!0===E&&!y.collapsed){for(;!e.node.isElement(p.parentNode)&&!w;)t(p.parentNode).after(p),w=p.nextSibling;if(w&&w.nodeType===Node.ELEMENT_NODE&&e.node.isBlock(w)&&"HR"!==w.tagName){for(L=[w];(L=e.node.contents(w=L[0]))[0]&&e.node.isBlock(L[0]););t(w).prepend(t(p))}}if(!1===E&&!y.collapsed){if((w=(p=e.$el.find('span.fr-marker[data-type="false"][data-id="'+O+'"]').get(0)).previousSibling)&&w.nodeType===Node.ELEMENT_NODE&&e.node.isBlock(w)&&"HR"!==w.tagName){for(L=[w];(L=e.node.contents(w=L[L.length-1]))[L.length-1]&&e.node.isBlock(L[L.length-1]););t(w).append(t(p))}p.parentNode&&0<=["TD","TH"].indexOf(p.parentNode.tagName)&&p.parentNode.previousSibling&&!p.previousSibling&&t(p.parentNode.previousSibling).append(p)}var R=e.$el.find('span.fr-marker[data-type="'+E+'"][data-id="'+O+'"]').get(0);return R&&(R.style.display="none"),R}catch{return null}},insert:o,split:function(){e.selection.isCollapsed()||e.selection.remove();var y=e.$el.find(".fr-marker").get(0);if(null==y&&(y=o()),null==y)return null;var E=e.node.deepestParent(y);if(E||(E=e.node.blockParent(y))&&"LI"!=E.tagName&&(E=null),E)if(e.node.isBlock(E)&&e.node.isEmpty(E))"LI"!=E.tagName||E.parentNode.firstElementChild!=E||e.node.isEmpty(E.parentNode)?t(E).replaceWith('<span class="fr-marker"></span>'):t(E).append('<span class="fr-marker"></span>');else if(e.cursor.isAtStart(y,E))t(E).before('<span class="fr-marker"></span>'),t(y).remove();else if(e.cursor.isAtEnd(y,E))t(E).after('<span class="fr-marker"></span>'),t(y).remove();else{for(var O=y,p="",L="";p+=e.node.closeTagString(O=O.parentNode),L=e.node.openTagString(O)+L,O!=E;);t(y).replaceWith('<span id="fr-break"></span>');var w=e.node.openTagString(E)+t(E).html()+e.node.closeTagString(E);w=w.replace(/<span id="fr-break"><\/span>/g,p+'<span class="fr-marker"></span>'+L),t(E).replaceWith(w)}return e.$el.find(".fr-marker").get(0)},insertAtPoint:function(y){var E,O=y.clientX,p=y.clientY;i();var L=null;if(typeof e.doc.caretPositionFromPoint<"u"?(E=e.doc.caretPositionFromPoint(O,p),(L=e.doc.createRange()).setStart(E.offsetNode,E.offset),L.setEnd(E.offsetNode,E.offset)):typeof e.doc.caretRangeFromPoint<"u"&&(E=e.doc.caretRangeFromPoint(O,p),(L=e.doc.createRange()).setStart(E.startContainer,E.startOffset),L.setEnd(E.startContainer,E.startOffset)),null!==L&&typeof e.win.getSelection<"u"){var w=e.win.getSelection();w.removeAllRanges(),w.addRange(L)}else if(typeof e.doc.body.createTextRange<"u")try{(L=e.doc.body.createTextRange()).moveToPoint(O,p);var f=L.duplicate();f.moveToPoint(O,p),L.setEndPoint("EndToEnd",f),L.select()}catch{return!1}o()},remove:i}},t.FE.MODULES.selection=function(e){function o(){var a="";return e.win.getSelection?a=e.win.getSelection():e.doc.getSelection?a=e.doc.getSelection():e.doc.selection&&(a=e.doc.selection.createRange().text),a.toString()}function i(){return e.win.getSelection?e.win.getSelection():e.doc.getSelection?e.doc.getSelection():e.doc.selection.createRange()}function y(a){var s=i(),u=[];if(s&&s.getRangeAt&&s.rangeCount){u=[];for(var m=0;m<s.rangeCount;m++)u.push(s.getRangeAt(m))}else u=e.doc.createRange?[e.doc.createRange()]:[];return void 0!==a?u[a]:u}function E(){var a=i();try{a.removeAllRanges?a.removeAllRanges():a.empty?a.empty():a.clear&&a.clear()}catch{}}function O(a,s){var u=a;return u.nodeType==Node.ELEMENT_NODE&&0<u.childNodes.length&&u.childNodes[s]&&(u=u.childNodes[s]),u.nodeType==Node.TEXT_NODE&&(u=u.parentNode),u}function p(){if(e.$wp){e.markers.remove();var a,s,u=y(),m=[];for(s=0;s<u.length;s++)if(u[s].startContainer!==e.doc||e.browser.msie){var n=(a=u[s]).collapsed,S=e.markers.place(a,!0,s),x=e.markers.place(a,!1,s);if(void 0!==S&&S||!n||(t(".fr-marker").remove(),e.selection.setAtEnd(e.el)),e.el.normalize(),e.browser.safari&&!n)try{(a=e.doc.createRange()).setStartAfter(S),a.setEndBefore(x),m.push(a)}catch{}}if(e.browser.safari&&m.length)for(e.selection.clear(),s=0;s<m.length;s++)e.selection.get().addRange(m[s])}}function L(){var a,s=e.el.querySelectorAll('.fr-marker[data-type="true"]');if(!e.$wp)return e.markers.remove(),!1;if(0===s.length)return!1;if(e.browser.msie||e.browser.edge)for(a=0;a<s.length;a++)s[a].style.display="inline-block";e.core.hasFocus()||e.browser.msie||e.browser.webkit||e.$el.focus(),E();var u=i();for(a=0;a<s.length;a++){var m=t(s[a]).data("id"),n=s[a],S=e.doc.createRange(),x=e.$el.find('.fr-marker[data-type="false"][data-id="'+m+'"]');(e.browser.msie||e.browser.edge)&&x.css("display","inline-block");var q=null;if(0<x.length){x=x[0];try{for(var v,D=!1,G=n.nextSibling;G&&G.nodeType==Node.TEXT_NODE&&0===G.textContent.length;)G=(v=G).nextSibling,t(v).remove();for(var k,te,J=x.nextSibling;J&&J.nodeType==Node.TEXT_NODE&&0===J.textContent.length;)J=(v=J).nextSibling,t(v).remove();if(n.nextSibling==x||x.nextSibling==n){for(var Ee=n.nextSibling==x?n:x,ye=Ee==n?x:n,pe=Ee.previousSibling;pe&&pe.nodeType==Node.TEXT_NODE&&0===pe.length;)pe=(v=pe).previousSibling,t(v).remove();if(pe&&pe.nodeType==Node.TEXT_NODE)for(;pe&&pe.previousSibling&&pe.previousSibling.nodeType==Node.TEXT_NODE;)pe.previousSibling.textContent=pe.previousSibling.textContent+pe.textContent,t((pe=pe.previousSibling).nextSibling).remove();for(var Re=ye.nextSibling;Re&&Re.nodeType==Node.TEXT_NODE&&0===Re.length;)Re=(v=Re).nextSibling,t(v).remove();if(Re&&Re.nodeType==Node.TEXT_NODE)for(;Re&&Re.nextSibling&&Re.nextSibling.nodeType==Node.TEXT_NODE;)Re.nextSibling.textContent=Re.textContent+Re.nextSibling.textContent,t((Re=Re.nextSibling).previousSibling).remove();if(pe&&(e.node.isVoid(pe)||e.node.isBlock(pe))&&(pe=null),Re&&(e.node.isVoid(Re)||e.node.isBlock(Re))&&(Re=null),pe&&Re&&pe.nodeType==Node.TEXT_NODE&&Re.nodeType==Node.TEXT_NODE){t(n).remove(),t(x).remove();var qe=pe.textContent.length;pe.textContent=pe.textContent+Re.textContent,t(Re).remove(),e.opts.htmlUntouched||e.spaces.normalize(pe),S.setStart(pe,qe),S.setEnd(pe,qe),D=!0}else!pe&&Re&&Re.nodeType==Node.TEXT_NODE?(t(n).remove(),t(x).remove(),e.opts.htmlUntouched||e.spaces.normalize(Re),q=t(e.doc.createTextNode("\u200b")),t(Re).before(q),S.setStart(Re,0),S.setEnd(Re,0),D=!0):!Re&&pe&&pe.nodeType==Node.TEXT_NODE&&(t(n).remove(),t(x).remove(),e.opts.htmlUntouched||e.spaces.normalize(pe),q=t(e.doc.createTextNode("\u200b")),t(pe).after(q),S.setStart(pe,pe.textContent.length),S.setEnd(pe,pe.textContent.length),D=!0)}D||((e.browser.chrome||e.browser.edge)&&n.nextSibling==x?(k=w(x,S,!0)||S.setStartAfter(x),te=w(n,S,!1)||S.setEndBefore(n)):(n.previousSibling==x&&(x=(n=x).nextSibling),x.nextSibling&&"BR"===x.nextSibling.tagName||!x.nextSibling&&e.node.isBlock(n.previousSibling)||n.previousSibling&&"BR"==n.previousSibling.tagName||(n.style.display="inline",x.style.display="inline",q=t(e.doc.createTextNode("\u200b"))),k=w(n,S,!0)||t(n).before(q)&&S.setStartBefore(n),te=w(x,S,!1)||t(x).after(q)&&S.setEndAfter(x)),"function"==typeof k&&k(),"function"==typeof te&&te())}catch{}}q&&q.remove();try{u.addRange(S)}catch{}}e.markers.remove()}function w(a,s,u){var m,n=a.previousSibling,S=a.nextSibling;return n&&S&&n.nodeType==Node.TEXT_NODE&&S.nodeType==Node.TEXT_NODE?(m=n.textContent.length,u?(S.textContent=n.textContent+S.textContent,t(n).remove(),t(a).remove(),e.opts.htmlUntouched||e.spaces.normalize(S),function(){s.setStart(S,m)}):(n.textContent=n.textContent+S.textContent,t(S).remove(),t(a).remove(),e.opts.htmlUntouched||e.spaces.normalize(n),function(){s.setEnd(n,m)})):n&&!S&&n.nodeType==Node.TEXT_NODE?(m=n.textContent.length,u?(e.opts.htmlUntouched||e.spaces.normalize(n),function(){s.setStart(n,m)}):(e.opts.htmlUntouched||e.spaces.normalize(n),function(){s.setEnd(n,m)})):!(!S||n||S.nodeType!=Node.TEXT_NODE)&&(u?(e.opts.htmlUntouched||e.spaces.normalize(S),function(){s.setStart(S,0)}):(e.opts.htmlUntouched||e.spaces.normalize(S),function(){s.setEnd(S,0)}))}function f(){for(var a=y(),s=0;s<a.length;s++)if(!a[s].collapsed)return!1;return!0}function R(a){var s,u,m=!1,n=!1;if(e.win.getSelection){var S=e.win.getSelection();S.rangeCount&&((u=(s=S.getRangeAt(0)).cloneRange()).selectNodeContents(a),u.setEnd(s.startContainer,s.startOffset),m=""===u.toString(),u.selectNodeContents(a),u.setStart(s.endContainer,s.endOffset),n=""===u.toString())}else e.doc.selection&&"Control"!=e.doc.selection.type&&((u=(s=e.doc.selection.createRange()).duplicate()).moveToElementText(a),u.setEndPoint("EndToStart",s),m=""===u.text,u.moveToElementText(a),u.setEndPoint("StartToEnd",s),n=""===u.text);return{atStart:m,atEnd:n}}function T(a,s){void 0===s&&(s=!0);var u=t(a).html();u&&u.replace(/\u200b/g,"").length!=u.length&&t(a).html(u.replace(/\u200b/g,""));for(var m=e.node.contents(a),n=0;n<m.length;n++)m[n].nodeType!=Node.ELEMENT_NODE?t(m[n]).remove():(T(m[n],0===n),0===n&&(s=!1));a.nodeType==Node.TEXT_NODE?t(a).replaceWith('<span data-first="true" data-text="true"></span>'):s&&t(a).attr("data-first",!0)}function _(){return 0===t(this).find("fr-inner").length}function A(){try{if(!e.$wp)return!1;for(var a=y(0).commonAncestorContainer;a&&!e.node.isElement(a);)a=a.parentNode;return!!e.node.isElement(a)}catch{return!1}}function c(a,s){if(!a||0<a.getElementsByClassName("fr-marker").length)return!1;for(var u=a.firstChild;u&&(e.node.isBlock(u)||s&&!e.node.isVoid(u)&&u.nodeType==Node.ELEMENT_NODE);)u=(a=u).firstChild;a.innerHTML=t.FE.MARKERS+a.innerHTML}function l(a,s){if(!a||0<a.getElementsByClassName("fr-marker").length)return!1;for(var u=a.lastChild;u&&(e.node.isBlock(u)||s&&!e.node.isVoid(u)&&u.nodeType==Node.ELEMENT_NODE);)u=(a=u).lastChild;var m=e.doc.createElement("SPAN");m.setAttribute("id","fr-sel-markers"),m.innerHTML=t.FE.MARKERS,a.appendChild(m);var n=a.querySelector("#fr-sel-markers");n.outerHTML=n.innerHTML}return{text:o,get:i,ranges:y,clear:E,element:function(){var a=i();try{if(a.rangeCount){var s,u=y(0),m=u.startContainer;if(m.nodeType==Node.TEXT_NODE&&u.startOffset==(m.textContent||"").length&&m.nextSibling&&(m=m.nextSibling),m.nodeType==Node.ELEMENT_NODE){var n=!1;if(0<m.childNodes.length&&m.childNodes[u.startOffset]){for(s=m.childNodes[u.startOffset];s&&s.nodeType==Node.TEXT_NODE&&0===s.textContent.length;)s=s.nextSibling;if(s&&s.textContent.replace(/\u200B/g,"")===o().replace(/\u200B/g,"")&&(m=s,n=!0),!n&&1<m.childNodes.length&&0<u.startOffset&&m.childNodes[u.startOffset-1]){for(s=m.childNodes[u.startOffset-1];s&&s.nodeType==Node.TEXT_NODE&&0===s.textContent.length;)s=s.nextSibling;s&&s.textContent.replace(/\u200B/g,"")===o().replace(/\u200B/g,"")&&(m=s,n=!0)}}else!u.collapsed&&m.nextSibling&&m.nextSibling.nodeType==Node.ELEMENT_NODE&&(s=m.nextSibling)&&s.textContent.replace(/\u200B/g,"")===o().replace(/\u200B/g,"")&&(m=s,n=!0);!n&&0<m.childNodes.length&&t(m.childNodes[0]).text().replace(/\u200B/g,"")===o().replace(/\u200B/g,"")&&["BR","IMG","HR"].indexOf(m.childNodes[0].tagName)<0&&(m=m.childNodes[0])}for(;m.nodeType!=Node.ELEMENT_NODE&&m.parentNode;)m=m.parentNode;for(var S=m;S&&"HTML"!=S.tagName;){if(S==e.el)return m;S=t(S).parent()[0]}}}catch{}return e.el},endElement:function(){var a=i();try{if(a.rangeCount){var s,u=y(0),m=u.endContainer;if(m.nodeType==Node.ELEMENT_NODE){var n=!1;0<m.childNodes.length&&m.childNodes[u.endOffset]&&t(m.childNodes[u.endOffset]).text()===o()?(m=m.childNodes[u.endOffset],n=!0):!u.collapsed&&m.previousSibling&&m.previousSibling.nodeType==Node.ELEMENT_NODE?(s=m.previousSibling)&&s.textContent.replace(/\u200B/g,"")===o().replace(/\u200B/g,"")&&(m=s,n=!0):!u.collapsed&&0<m.childNodes.length&&m.childNodes[u.endOffset]&&(s=m.childNodes[u.endOffset].previousSibling).nodeType==Node.ELEMENT_NODE&&s&&s.textContent.replace(/\u200B/g,"")===o().replace(/\u200B/g,"")&&(m=s,n=!0),!n&&0<m.childNodes.length&&t(m.childNodes[m.childNodes.length-1]).text()===o()&&["BR","IMG","HR"].indexOf(m.childNodes[m.childNodes.length-1].tagName)<0&&(m=m.childNodes[m.childNodes.length-1])}for(m.nodeType==Node.TEXT_NODE&&0===u.endOffset&&m.previousSibling&&m.previousSibling.nodeType==Node.ELEMENT_NODE&&(m=m.previousSibling);m.nodeType!=Node.ELEMENT_NODE&&m.parentNode;)m=m.parentNode;for(var S=m;S&&"HTML"!=S.tagName;){if(S==e.el)return m;S=t(S).parent()[0]}}}catch{}return e.el},save:p,restore:L,isCollapsed:f,isFull:function(){if(f())return!1;e.selection.save();var a,s=e.el.querySelectorAll("td, th, img, br");for(a=0;a<s.length;a++)s[a].nextSibling&&(s[a].innerHTML='<span class="fr-mk">'+t.FE.INVISIBLE_SPACE+"</span>"+s[a].innerHTML);var u=!1,m=R(e.el);for(m.atStart&&m.atEnd&&(u=!0),s=e.el.querySelectorAll(".fr-mk"),a=0;a<s.length;a++)s[a].parentNode.removeChild(s[a]);return e.selection.restore(),u},inEditor:A,remove:function(){if(f())return!0;var a;p();var s=function(Oe){for(var de=Oe.previousSibling;de&&de.nodeType==Node.TEXT_NODE&&0===de.textContent.length;){var $e=de;de=de.previousSibling,t($e).remove()}return de},u=function(Oe){for(var de=Oe.nextSibling;de&&de.nodeType==Node.TEXT_NODE&&0===de.textContent.length;){var $e=de;de=de.nextSibling,t($e).remove()}return de},m=e.$el.find('.fr-marker[data-type="true"]');for(a=0;a<m.length;a++)for(var n=m[a];!(s(n)||e.node.isBlock(n.parentNode)||e.$el.is(n.parentNode)||e.node.hasClass(n.parentNode,"fr-inner"));)t(n.parentNode).before(n);var S=e.$el.find('.fr-marker[data-type="false"]');for(a=0;a<S.length;a++){for(var x=S[a];!(u(x)||e.node.isBlock(x.parentNode)||e.$el.is(x.parentNode)||e.node.hasClass(x.parentNode,"fr-inner"));)t(x.parentNode).after(x);x.parentNode&&e.node.isBlock(x.parentNode)&&e.node.isEmpty(x.parentNode)&&!e.$el.is(x.parentNode)&&!e.node.hasClass(x.parentNode,"fr-inner")&&e.opts.keepFormatOnDelete&&t(x.parentNode).after(x)}if(function(){for(var Oe=e.$el.find(".fr-marker"),de=0;de<Oe.length;de++)if(t(Oe[de]).parentsUntil('.fr-element, [contenteditable="true"]','[contenteditable="false"]').length)return!1;return!0}()){!function Oe(de,$e){var le=e.node.contents(de.get(0));0<=["TD","TH"].indexOf(de.get(0).tagName)&&1==de.find(".fr-marker").length&&e.node.hasClass(le[0],"fr-marker")&&de.attr("data-del-cell",!0);for(var He=0;He<le.length;He++){var ce=le[He];e.node.hasClass(ce,"fr-marker")?$e=($e+1)%2:$e?0<t(ce).find(".fr-marker").length?$e=Oe(t(ce),$e):["TD","TH"].indexOf(ce.tagName)<0&&!e.node.hasClass(ce,"fr-inner")?!e.opts.keepFormatOnDelete||0<e.$el.find("[data-first]").length||e.node.isVoid(ce)?t(ce).remove():T(ce):e.node.hasClass(ce,"fr-inner")?0===t(ce).find(".fr-inner").length?t(ce).html("<br>"):t(ce).find(".fr-inner").filter(_).html("<br>"):(t(ce).empty(),t(ce).attr("data-del-cell",!0)):0<t(ce).find(".fr-marker").length&&($e=Oe(t(ce),$e))}return $e}(e.$el,0);var q=e.$el.find('[data-first="true"]');if(q.length)e.$el.find(".fr-marker").remove(),q.append(t.FE.INVISIBLE_SPACE+t.FE.MARKERS).removeAttr("data-first"),q.attr("data-text")&&q.replaceWith(q.html());else for(e.$el.find("table").filter(function(){return 0<t(this).find("[data-del-cell]").length&&t(this).find("[data-del-cell]").length==t(this).find("td, th").length}).remove(),e.$el.find("[data-del-cell]").removeAttr("data-del-cell"),m=e.$el.find('.fr-marker[data-type="true"]'),a=0;a<m.length;a++){var v=m[a],D=v.nextSibling,G=e.$el.find('.fr-marker[data-type="false"][data-id="'+t(v).data("id")+'"]').get(0);if(G){if(v&&(!D||D!=G)){var k=e.node.blockParent(v),te=e.node.blockParent(G),J=!1,Ee=!1;if(k&&0<=["UL","OL"].indexOf(k.tagName)&&(J=!(k=null)),te&&0<=["UL","OL"].indexOf(te.tagName)&&(Ee=!(te=null)),t(v).after(G),k!=te)if(null!=k||J)if(null!=te||Ee||0!==t(k).parentsUntil(e.$el,"table").length)k&&te&&0===t(k).parentsUntil(e.$el,"table").length&&0===t(te).parentsUntil(e.$el,"table").length&&0===t(k).find(te).length&&0===t(te).find(k).length&&(t(k).append(t(te).html()),t(te).remove());else{for(D=k;!D.nextSibling&&D.parentNode!=e.el;)D=D.parentNode;for(D=D.nextSibling;D&&"BR"!=D.tagName;){var ye=D.nextSibling;t(k).append(D),D=ye}D&&"BR"==D.tagName&&t(D).remove()}else{var pe=e.node.deepestParent(v);pe?(t(pe).after(t(te).html()),t(te).remove()):0===t(te).parentsUntil(e.$el,"table").length&&(t(v).next().after(t(te).html()),t(te).remove())}}}else G=t(v).clone().attr("data-type",!1),t(v).after(G)}}e.$el.find("li:empty").remove(),e.opts.keepFormatOnDelete||e.html.fillEmptyBlocks(),e.html.cleanEmptyTags(!0),e.opts.htmlUntouched||(e.clean.lists(),e.$el.find("li:empty").append("<br>"),e.spaces.normalize());var Re=e.$el.find(".fr-marker:last").get(0),qe=e.$el.find(".fr-marker:first").get(0);void 0!==Re&&void 0!==qe&&!Re.nextSibling&&qe.previousSibling&&"BR"==qe.previousSibling.tagName&&e.node.isElement(Re.parentNode)&&e.node.isElement(qe.parentNode)&&e.$el.append("<br>"),L()},blocks:function(){var a,s=[],u=i();if(A()&&u.rangeCount){var m=y();for(a=0;a<m.length;a++){var n,S=m[a],x=O(S.startContainer,S.startOffset),q=O(S.endContainer,S.endOffset);(e.node.isBlock(x)||e.node.hasClass(x,"fr-inner"))&&s.indexOf(x)<0&&s.push(x),(n=e.node.blockParent(x))&&s.indexOf(n)<0&&s.push(n);for(var v=[],D=x;D!==q&&D!==e.el;)v.indexOf(D)<0&&D.children&&D.children.length?(v.push(D),D=D.children[0]):D.nextSibling?D=D.nextSibling:D.parentNode&&v.push(D=D.parentNode),e.node.isBlock(D)&&v.indexOf(D)<0&&s.indexOf(D)<0&&(D!==q||0<S.endOffset)&&s.push(D);e.node.isBlock(q)&&s.indexOf(q)<0&&0<S.endOffset&&s.push(q),(n=e.node.blockParent(q))&&s.indexOf(n)<0&&s.push(n)}}for(a=s.length-1;0<a;a--)t(s[a]).find(s).length&&s.splice(a,1);return s},info:R,setAtEnd:l,setAtStart:c,setBefore:function(a,s){void 0===s&&(s=!0);for(var u=a.previousSibling;u&&u.nodeType==Node.TEXT_NODE&&0===u.textContent.length;)u=u.previousSibling;return u?(e.node.isBlock(u)?l(u):"BR"==u.tagName?t(u).before(t.FE.MARKERS):t(u).after(t.FE.MARKERS),!0):!!s&&(e.node.isBlock(a)?c(a):t(a).before(t.FE.MARKERS),!0)},setAfter:function(a,s){void 0===s&&(s=!0);for(var u=a.nextSibling;u&&u.nodeType==Node.TEXT_NODE&&0===u.textContent.length;)u=u.nextSibling;return u?(e.node.isBlock(u)?c(u):t(u).before(t.FE.MARKERS),!0):!!s&&(e.node.isBlock(a)?l(a):t(a).after(t.FE.MARKERS),!0)},rangeElement:O}},t.extend(t.FE.DEFAULTS,{htmlAllowedTags:["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","br","button","canvas","caption","cite","code","col","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","queue","rp","rt","ruby","s","samp","script","style","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video","wbr"],htmlRemoveTags:["script","style"],htmlAllowedAttrs:["accept","accept-charset","accesskey","action","align","allowfullscreen","allowtransparency","alt","async","autocomplete","autofocus","autoplay","autosave","background","bgcolor","border","charset","cellpadding","cellspacing","checked","cite","class","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","data","data-.*","datetime","default","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","for","form","formaction","frameborder","headers","height","hidden","high","href","hreflang","http-equiv","icon","id","ismap","itemprop","keytype","kind","label","lang","language","list","loop","low","max","maxlength","media","method","min","mozallowfullscreen","multiple","muted","name","novalidate","open","optimum","pattern","ping","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","src","srcdoc","srclang","srcset","start","step","summary","spellcheck","style","tabindex","target","title","type","translate","usemap","value","valign","webkitallowfullscreen","width","wrap"],htmlAllowedStyleProps:[".*"],htmlAllowComments:!0,htmlUntouched:!1,fullPage:!1}),t.FE.HTML5Map={B:"STRONG",I:"EM",STRIKE:"S"},t.FE.MODULES.clean=function(e){var o,i,y,E;function O(c){if(c.nodeType==Node.ELEMENT_NODE&&c.getAttribute("class")&&0<=c.getAttribute("class").indexOf("fr-marker"))return!1;var l,a=e.node.contents(c),s=[];for(l=0;l<a.length;l++)a[l].nodeType!=Node.ELEMENT_NODE||e.node.isVoid(a[l])?a[l].nodeType==Node.TEXT_NODE&&(a[l].textContent=a[l].textContent.replace(/\u200b/g,"")):a[l].textContent.replace(/\u200b/g,"").length!=a[l].textContent.length&&O(a[l]);if(c.nodeType==Node.ELEMENT_NODE&&!e.node.isVoid(c)&&(c.normalize(),a=e.node.contents(c),s=c.querySelectorAll(".fr-marker"),a.length-s.length==0)){for(l=0;l<a.length;l++)if(a[l].nodeType==Node.ELEMENT_NODE&&(a[l].getAttribute("class")||"").indexOf("fr-marker")<0)return!1;for(l=0;l<s.length;l++)c.parentNode.insertBefore(s[l].cloneNode(!0),c);return c.parentNode.removeChild(c),!1}}function p(c,l){if(c.nodeType==Node.COMMENT_NODE)return"\x3c!--"+c.nodeValue+"--\x3e";if(c.nodeType==Node.TEXT_NODE)return l?c.textContent.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):c.textContent.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00A0/g,"&nbsp;").replace(/\u0009/g,"");if(c.nodeType!=Node.ELEMENT_NODE||c.nodeType==Node.ELEMENT_NODE&&0<=["STYLE","SCRIPT","NOSCRIPT"].indexOf(c.tagName))return c.outerHTML;if(c.nodeType==Node.ELEMENT_NODE&&"svg"==c.tagName){var a=document.createElement("div"),s=c.cloneNode(!0);return a.appendChild(s),a.innerHTML}if("IFRAME"==c.tagName)return c.outerHTML.replace(/\&lt;/g,"<").replace(/\&gt;/g,">");var u=c.childNodes;if(0===u.length)return c.outerHTML;for(var m="",n=0;n<u.length;n++)"PRE"==c.tagName&&(l=!0),m+=p(u[n],l);return e.node.openTagString(c)+m+e.node.closeTagString(c)}var L=[];function w(c){var l=c.replace(/;;/gi,";");return";"!=(l=l.replace(/^;/gi,"")).charAt(l.length)&&(l+=";"),l}function f(c){var l;for(l in c)if(c.hasOwnProperty(l)){var a=l.match(y),s=null;"style"==l&&e.opts.htmlAllowedStyleProps.length&&(s=c[l].match(E)),a&&s?c[l]=w(s.join(";")):a&&("style"!=l||s)||delete c[l]}for(var u="",m=Object.keys(c).sort(),n=0;n<m.length;n++)c[l=m[n]].indexOf('"')<0?u+=" "+l+'="'+c[l]+'"':u+=" "+l+"='"+c[l]+"'";return u}function R(c,l){var a,s=document.implementation.createHTMLDocument("Froala DOC").createElement("DIV");t(s).append(c);var u="";if(s){var m=e.node.contents(s);for(a=0;a<m.length;a++)l(m[a]);for(m=e.node.contents(s),a=0;a<m.length;a++)u+=p(m[a])}return u}function T(c,l,a){L=[];var s=c=c.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,function(n){return L.push(n),"[FROALA.EDITOR.SCRIPT "+(L.length-1)+"]"}).replace(/<noscript\b[^<]*(?:(?!<\/noscript>)<[^<]*)*<\/noscript>/gi,function(n){return L.push(n),"[FROALA.EDITOR.NOSCRIPT "+(L.length-1)+"]"}).replace(/<meta((?:[\w\W]*?)) http-equiv="/g,'<meta$1 data-fr-http-equiv="').replace(/<img((?:[\w\W]*?)) src="/g,'<img$1 data-fr-src="'),u=null;return e.opts.fullPage&&(s=e.html.extractNode(c,"body")||(0<=c.indexOf("<body")?"":c),a&&(u=e.html.extractNode(c,"head")||"")),s=R(s,l),u&&(u=R(u,l)),function(n,S,x){if(e.opts.fullPage){var q=e.html.extractDoctype(x),v=f(e.html.extractNodeAttrs(x,"html"));return S=S??(e.html.extractNode(x,"head")||"<title></title>"),q+"<html"+v+"><head"+f(e.html.extractNodeAttrs(x,"head"))+">"+S+"</head><body"+f(e.html.extractNodeAttrs(x,"body"))+">"+n+"</body></html>"}return n}(s,u,c).replace(/\[FROALA\.EDITOR\.SCRIPT ([\d]*)\]/gi,function(n,S){return 0<=e.opts.htmlRemoveTags.indexOf("script")?"":L[parseInt(S,10)]}).replace(/\[FROALA\.EDITOR\.NOSCRIPT ([\d]*)\]/gi,function(n,S){return 0<=e.opts.htmlRemoveTags.indexOf("noscript")?"":L[parseInt(S,10)].replace(/\&lt;/g,"<").replace(/\&gt;/g,">")}).replace(/<img((?:[\w\W]*?)) data-fr-src="/g,'<img$1 src="')}function _(c){var l=e.doc.createElement("DIV");return l.innerText=c,l.textContent}function A(c){for(var l=e.node.contents(c),a=0;a<l.length;a++)l[a].nodeType!=Node.TEXT_NODE&&A(l[a]);!function(s){if(!("SPAN"==s.tagName&&0<=(s.getAttribute("class")||"").indexOf("fr-marker"))){var u,m;if("PRE"==s.tagName&&0<=(m=(u=s).innerHTML).indexOf("\n")&&(u.innerHTML=m.replace(/\n/g,"<br>")),s.nodeType==Node.ELEMENT_NODE&&(s.getAttribute("data-fr-src")&&0!==s.getAttribute("data-fr-src").indexOf("blob:")&&s.setAttribute("data-fr-src",e.helpers.sanitizeURL(_(s.getAttribute("data-fr-src")))),s.getAttribute("href")&&s.setAttribute("href",e.helpers.sanitizeURL(_(s.getAttribute("href")))),s.getAttribute("src")&&s.setAttribute("src",e.helpers.sanitizeURL(_(s.getAttribute("src")))),s.getAttribute("data")&&s.setAttribute("data",e.helpers.sanitizeURL(_(s.getAttribute("data")))),0<=["TABLE","TBODY","TFOOT","TR"].indexOf(s.tagName)&&(s.innerHTML=s.innerHTML.trim())),!e.opts.pasteAllowLocalImages&&s.nodeType==Node.ELEMENT_NODE&&"IMG"==s.tagName&&s.getAttribute("data-fr-src")&&0===s.getAttribute("data-fr-src").indexOf("file://"))return s.parentNode.removeChild(s);if(s.nodeType==Node.ELEMENT_NODE&&t.FE.HTML5Map[s.tagName]&&""===e.node.attributes(s)){var n=t.FE.HTML5Map[s.tagName];s.insertAdjacentHTML("beforebegin","<"+n+">"+s.innerHTML+"</"+n+">"),(s=s.previousSibling).parentNode.removeChild(s.nextSibling)}if(e.opts.htmlAllowComments||s.nodeType!=Node.COMMENT_NODE)if(s.tagName&&s.tagName.match(i))s.parentNode.removeChild(s);else if(s.tagName&&!s.tagName.match(o))"svg"===s.tagName?s.parentNode.removeChild(s):e.browser.safari&&"path"==s.tagName&&s.parentNode&&"svg"==s.parentNode.tagName||(e.browser.safari?s.replaceWith(s.innerHTML):s.outerHTML=s.innerHTML);else{var x=s.attributes;if(x)for(var q=x.length-1;0<=q;q--){var v=x[q],D=v.nodeName.match(y),G=null;"style"==v.nodeName&&e.opts.htmlAllowedStyleProps.length&&(G=v.value.match(E)),D&&G?v.value=w(G.join(";")):D&&("style"!=v.nodeName||G)||s.removeAttribute(v.nodeName)}}else 0!==s.data.indexOf("[FROALA.EDITOR")&&s.parentNode.removeChild(s)}}(c)}return{_init:function(){e.opts.fullPage&&t.merge(e.opts.htmlAllowedTags,["head","title","style","link","base","body","html","meta"])},html:function(c,l,a,s){void 0===l&&(l=[]),void 0===a&&(a=[]),void 0===s&&(s=!1);var u,m=t.merge([],e.opts.htmlAllowedTags);for(u=0;u<l.length;u++)0<=m.indexOf(l[u])&&m.splice(m.indexOf(l[u]),1);var n=t.merge([],e.opts.htmlAllowedAttrs);for(u=0;u<a.length;u++)0<=n.indexOf(a[u])&&n.splice(n.indexOf(a[u]),1);return n.push("data-fr-.*"),n.push("fr-.*"),o=new RegExp("^"+m.join("$|^")+"$","gi"),y=new RegExp("^"+n.join("$|^")+"$","gi"),i=new RegExp("^"+e.opts.htmlRemoveTags.join("$|^")+"$","gi"),E=e.opts.htmlAllowedStyleProps.length?new RegExp("((^|;|\\s)"+e.opts.htmlAllowedStyleProps.join(":.+?(?=;|$))|((^|;|\\s)")+":.+?(?=(;)|$))","gi"):null,T(c,A,!0)},toHTML5:function(){var c=e.el.querySelectorAll(Object.keys(t.FE.HTML5Map).join(","));if(c.length){var l=!1;e.el.querySelector(".fr-marker")||(e.selection.save(),l=!0);for(var a=0;a<c.length;a++)""===e.node.attributes(c[a])&&t(c[a]).replaceWith("<"+t.FE.HTML5Map[c[a].tagName]+">"+c[a].innerHTML+"</"+t.FE.HTML5Map[c[a].tagName]+">");l&&e.selection.restore()}},tables:function(){!function(){for(var c=e.el.querySelectorAll("tr"),l=0;l<c.length;l++){for(var a=c[l].children,s=!0,u=0;u<a.length;u++)if("TH"!=a[u].tagName){s=!1;break}if(!1!==s&&0!==a.length){for(var m=c[l];m&&"TABLE"!=m.tagName&&"THEAD"!=m.tagName;)m=m.parentNode;var n=m;"THEAD"!=n.tagName&&(n=e.doc.createElement("THEAD"),m.insertBefore(n,m.firstChild)),n.appendChild(c[l])}}}()},lists:function(){(function(){var l=[];do{if(l.length){var a=l[0],s=e.doc.createElement("ul");a.parentNode.insertBefore(s,a);do{var u=a;a=a.nextSibling,s.appendChild(u)}while(a&&"LI"==a.tagName)}l=[];for(var m=e.el.querySelectorAll("li"),n=0;n<m.length;n++)e.node.isList(m[n].parentNode)||l.push(m[n])}while(0<l.length)})(),function(){for(var c=e.el.querySelectorAll("ol + ol, ul + ul"),l=0;l<c.length;l++){var a=c[l];if(e.node.isList(a.previousSibling)&&e.node.openTagString(a)==e.node.openTagString(a.previousSibling)){for(var s=e.node.contents(a),u=0;u<s.length;u++)a.previousSibling.appendChild(s[u]);a.parentNode.removeChild(a)}}}(),function(){for(var c=e.el.querySelectorAll("ul, ol"),l=0;l<c.length;l++)for(var a=e.node.contents(c[l]),s=null,u=a.length-1;0<=u;u--)"LI"!=a[u].tagName?(s||(s=t("<li>")).insertBefore(a[u]),s.prepend(a[u])):s=null}(),function(){var c,l,a;do{l=!1;var s=e.el.querySelectorAll("li:empty");for(c=0;c<s.length;c++)s[c].parentNode.removeChild(s[c]);var u=e.el.querySelectorAll("ul, ol");for(c=0;c<u.length;c++)(a=u[c]).querySelector("LI")||(l=!0,a.parentNode.removeChild(a))}while(!0===l)}(),function(){for(var c=e.el.querySelectorAll("ul > ul, ol > ol, ul > ol, ol > ul"),l=0;l<c.length;l++){var a=c[l],s=a.previousSibling;s&&("LI"==s.tagName?s.appendChild(a):t(a).wrap("<li></li>"))}}(),function(){for(var c=e.el.querySelectorAll("li > ul, li > ol"),l=0;l<c.length;l++){var a=c[l];if(a.nextSibling){var s=a.nextSibling,u=t("<li>");t(a.parentNode).after(u);do{var m=s;s=s.nextSibling,u.append(m)}while(s)}}}(),function(){for(var c=e.el.querySelectorAll("li > ul, li > ol"),l=0;l<c.length;l++){var a=c[l];if(e.node.isFirstSibling(a))t(a).before("<br/>");else if(a.previousSibling&&"BR"==a.previousSibling.tagName){for(var s=a.previousSibling.previousSibling;s&&e.node.hasClass(s,"fr-marker");)s=s.previousSibling;s&&"BR"!=s.tagName&&t(a.previousSibling).remove()}}}(),function(){for(var c=e.el.querySelectorAll("li:empty"),l=0;l<c.length;l++)t(c[l]).remove()}()},invisibleSpaces:function(c){return c.replace(/\u200b/g,"").length==c.length?c:e.clean.exec(c,O)},exec:T}},t.FE.MODULES.spaces=function(e){function o(y,E){var O=y.previousSibling,p=y.nextSibling,L=y.textContent,w=y.parentNode;if(!e.html.isPreformatted(w)){E&&(L=L.replace(/[\f\n\r\t\v ]{2,}/g," "),p&&"BR"!==p.tagName&&!e.node.isBlock(p)||!(e.node.isBlock(w)||e.node.isLink(w)&&!w.nextSibling||e.node.isElement(w))||(L=L.replace(/[\f\n\r\t\v ]{1,}$/g,"")),O&&"BR"!==O.tagName&&!e.node.isBlock(O)||!(e.node.isBlock(w)||e.node.isLink(w)&&!w.previousSibling||e.node.isElement(w))||(L=L.replace(/^[\f\n\r\t\v ]{1,}/g,""))," "!==L||!(O&&e.node.isVoid(O)||p&&e.node.isVoid(p))||O&&p&&e.node.isVoid(O)&&e.node.isVoid(p)||(L="")),(!O&&e.node.isBlock(p)||!p&&e.node.isBlock(O))&&e.node.isBlock(w)&&w!==e.el&&(L=L.replace(/^[\f\n\r\t\v ]{1,}/g,"")),E||(L=L.replace(new RegExp(t.FE.UNICODE_NBSP,"g")," "));for(var f="",R=0;R<L.length;R++)32!=L.charCodeAt(R)||0!==R&&32!=f.charCodeAt(R-1)||O&&p&&e.node.isVoid(O)&&e.node.isVoid(p)?f+=L[R]:f+=t.FE.UNICODE_NBSP;(!p||p&&e.node.isBlock(p)||p&&p.nodeType==Node.ELEMENT_NODE&&e.win.getComputedStyle(p)&&"block"==e.win.getComputedStyle(p).display)&&(f=f.replace(/ $/,t.FE.UNICODE_NBSP)),!O||e.node.isVoid(O)||e.node.isBlock(O)||1!==(f=f.replace(/^\u00A0([^ $])/," $1")).length||160!==f.charCodeAt(0)||!p||e.node.isVoid(p)||e.node.isBlock(p)||(f=" "),E||(f=f.replace(/([^ \u00A0])\u00A0([^ \u00A0])/g,"$1 $2")),y.textContent!=f&&(y.textContent=f)}}function i(y,E){if(void 0!==y&&y||(y=e.el),void 0===E&&(E=!1),!y.getAttribute||"false"!=y.getAttribute("contenteditable"))if(y.nodeType==Node.TEXT_NODE)o(y,E);else if(y.nodeType==Node.ELEMENT_NODE)for(var O=e.doc.createTreeWalker(y,NodeFilter.SHOW_TEXT,e.node.filter(function(p){for(var L=p.parentNode;L&&L!==e.el;){if("STYLE"==L.tagName||"IFRAME"==L.tagName||"PRE"===L.tagName)return!1;L=L.parentNode}return null!=p.textContent.match(/([ \u00A0\f\n\r\t\v]{2,})|(^[ \u00A0\f\n\r\t\v]{1,})|([ \u00A0\f\n\r\t\v]{1,}$)/g)&&!e.node.hasClass(p.parentNode,"fr-marker")}),!1);O.nextNode();)o(O.currentNode,E)}return{normalize:i,normalizeAroundCursor:function(){for(var y=[],E=e.el.querySelectorAll(".fr-marker"),O=0;O<E.length;O++){for(var p,w=(p=e.node.blockParent(E[O])||E[O]).nextSibling,f=p.previousSibling;w&&"BR"==w.tagName;)w=w.nextSibling;for(;f&&"BR"==f.tagName;)f=f.previousSibling;p&&y.indexOf(p)<0&&y.push(p),f&&y.indexOf(f)<0&&y.push(f),w&&y.indexOf(w)<0&&y.push(w)}for(var R=0;R<y.length;R++)i(y[R])}}},t.FE.UNICODE_NBSP=String.fromCharCode(160),t.FE.VOID_ELEMENTS=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],t.FE.BLOCK_TAGS=["address","article","aside","audio","blockquote","canvas","details","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul","video"],t.extend(t.FE.DEFAULTS,{htmlAllowedEmptyTags:["textarea","a","iframe","object","video","style","script",".fa",".fr-emoticon",".fr-inner","path","line"],htmlDoNotWrapTags:["script","style"],htmlSimpleAmpersand:!1,htmlIgnoreCSSProperties:[],htmlExecuteScripts:!0}),t.FE.MODULES.html=function(e){function o(){return e.opts.enter==t.FE.ENTER_P?"p":e.opts.enter==t.FE.ENTER_DIV?"div":e.opts.enter==t.FE.ENTER_BR?null:void 0}function i(v,D){return!(!v||v===e.el)&&(D?-1!=["PRE","SCRIPT","STYLE"].indexOf(v.tagName)||i(v.parentNode,D):-1!=["PRE","SCRIPT","STYLE"].indexOf(v.tagName))}function y(v){var D,G=[],k=[];if(v){var te=e.el.querySelectorAll(".fr-marker");for(D=0;D<te.length;D++){var J=e.node.blockParent(te[D])||te[D];if(J){var Ee=J.nextSibling,ye=J.previousSibling;J&&k.indexOf(J)<0&&e.node.isBlock(J)&&k.push(J),ye&&e.node.isBlock(ye)&&k.indexOf(ye)<0&&k.push(ye),Ee&&e.node.isBlock(Ee)&&k.indexOf(Ee)<0&&k.push(Ee)}}}else k=e.el.querySelectorAll(E());var pe=E();for(pe+=","+t.FE.VOID_ELEMENTS.join(","),pe+=", .fr-inner",pe+=","+e.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),")+":not(.fr-marker)",D=k.length-1;0<=D;D--)if(!(k[D].textContent&&0<k[D].textContent.replace(/\u200B|\n/g,"").length||0<k[D].querySelectorAll(pe).length)){for(var Re=e.node.contents(k[D]),qe=!1,Oe=0;Oe<Re.length;Oe++)if(Re[Oe].nodeType!=Node.COMMENT_NODE&&Re[Oe].textContent&&0<Re[Oe].textContent.replace(/\u200B|\n/g,"").length){qe=!0;break}qe||G.push(k[D])}return G}function E(){return t.FE.BLOCK_TAGS.join(", ")}function O(v){var D,G,k=t.merge([],t.FE.VOID_ELEMENTS);k=t.merge(k,e.opts.htmlAllowedEmptyTags),k=t.merge(k,void 0===v?t.FE.BLOCK_TAGS:t.FE.NO_DELETE_TAGS),D=e.el.querySelectorAll("*:empty:not("+k.join("):not(")+"):not(.fr-marker)");do{G=!1;for(var te=0;te<D.length;te++)0!==D[te].attributes.length&&void 0===D[te].getAttribute("href")||(D[te].parentNode.removeChild(D[te]),G=!0);D=e.el.querySelectorAll("*:empty:not("+k.join("):not(")+"):not(.fr-marker)")}while(D.length&&G)}function p(v,D){var G=o();if(D&&(G="div"),G){for(var k=e.doc.createDocumentFragment(),te=null,J=!1,Ee=v.firstChild,ye=!1;Ee;){var pe=Ee.nextSibling;if(Ee.nodeType==Node.ELEMENT_NODE&&(e.node.isBlock(Ee)||0<=e.opts.htmlDoNotWrapTags.indexOf(Ee.tagName.toLowerCase())&&!e.node.hasClass(Ee,"fr-marker")))te=null,k.appendChild(Ee.cloneNode(!0));else if(Ee.nodeType!=Node.ELEMENT_NODE&&Ee.nodeType!=Node.TEXT_NODE)te=null,k.appendChild(Ee.cloneNode(!0));else if("BR"==Ee.tagName)null==te?(te=e.doc.createElement(G),ye=!0,D&&(te.setAttribute("class","fr-temp-div"),te.setAttribute("data-empty",!0)),te.appendChild(Ee.cloneNode(!0)),k.appendChild(te)):!1===J&&(te.appendChild(e.doc.createElement("br")),D&&(te.setAttribute("class","fr-temp-div"),te.setAttribute("data-empty",!0))),te=null;else{var Re=Ee.textContent;Ee.nodeType!==Node.TEXT_NODE||0<Re.replace(/\n/g,"").replace(/(^ *)|( *$)/g,"").length||Re.replace(/(^ *)|( *$)/g,"").length&&Re.indexOf("\n")<0?(null==te&&(te=e.doc.createElement(G),ye=!0,D&&te.setAttribute("class","fr-temp-div"),k.appendChild(te),J=!1),te.appendChild(Ee.cloneNode(!0)),J||e.node.hasClass(Ee,"fr-marker")||Ee.nodeType==Node.TEXT_NODE&&0===Re.replace(/ /g,"").length||(J=!0)):ye=!0}Ee=pe}ye&&(v.innerHTML="",v.appendChild(k))}}function L(v,D){for(var G=v.length-1;0<=G;G--)p(v[G],D)}function w(v,D,G,k,te){if(!e.$wp)return!1;void 0===v&&(v=!1),void 0===D&&(D=!1),void 0===G&&(G=!1),void 0===k&&(k=!1),void 0===te&&(te=!1);var J=e.$wp.scrollTop();p(e.el,v),k&&L(e.el.querySelectorAll(".fr-inner"),v),D&&L(e.el.querySelectorAll("td, th"),v),G&&L(e.el.querySelectorAll("blockquote"),v),te&&L(e.el.querySelectorAll("li"),v),J!=e.$wp.scrollTop()&&e.$wp.scrollTop(J)}function f(v){if(void 0===v&&(v=e.el),v&&0<=["SCRIPT","STYLE","PRE"].indexOf(v.tagName))return!1;for(var D=e.doc.createTreeWalker(v,NodeFilter.SHOW_TEXT,e.node.filter(function(ye){return null!=ye.textContent.match(/([ \n]{2,})|(^[ \n]{1,})|([ \n]{1,}$)/g)}),!1);D.nextNode();){var G=D.currentNode;if(!i(G.parentNode,!0)){var k=e.node.isBlock(G.parentNode)||e.node.isElement(G.parentNode),te=G.textContent.replace(/(?!^)( ){2,}(?!$)/g," ").replace(/\n/g," ").replace(/^[ ]{2,}/g," ").replace(/[ ]{2,}$/g," ");if(k){var J=G.previousSibling,Ee=G.nextSibling;J&&Ee&&" "==te?te=e.node.isBlock(J)&&e.node.isBlock(Ee)?"":" ":(J||(te=te.replace(/^ */,"")),Ee||(te=te.replace(/ *$/,"")))}G.textContent=te}}}function R(v,D,G){var k=new RegExp(D,"gi").exec(v);return k?k[G]:null}function T(v){var D=v.doctype,G="<!DOCTYPE html>";return D&&(G="<!DOCTYPE "+D.name+(D.publicId?' PUBLIC "'+D.publicId+'"':"")+(!D.publicId&&D.systemId?" SYSTEM":"")+(D.systemId?' "'+D.systemId+'"':"")+">"),G}function _(v){var D=v.parentNode;if(D&&(e.node.isBlock(D)||e.node.isElement(D))&&["TD","TH"].indexOf(D.tagName)<0){for(var G=v.previousSibling,k=v.nextSibling;G&&(G.nodeType==Node.TEXT_NODE&&0===G.textContent.replace(/\n|\r/g,"").length||e.node.hasClass(G,"fr-tmp"));)G=G.previousSibling;if(k)return!1;G&&D&&"BR"!=G.tagName&&!e.node.isBlock(G)&&!k&&0<D.textContent.replace(/\u200B/g,"").length&&0<G.textContent.length&&!e.node.hasClass(G,"fr-marker")&&(e.el==D&&!k&&e.opts.enter==t.FE.ENTER_BR&&e.browser.msie||v.parentNode.removeChild(v))}else!D||e.node.isBlock(D)||e.node.isElement(D)||v.previousSibling||v.nextSibling||!e.node.isDeletable(v.parentNode)||_(v.parentNode)}function A(){e.opts.htmlUntouched||(O(),w(),f(),e.spaces.normalize(null,!0),e.html.fillEmptyBlocks(),e.clean.lists(),e.clean.tables(),e.clean.toHTML5(),e.html.cleanBRs()),e.selection.restore(),c(),e.placeholder.refresh()}function c(){e.node.isEmpty(e.el)&&(null!=o()?e.el.querySelector(E())||e.el.querySelector(e.opts.htmlDoNotWrapTags.join(":not(.fr-marker),")+":not(.fr-marker)")||(e.core.hasFocus()?(e.$el.html("<"+o()+">"+t.FE.MARKERS+"<br/></"+o()+">"),e.selection.restore()):e.$el.html("<"+o()+"><br/></"+o()+">")):e.el.querySelector("*:not(.fr-marker):not(br)")||(e.core.hasFocus()?(e.$el.html(t.FE.MARKERS+"<br/>"),e.selection.restore()):e.$el.html("<br/>")))}function l(v,D){return R(v,"<"+D+"[^>]*?>([\\w\\W]*)</"+D+">",1)}function a(v,D){var G=t("<div "+(R(v,"<"+D+"([^>]*?)>",1)||"")+">");return e.node.rawAttributes(G.get(0))}function s(v){return(R(v,"<!DOCTYPE([^>]*?)>",0)||"<!DOCTYPE html>").replace(/\n/g," ").replace(/ {2,}/g," ")}function u(v,D){e.opts.htmlExecuteScripts?v.html(D):v.get(0).innerHTML=D}function m(v){var D;return(D=/:not\(([^\)]*)\)/g).test(v)&&(v=v.replace(D,"     $1 ")),100*(v.match(/(#[^\s\+>~\.\[:]+)/g)||[]).length+10*(v.match(/(\[[^\]]+\])/g)||[]).length+10*(v.match(/(\.[^\s\+>~\.\[:]+)/g)||[]).length+10*(v.match(/(:[\w-]+\([^\)]*\))/gi)||[]).length+10*(v.match(/(:[^\s\+>~\.\[:]+)/g)||[]).length+(v.match(/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi)||[]).length+((v=(v=v.replace(/[\*\s\+>~]/g," ")).replace(/[#\.]/g," ")).match(/([^\s\+>~\.\[:]+)/g)||[]).length}function n(v){if(e.events.trigger("html.processGet",[v]),v&&v.getAttribute&&""===v.getAttribute("class")&&v.removeAttribute("class"),v&&v.getAttribute&&""===v.getAttribute("style")&&v.removeAttribute("style"),v&&v.nodeType==Node.ELEMENT_NODE){var D,G=v.querySelectorAll('[class=""],[style=""]');for(D=0;D<G.length;D++){var k=G[D];""===k.getAttribute("class")&&k.removeAttribute("class"),""===k.getAttribute("style")&&k.removeAttribute("style")}if("BR"===v.tagName)_(v);else{var te=v.querySelectorAll("br");for(D=0;D<te.length;D++)_(te[D])}}}function S(v,D){return v[3]-D[3]}function x(v){var D=e.doc.createElement("div");return D.innerHTML=v,null!==D.querySelector(E())}function q(v){var D=null;if(void 0===v&&(D=e.selection.element()),e.opts.keepFormatOnDelete)return!1;var G,k,te=D?(D.textContent.match(/\u200B/g)||[]).length-D.querySelectorAll(".fr-marker").length:0;if((e.el.textContent.match(/\u200B/g)||[]).length-e.el.querySelectorAll(".fr-marker").length==te)return!1;do{k=!1,G=e.el.querySelectorAll("*:not(.fr-marker)");for(var J=0;J<G.length;J++){var Ee=G[J];if(D!=Ee){var ye=Ee.textContent;0===Ee.children.length&&1===ye.length&&8203==ye.charCodeAt(0)&&"TD"!==Ee.tagName&&(t(Ee).remove(),k=!0)}}}while(k)}return{defaultTag:o,isPreformatted:i,emptyBlocks:y,emptyBlockTagsQuery:function(){return t.FE.BLOCK_TAGS.join(":empty, ")+":empty"},blockTagsQuery:E,fillEmptyBlocks:function(v){var D=y(v);e.node.isEmpty(e.el)&&e.opts.enter===t.FE.ENTER_BR&&D.push(e.el);for(var G=0;G<D.length;G++){var k=D[G];"false"===k.getAttribute("contenteditable")||k.querySelector(e.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),")+":not(.fr-marker)")||e.node.isVoid(k)||"TABLE"!=k.tagName&&"TBODY"!=k.tagName&&"TR"!=k.tagName&&"UL"!=k.tagName&&"OL"!=k.tagName&&k.appendChild(e.doc.createElement("br"))}if(e.browser.msie&&e.opts.enter==t.FE.ENTER_BR){var te=e.node.contents(e.el);te.length&&te[te.length-1].nodeType==Node.TEXT_NODE&&e.$el.append("<br>")}},cleanEmptyTags:O,cleanWhiteTags:q,cleanBlankSpaces:f,blocks:function(){return e.$el.get(0).querySelectorAll(E())},getDoctype:T,set:function(v){var G,k,te=e.clean.html((v||"").trim(),[],[],e.opts.fullPage);if(e.opts.fullPage){var J=l(te,"body")||(0<=te.indexOf("<body")?"":te),Ee=a(te,"body"),ye=l(te,"head")||"<title></title>",pe=a(te,"head"),Re=t("<div>").append(ye).contents().each(function(){(this.nodeType==Node.COMMENT_NODE||0<=["BASE","LINK","META","NOSCRIPT","SCRIPT","STYLE","TEMPLATE","TITLE"].indexOf(this.tagName))&&this.parentNode.removeChild(this)}).end().html().trim();ye=t("<div>").append(ye).contents().map(function(){return this.nodeType==Node.COMMENT_NODE?"\x3c!--"+this.nodeValue+"--\x3e":0<=["BASE","LINK","META","NOSCRIPT","SCRIPT","STYLE","TEMPLATE","TITLE"].indexOf(this.tagName)?this.outerHTML:""}).toArray().join("");var qe=s(te),Oe=a(te,"html");u(e.$el,Re+"\n"+J),e.node.clearAttributes(e.el),e.$el.attr(Ee),e.$el.addClass("fr-view"),e.$el.attr("spellcheck",e.opts.spellcheck),e.$el.attr("dir",e.opts.direction),u(e.$head,ye),e.node.clearAttributes(e.$head.get(0)),e.$head.attr(pe),e.node.clearAttributes(e.$html.get(0)),e.$html.attr(Oe),e.iframe_document.doctype.parentNode.replaceChild((G=e.iframe_document,(k=qe.match(/<!DOCTYPE ?([^ ]*) ?([^ ]*) ?"?([^"]*)"? ?"?([^"]*)"?>/i))?G.implementation.createDocumentType(k[1],k[3],k[4]):G.implementation.createDocumentType("html")),e.iframe_document.doctype)}else u(e.$el,te);var de=e.edit.isDisabled();e.edit.on(),e.core.injectStyle(e.opts.iframeDefaultStyle+e.opts.iframeStyle),A(),e.opts.useClasses||(e.$el.find("[fr-original-class]").each(function(){this.setAttribute("class",this.getAttribute("fr-original-class")),this.removeAttribute("fr-original-class")}),e.$el.find("[fr-original-style]").each(function(){this.setAttribute("style",this.getAttribute("fr-original-style")),this.removeAttribute("fr-original-style")})),de&&e.edit.off(),e.events.trigger("html.set")},get:function(v,D){if(!e.$wp)return e.$oel.clone().removeClass("fr-view").removeAttr("contenteditable").get(0).outerHTML;var G="";e.events.trigger("html.beforeGet");var k,te,J=[],Ee={},ye=[],pe=e.el.querySelectorAll("input, textarea");for(k=0;k<pe.length;k++)pe[k].setAttribute("value",pe[k].value);if(!e.opts.useClasses&&!D){var Re=new RegExp("^"+e.opts.htmlIgnoreCSSProperties.join("$|^")+"$","gi");for(k=0;k<e.doc.styleSheets.length;k++){var qe,Oe=0;try{qe=e.doc.styleSheets[k].cssRules,e.doc.styleSheets[k].ownerNode&&"STYLE"==e.doc.styleSheets[k].ownerNode.nodeType&&(Oe=1)}catch{}if(qe)for(var de=0,$e=qe.length;de<$e;de++)if(qe[de].selectorText&&0<qe[de].style.cssText.length){var le,He=qe[de].selectorText.replace(/body |\.fr-view /g,"").replace(/::/g,":");try{le=e.el.querySelectorAll(He)}catch{le=[]}for(te=0;te<le.length;te++){!le[te].getAttribute("fr-original-style")&&le[te].getAttribute("style")?(le[te].setAttribute("fr-original-style",le[te].getAttribute("style")),J.push(le[te])):le[te].getAttribute("fr-original-style")||(le[te].setAttribute("fr-original-style",""),J.push(le[te])),Ee[le[te]]||(Ee[le[te]]={});for(var ce=1e3*Oe+m(qe[de].selectorText),Be=qe[de].style.cssText.split(";"),je=0;je<Be.length;je++){var ae=Be[je].trim().split(":")[0];if(ae&&!ae.match(Re)&&(Ee[le[te]][ae]||(Ee[le[te]][ae]=0)<=(le[te].getAttribute("fr-original-style")||"").indexOf(ae+":")&&(Ee[le[te]][ae]=1e4),ce>=Ee[le[te]][ae]&&(Ee[le[te]][ae]=ce,Be[je].trim().length))){var Se=Be[je].trim().split(":");Se.splice(0,1),ye.push([le[te],ae.trim(),Se.join(":").trim(),ce])}}}}}for(ye.sort(S),k=0;k<ye.length;k++){var ze=ye[k];ze[0].style[ze[1]]=ze[2]}for(k=0;k<J.length;k++)if(J[k].getAttribute("class")&&(J[k].setAttribute("fr-original-class",J[k].getAttribute("class")),J[k].removeAttribute("class")),0<(J[k].getAttribute("fr-original-style")||"").trim().length){var Ze=J[k].getAttribute("fr-original-style").split(";");for(te=0;te<Ze.length;te++)if(0<Ze[te].indexOf(":")){var Ye=Ze[te].split(":"),lt=Ye[0];Ye.splice(0,1),J[k].style[lt.trim()]=Ye.join(":").trim()}}}if(e.node.isEmpty(e.el))e.opts.fullPage&&(G=T(e.iframe_document),G+="<html"+e.node.attributes(e.$html.get(0))+">"+e.$html.find("head").get(0).outerHTML+"<body></body></html>");else if(void 0===v&&(v=!1),e.opts.fullPage){G=T(e.iframe_document),e.$el.removeClass("fr-view");var Ne=e.opts.heightMin;e.opts.heightMin=null,e.size.refresh(),G+="<html"+e.node.attributes(e.$html.get(0))+">"+e.$html.html()+"</html>",e.opts.heightMin=Ne,e.size.refresh(),e.$el.addClass("fr-view")}else G=e.$el.html();if(!e.opts.useClasses&&!D)for(k=0;k<J.length;k++)J[k].getAttribute("fr-original-class")&&(J[k].setAttribute("class",J[k].getAttribute("fr-original-class")),J[k].removeAttribute("fr-original-class")),null!=J[k].getAttribute("fr-original-style")&&void 0!==J[k].getAttribute("fr-original-style")?(0!==J[k].getAttribute("fr-original-style").length?J[k].setAttribute("style",J[k].getAttribute("fr-original-style")):J[k].removeAttribute("style"),J[k].removeAttribute("fr-original-style")):J[k].removeAttribute("style");e.opts.fullPage&&(G=(G=(G=(G=(G=(G=(G=(G=G.replace(/<style data-fr-style="true">(?:[\w\W]*?)<\/style>/g,"")).replace(/<link([^>]*)data-fr-style="true"([^>]*)>/g,"")).replace(/<style(?:[\w\W]*?)class="firebugResetStyles"(?:[\w\W]*?)>(?:[\w\W]*?)<\/style>/g,"")).replace(/<body((?:[\w\W]*?)) spellcheck="true"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$2>$3</body>")).replace(/<body((?:[\w\W]*?)) contenteditable="(true|false)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$3>$4</body>")).replace(/<body((?:[\w\W]*?)) dir="([\w]*)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$3>$4</body>")).replace(/<body((?:[\w\W]*?))class="([\w\W]*?)(fr-rtl|fr-ltr)([\w\W]*?)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,'<body$1class="$2$4"$5>$6</body>')).replace(/<body((?:[\w\W]*?)) class=""((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$2>$3</body>")),e.opts.htmlSimpleAmpersand&&(G=G.replace(/\&amp;/gi,"&")),e.events.trigger("html.afterGet"),v||(G=G.replace(/<span[^>]*? class\s*=\s*["']?fr-marker["']?[^>]+>\u200b<\/span>/gi,"")),G=e.clean.invisibleSpaces(G),G=e.clean.exec(G,n);var Ve=e.events.chainTrigger("html.get",G);return"string"==typeof Ve&&(G=Ve),(G=G.replace(/<pre(?:[\w\W]*?)>(?:[\w\W]*?)<\/pre>/g,function(j){return j.replace(/<br>/g,"\n")})).replace(/<meta((?:[\w\W]*?)) data-fr-http-equiv="/g,'<meta$1 http-equiv="')},getSelected:function(){var v,D,G=function(ye,pe){for(;pe&&(pe.nodeType==Node.TEXT_NODE||!e.node.isBlock(pe))&&!e.node.isElement(pe)&&!e.node.hasClass(pe,"fr-inner");)pe&&pe.nodeType!=Node.TEXT_NODE&&t(ye).wrapInner(e.node.openTagString(pe)+e.node.closeTagString(pe)),pe=pe.parentNode;pe&&ye.innerHTML==pe.innerHTML&&(ye.innerHTML=pe.outerHTML)},k="";if(typeof e.win.getSelection<"u"){e.browser.mozilla&&(e.selection.save(),1<e.$el.find('.fr-marker[data-type="false"]').length&&(e.$el.find('.fr-marker[data-type="false"][data-id="0"]').remove(),e.$el.find('.fr-marker[data-type="false"]:last').attr("data-id","0"),e.$el.find(".fr-marker").not('[data-id="0"]').remove()),e.selection.restore());for(var te=e.selection.ranges(),J=0;J<te.length;J++){var Ee=document.createElement("div");Ee.appendChild(te[J].cloneContents()),G(Ee,(D=v=void 0,D=null,e.win.getSelection?(v=e.win.getSelection())&&v.rangeCount&&(D=v.getRangeAt(0).commonAncestorContainer).nodeType!=Node.ELEMENT_NODE&&(D=D.parentNode):(v=e.doc.selection)&&"Control"!=v.type&&(D=v.createRange().parentElement()),null!=D&&(0<=t.inArray(e.el,t(D).parents())||D==e.el)?D:null)),0<t(Ee).find(".fr-element").length&&(Ee=e.el),k+=Ee.innerHTML}}else typeof e.doc.selection<"u"&&"Text"==e.doc.selection.type&&(k=e.doc.selection.createRange().htmlText);return k},insert:function(v,D,G){var k,te,J;if(e.selection.isCollapsed()||e.selection.remove(),k=D?v:e.clean.html(v),v.indexOf('class="fr-marker"')<0&&(te=k,(J=e.doc.createElement("div")).innerHTML=te,e.selection.setAtEnd(J),k=J.innerHTML),e.node.isEmpty(e.el)&&!e.opts.keepFormatOnDelete&&x(k))e.el.innerHTML=k;else{var Ee=e.markers.insert();if(Ee){e.node.isLastSibling(Ee)&&t(Ee).parent().hasClass("fr-deletable")&&t(Ee).insertAfter(t(Ee).parent());var ye=e.node.blockParent(Ee);if((x(k)||G)&&(e.node.deepestParent(Ee)||ye&&"LI"==ye.tagName)){if(ye&&"LI"==ye.tagName&&(k=function(pe){if(!e.html.defaultTag())return pe;var Re=e.doc.createElement("div");Re.innerHTML=pe;for(var qe=Re.querySelectorAll(":scope > "+e.html.defaultTag()),Oe=qe.length-1;0<=Oe;Oe--){var de=qe[Oe];e.node.isBlock(de.previousSibling)||(de.previousSibling&&!e.node.isEmpty(de)&&t("<br>").insertAfter(de.previousSibling),de.outerHTML=de.innerHTML)}return Re.innerHTML}(k)),!(Ee=e.markers.split()))return!1;Ee.outerHTML=k}else Ee.outerHTML=k}else e.el.innerHTML=e.el.innerHTML+k}A(),e.keys.positionCaret(),e.events.trigger("html.inserted")},wrap:w,unwrap:function(){e.$el.find("div.fr-temp-div").each(function(){this.previousSibling&&this.previousSibling.nodeType===Node.TEXT_NODE&&t(this).before("<br>"),t(this).attr("data-empty")||!this.nextSibling||e.node.isBlock(this.nextSibling)&&!t(this.nextSibling).hasClass("fr-temp-div")?t(this).replaceWith(t(this).html()):t(this).replaceWith(t(this).html()+"<br>")}),e.$el.find(".fr-temp-div").removeClass("fr-temp-div").filter(function(){return""===t(this).attr("class")}).removeAttr("class")},escapeEntities:function(v){return v.replace(/</gi,"&lt;").replace(/>/gi,"&gt;").replace(/"/gi,"&quot;").replace(/'/gi,"&#39;")},checkIfEmpty:c,extractNode:l,extractNodeAttrs:a,extractDoctype:s,cleanBRs:function(){for(var v=e.el.getElementsByTagName("br"),D=0;D<v.length;D++)_(v[D])},_init:function(){if(e.$wp){var v=function(){q(),e.placeholder&&setTimeout(e.placeholder.refresh,0)};e.events.on("mouseup",v),e.events.on("keydown",v),e.events.on("contentChanged",c)}}}},t.extend(t.FE.DEFAULTS,{height:null,heightMax:null,heightMin:null,width:null}),t.FE.MODULES.size=function(e){function o(){i(),e.opts.height&&e.$el.css("minHeight",e.opts.height-e.helpers.getPX(e.$el.css("padding-top"))-e.helpers.getPX(e.$el.css("padding-bottom"))),e.$iframe.height(e.$el.outerHeight(!0))}function i(){e.$el.css("minHeight",e.opts.heightMin?e.opts.heightMin:""),e.opts.heightMax?(e.$wp.css("maxHeight",e.opts.heightMax),e.$wp.css("overflow","auto")):(e.$wp.css("maxHeight",""),e.$wp.css("overflow","")),e.opts.height?(e.$wp.height(e.opts.height),e.$wp.css("overflow","auto"),e.$el.css("minHeight",e.opts.height-e.helpers.getPX(e.$el.css("padding-top"))-e.helpers.getPX(e.$el.css("padding-bottom")))):(e.$wp.css("height",""),e.opts.heightMin||e.$el.css("minHeight",""),e.opts.heightMax||e.$wp.css("overflow","")),e.opts.width&&e.$box.width(e.opts.width)}return{_init:function(){if(!e.$wp)return!1;i(),e.$iframe&&(e.events.on("keyup keydown",function(){setTimeout(o,0)},!0),e.events.on("commands.after html.set init initialized paste.after",o))},syncIframe:o,refresh:i}},t.extend(t.FE.DEFAULTS,{language:null}),t.FE.LANGUAGE={},t.FE.MODULES.language=function(e){var o;return{_init:function(){t.FE.LANGUAGE&&(o=t.FE.LANGUAGE[e.opts.language]),o&&o.direction&&(e.opts.direction=o.direction)},translate:function(i){return o&&o.translation[i]&&o.translation[i].length?o.translation[i]:i}}},t.extend(t.FE.DEFAULTS,{placeholderText:"Type something"}),t.FE.MODULES.placeholder=function(e){function o(){e.$placeholder||(e.$placeholder=t('<span class="fr-placeholder"></span>'),e.$wp.append(e.$placeholder));var E=e.opts.iframe?e.$iframe.prev().outerHeight(!0):e.$el.prev().outerHeight(!0),O=0,p=0,L=0,w=0,f=0,R=0,T=e.node.contents(e.el),_=t(e.selection.element()).css("text-align");if(T.length&&T[0].nodeType==Node.ELEMENT_NODE){var A=t(T[0]);(!e.opts.toolbarInline||0<e.$el.prev().length)&&e.ready&&(O=e.helpers.getPX(A.css("margin-top")),w=e.helpers.getPX(A.css("padding-top")),p=e.helpers.getPX(A.css("margin-left")),L=e.helpers.getPX(A.css("margin-right")),f=e.helpers.getPX(A.css("padding-left")),R=e.helpers.getPX(A.css("padding-right"))),e.$placeholder.css("font-size",A.css("font-size")),e.$placeholder.css("line-height",A.css("line-height"))}else e.$placeholder.css("font-size",e.$el.css("font-size")),e.$placeholder.css("line-height",e.$el.css("line-height"));e.$wp.addClass("show-placeholder"),e.$placeholder.css({marginTop:Math.max(e.helpers.getPX(e.$el.css("margin-top")),O)+(E||0),paddingTop:Math.max(e.helpers.getPX(e.$el.css("padding-top")),w),paddingLeft:Math.max(e.helpers.getPX(e.$el.css("padding-left")),f),marginLeft:Math.max(e.helpers.getPX(e.$el.css("margin-left")),p),paddingRight:Math.max(e.helpers.getPX(e.$el.css("padding-right")),R),marginRight:Math.max(e.helpers.getPX(e.$el.css("margin-right")),L),textAlign:_}).text(e.language.translate(e.opts.placeholderText||e.$oel.attr("placeholder")||"")),e.$placeholder.html(e.$placeholder.text().replace(/\n/g,"<br>"))}function i(){e.$wp.removeClass("show-placeholder")}function y(){if(!e.$wp)return!1;e.core.isEmpty()?o():i()}return{_init:function(){if(!e.$wp)return!1;e.events.on("init input keydown keyup contentChanged initialized",y)},show:o,hide:i,refresh:y,isVisible:function(){return!!e.$wp&&e.node.hasClass(e.$wp.get(0),"show-placeholder")}}},t.FE.MODULES.edit=function(e){function o(){if(e.browser.mozilla)try{e.doc.execCommand("enableObjectResizing",!1,"false"),e.doc.execCommand("enableInlineTableEditing",!1,"false")}catch{}if(e.browser.msie)try{e.doc.body.addEventListener("mscontrolselect",function(E){return E.preventDefault(),!1})}catch{}}var i=!1;function y(){return i}return{_init:function(){e.events.on("focus",function(){y()?e.edit.off():e.edit.on()})},on:function(){e.$wp?(e.$el.attr("contenteditable",!0),e.$el.removeClass("fr-disabled").attr("aria-disabled",!1),e.$tb&&e.$tb.removeClass("fr-disabled").removeAttr("aria-disabled"),o()):e.$el.is("a")&&e.$el.attr("contenteditable",!0),i=!1},off:function(){e.events.disableBlur(),e.$wp?(e.$el.attr("contenteditable",!1),e.$el.addClass("fr-disabled").attr("aria-disabled",!0),e.$tb&&e.$tb.addClass("fr-disabled").attr("aria-disabled",!0)):e.$el.is("a")&&e.$el.attr("contenteditable",!1),e.events.enableBlur(),i=!0},disableDesign:o,isDisabled:y}},t.extend(t.FE.DEFAULTS,{documentReady:!1,editorClass:null,typingTimer:500,iframe:!1,requestWithCORS:!0,requestWithCredentials:!1,requestHeaders:{},useClasses:!0,spellcheck:!0,iframeDefaultStyle:'html{margin:0px;height:auto;}body{height:auto;padding:10px;background:transparent;color:#000000;position:relative;z-index: 2;-webkit-user-select:auto;margin:0px;overflow:hidden;min-height:20px;}body:after{content:"";display:block;clear:both;}body::-moz-selection{background:#b5d6fd;color:#000;}body::selection{background:#b5d6fd;color:#000;}',iframeStyle:"",iframeStyleFiles:[],direction:"auto",zIndex:1,tabIndex:null,disableRightClick:!1,scrollableContainer:"body",keepFormatOnDelete:!1,theme:null}),t.FE.MODULES.core=function(e){return{_init:function(){if(t.FE.INSTANCES.push(e),e.drag_support={filereader:typeof FileReader<"u",formdata:!!e.win.FormData,progress:"upload"in new XMLHttpRequest},e.$wp){(function o(){if(e.$box.addClass("fr-box"+(e.opts.editorClass?" "+e.opts.editorClass:"")),e.$box.attr("role","application"),e.$wp.addClass("fr-wrapper"),e.opts.documentReady&&e.$box.addClass("fr-document"),e.opts.iframe||e.$el.addClass("fr-element fr-view"),e.opts.iframe){e.$iframe.addClass("fr-iframe"),e.$el.addClass("fr-view");for(var i=0;i<e.o_doc.styleSheets.length;i++){var y;try{y=e.o_doc.styleSheets[i].cssRules}catch{}if(y)for(var E=0,O=y.length;E<O;E++)!y[E].selectorText||0!==y[E].selectorText.indexOf(".fr-view")&&0!==y[E].selectorText.indexOf(".fr-element")||0<y[E].style.cssText.length&&(0===y[E].selectorText.indexOf(".fr-view")?e.opts.iframeStyle+=y[E].selectorText.replace(/\.fr-view/g,"body")+"{"+y[E].style.cssText+"}":e.opts.iframeStyle+=y[E].selectorText.replace(/\.fr-element/g,"body")+"{"+y[E].style.cssText+"}")}}"auto"!=e.opts.direction&&e.$box.removeClass("fr-ltr fr-rtl").addClass("fr-"+e.opts.direction),e.$el.attr("dir",e.opts.direction),e.$wp.attr("dir",e.opts.direction),1<e.opts.zIndex&&e.$box.css("z-index",e.opts.zIndex),e.opts.theme&&e.$box.addClass(e.opts.theme+"-theme"),e.opts.tabIndex=e.opts.tabIndex||e.$oel.attr("tabIndex"),e.opts.tabIndex&&e.$el.attr("tabIndex",e.opts.tabIndex)})(),e.html.set(e._original_html),e.$el.attr("spellcheck",e.opts.spellcheck),e.helpers.isMobile()&&(e.$el.attr("autocomplete",e.opts.spellcheck?"on":"off"),e.$el.attr("autocorrect",e.opts.spellcheck?"on":"off"),e.$el.attr("autocapitalize",e.opts.spellcheck?"on":"off")),e.opts.disableRightClick&&e.events.$on(e.$el,"contextmenu",function(i){if(2==i.button)return!1});try{e.doc.execCommand("styleWithCSS",!1,!1)}catch{}}"TEXTAREA"==e.$oel.get(0).tagName&&(e.events.on("contentChanged",function(){e.$oel.val(e.html.get())}),e.events.on("form.submit",function(){e.$oel.val(e.html.get())}),e.events.on("form.reset",function(){e.html.set(e._original_html)}),e.$oel.val(e.html.get())),e.helpers.isIOS()&&e.events.$on(e.$doc,"selectionchange",function(){e.$doc.get(0).hasFocus()||e.$win.get(0).focus()}),e.events.trigger("init"),e.opts.autofocus&&!e.opts.initOnClick&&e.$wp&&e.events.on("initialized",function(){e.events.focus(!0)})},destroy:function(i){"TEXTAREA"==e.$oel.get(0).tagName&&e.$oel.val(i),e.$box&&e.$box.removeAttr("role"),e.$wp&&("TEXTAREA"==e.$oel.get(0).tagName?(e.$el.html(""),e.$wp.html(""),e.$box.replaceWith(e.$oel),e.$oel.show()):(e.$wp.replaceWith(i),e.$el.html(""),e.$box.removeClass("fr-view fr-ltr fr-box "+(e.opts.editorClass||"")),e.opts.theme&&e.$box.addClass(e.opts.theme+"-theme"))),this.$wp=null,this.$el=null,this.el=null,this.$box=null},isEmpty:function(){return e.node.isEmpty(e.el)},getXHR:function(i,y){var E=new XMLHttpRequest;for(var O in E.open(y,i,!0),e.opts.requestWithCredentials&&(E.withCredentials=!0),e.opts.requestHeaders)e.opts.requestHeaders.hasOwnProperty(O)&&E.setRequestHeader(O,e.opts.requestHeaders[O]);return E},injectStyle:function(i){if(e.opts.iframe){e.$head.find("style[data-fr-style], link[data-fr-style]").remove(),e.$head.append('<style data-fr-style="true">'+i+"</style>");for(var y=0;y<e.opts.iframeStyleFiles.length;y++){var E=t('<link data-fr-style="true" rel="stylesheet" href="'+e.opts.iframeStyleFiles[y]+'">');E.get(0).addEventListener("load",e.size.syncIframe),e.$head.append(E)}}},hasFocus:function(){return e.browser.mozilla&&e.helpers.isMobile()?e.selection.inEditor():e.node.hasFocus(e.el)||0<e.$el.find("*:focus").length},sameInstance:function(i){if(!i)return!1;var y=i.data("instance");return!!y&&y.id==e.id}}},t.FE.MODULES.cursorLists=function(e){function o(y){for(var E=y;"LI"!=E.tagName;)E=E.parentNode;return E}function i(y){for(var E=y;!e.node.isList(E);)E=E.parentNode;return E}return{_startEnter:function(y){var E,O=o(y),p=O.nextSibling,L=O.previousSibling,w=e.html.defaultTag();if(e.node.isEmpty(O,!0)&&p){for(var f="",R="",T=y.parentNode;!e.node.isList(T)&&T.parentNode&&("LI"!==T.parentNode.tagName||T.parentNode===O);)f=e.node.openTagString(T)+f,R+=e.node.closeTagString(T),T=T.parentNode;var _;for(f=e.node.openTagString(T)+f,R+=e.node.closeTagString(T),_=T.parentNode&&"LI"==T.parentNode.tagName?R+"<li>"+t.FE.MARKERS+"<br>"+f:w?R+"<"+w+">"+t.FE.MARKERS+"<br></"+w+">"+f:R+t.FE.MARKERS+"<br>"+f;["UL","OL"].indexOf(T.tagName)<0||T.parentNode&&"LI"===T.parentNode.tagName;)T=T.parentNode;t(O).replaceWith('<span id="fr-break"></span>');var A=e.node.openTagString(T)+t(T).html()+e.node.closeTagString(T);A=A.replace(/<span id="fr-break"><\/span>/g,_),t(T).replaceWith(A),e.$el.find("li:empty").remove()}else if(L&&p||!e.node.isEmpty(O,!0)){for(var c="<br>",l=y.parentNode;l&&"LI"!=l.tagName;)c=e.node.openTagString(l)+c+e.node.closeTagString(l),l=l.parentNode;t(O).before("<li>"+c+"</li>"),t(y).remove()}else if(L){E=i(O);for(var a=t.FE.MARKERS+"<br>",s=y.parentNode;s&&"LI"!=s.tagName;)a=e.node.openTagString(s)+a+e.node.closeTagString(s),s=s.parentNode;E.parentNode&&"LI"==E.parentNode.tagName?t(E.parentNode).after("<li>"+a+"</li>"):w?t(E).after("<"+w+">"+a+"</"+w+">"):t(E).after(a),t(O).remove()}else(E=i(O)).parentNode&&"LI"==E.parentNode.tagName?p?t(E.parentNode).before(e.node.openTagString(O)+t.FE.MARKERS+"<br></li>"):t(E.parentNode).after(e.node.openTagString(O)+t.FE.MARKERS+"<br></li>"):w?t(E).before("<"+w+">"+t.FE.MARKERS+"<br></"+w+">"):t(E).before(t.FE.MARKERS+"<br>"),t(O).remove()},_middleEnter:function(y){for(var E=o(y),O="",p=y,L="",w="";p!=E;){var f="A"==(p=p.parentNode).tagName&&e.cursor.isAtEnd(y,p)?"fr-to-remove":"";L=e.node.openTagString(t(p).clone().addClass(f).get(0))+L,w=e.node.closeTagString(p)+w}O=w+O+L+t.FE.MARKERS+(e.opts.keepFormatOnDelete?t.FE.INVISIBLE_SPACE:""),t(y).replaceWith('<span id="fr-break"></span>');var R=e.node.openTagString(E)+t(E).html()+e.node.closeTagString(E);R=R.replace(/<span id="fr-break"><\/span>/g,O),t(E).replaceWith(R)},_endEnter:function(y){for(var E=o(y),O=t.FE.MARKERS,p="",L=y,w=!1;L!=E;){var f="A"==(L=L.parentNode).tagName&&e.cursor.isAtEnd(y,L)?"fr-to-remove":"";w||L==E||e.node.isBlock(L)||(w=!0,p+=t.FE.INVISIBLE_SPACE),p=e.node.openTagString(t(L).clone().addClass(f).get(0))+p,O+=e.node.closeTagString(L)}var R=p+O;t(y).remove(),t(E).after(R)},_backspace:function(y){var E=o(y),O=E.previousSibling;if(O){O=t(O).find(e.html.blockTagsQuery()).get(-1)||O,t(y).replaceWith(t.FE.MARKERS);var p=e.node.contents(O);p.length&&"BR"==p[p.length-1].tagName&&t(p[p.length-1]).remove(),t(E).find(e.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==E&&t(this).replaceWith(t(this).html()+(e.node.isEmpty(this)?"":"<br>"))});for(var L,w=e.node.contents(E)[0];w&&!e.node.isList(w);)L=w.nextSibling,t(O).append(w),w=L;for(O=E.previousSibling;w;)L=w.nextSibling,t(O).append(w),w=L;1<(p=e.node.contents(O)).length&&"BR"===p[p.length-1].tagName&&t(p[p.length-1]).remove(),t(E).remove()}else{var f=i(E);if(t(y).replaceWith(t.FE.MARKERS),f.parentNode&&"LI"==f.parentNode.tagName){var R=f.previousSibling;e.node.isBlock(R)?(t(E).find(e.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==E&&t(this).replaceWith(t(this).html()+(e.node.isEmpty(this)?"":"<br>"))}),t(R).append(t(E).html())):t(f).before(t(E).html())}else{var T=e.html.defaultTag();T&&0===t(E).find(e.html.blockTagsQuery()).length?t(f).before("<"+T+">"+t(E).html()+"</"+T+">"):t(f).before(t(E).html())}t(E).remove(),e.html.wrap(),0===t(f).find("li").length&&t(f).remove()}},_del:function(y){var E,O=o(y),p=O.nextSibling;if(p){(E=e.node.contents(p)).length&&"BR"==E[0].tagName&&t(E[0]).remove(),t(p).find(e.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==p&&t(this).replaceWith(t(this).html()+(e.node.isEmpty(this)?"":"<br>"))});for(var L,w=y,f=e.node.contents(p)[0];f&&!e.node.isList(f);)L=f.nextSibling,t(w).after(f),w=f,f=L;for(;f;)L=f.nextSibling,t(O).append(f),f=L;t(y).replaceWith(t.FE.MARKERS),t(p).remove()}else{for(var R=O;!R.nextSibling&&R!=e.el;)R=R.parentNode;if(R==e.el)return!1;if(e.node.isBlock(R=R.nextSibling))t.FE.NO_DELETE_TAGS.indexOf(R.tagName)<0&&(t(y).replaceWith(t.FE.MARKERS),(E=e.node.contents(O)).length&&"BR"==E[E.length-1].tagName&&t(E[E.length-1]).remove(),t(O).append(t(R).html()),t(R).remove());else for((E=e.node.contents(O)).length&&"BR"==E[E.length-1].tagName&&t(E[E.length-1]).remove(),t(y).replaceWith(t.FE.MARKERS);R&&!e.node.isBlock(R)&&"BR"!=R.tagName;)t(O).append(t(R)),R=R.nextSibling}}}},t.FE.NO_DELETE_TAGS=["TH","TD","TR","TABLE","FORM"],t.FE.SIMPLE_ENTER_TAGS=["TH","TD","LI","DL","DT","FORM"],t.FE.MODULES.cursor=function(e){function o(A){return!!A&&(!!e.node.isBlock(A)||(A.nextSibling&&A.nextSibling.nodeType==Node.TEXT_NODE&&0===A.nextSibling.textContent.replace(/\u200b/g,"").length?o(A.nextSibling):!(A.nextSibling&&(!A.previousSibling||"BR"!=A.nextSibling.tagName||A.nextSibling.nextSibling))&&o(A.parentNode)))}function i(A){return!!A&&(!!e.node.isBlock(A)||(A.previousSibling&&A.previousSibling.nodeType==Node.TEXT_NODE&&0===A.previousSibling.textContent.replace(/\u200b/g,"").length?i(A.previousSibling):!A.previousSibling&&(!(A.previousSibling||!e.node.hasClass(A.parentNode,"fr-inner"))||i(A.parentNode))))}function y(A,c){return!!A&&A!=e.$wp.get(0)&&(A.previousSibling&&A.previousSibling.nodeType==Node.TEXT_NODE&&0===A.previousSibling.textContent.replace(/\u200b/g,"").length?y(A.previousSibling,c):!A.previousSibling&&(A.parentNode==c||y(A.parentNode,c)))}function E(A,c){return!!A&&A!=e.$wp.get(0)&&(A.nextSibling&&A.nextSibling.nodeType==Node.TEXT_NODE&&0===A.nextSibling.textContent.replace(/\u200b/g,"").length?E(A.nextSibling,c):!(A.nextSibling&&(!A.previousSibling||"BR"!=A.nextSibling.tagName||A.nextSibling.nextSibling))&&(A.parentNode==c||E(A.parentNode,c)))}function O(A){return 0<t(A).parentsUntil(e.$el,"LI").length&&0===t(A).parentsUntil("LI","TABLE").length}function p(A,c){var l=new RegExp((c?"^":"")+"(([\\uD83C-\\uDBFF\\uDC00-\\uDFFF]+\\u200D)*[\\uD83C-\\uDBFF\\uDC00-\\uDFFF]{2})"+(c?"":"$"),"i"),a=A.match(l);return a?a[0].length:1}function L(A){for(var c,l=A;!l.previousSibling;)if(e.node.isElement(l=l.parentNode))return!1;if(!e.node.isBlock(l=l.previousSibling)&&e.node.isEditable(l)){for(c=e.node.contents(l);l.nodeType!=Node.TEXT_NODE&&!e.node.isDeletable(l)&&c.length&&e.node.isEditable(l);)c=e.node.contents(l=c[c.length-1]);if(l.nodeType==Node.TEXT_NODE){var a=l.textContent,s=a.length;if(a.length&&"\n"===a[a.length-1])return l.textContent=a.substring(0,s-2),0===l.textContent.length&&l.parentNode.removeChild(l),L(A);if(e.opts.tabSpaces&&a.length>=e.opts.tabSpaces&&0===a.substr(a.length-e.opts.tabSpaces,a.length-1).replace(/ /g,"").replace(new RegExp(t.FE.UNICODE_NBSP,"g"),"").length&&(s=a.length-e.opts.tabSpaces+1),l.textContent=a.substring(0,s-p(a)),0===l.textContent.length)if(a.length!=l.textContent.length&&e.opts.keepFormatOnDelete)t(l).after(t.FE.INVISIBLE_SPACE+t.FE.MARKERS);else if((2!=l.parentNode.childNodes.length||l.parentNode!=A.parentNode)&&1!=l.parentNode.childNodes.length||e.node.isBlock(l.parentNode)||e.node.isElement(l.parentNode)||!e.node.isDeletable(l.parentNode)){for(;!e.node.isElement(l.parentNode)&&e.node.isEmpty(l.parentNode)&&e.node.isDeletable(l.parentNode);){var m=l;l=l.parentNode,m.parentNode.removeChild(m)}t(l).after(t.FE.MARKERS),e.node.isElement(l.parentNode)&&!A.nextSibling&&l.previousSibling&&"BR"==l.previousSibling.tagName&&t(A).after("<br>"),l.parentNode.removeChild(l)}else t(l.parentNode).after(t.FE.MARKERS),t(l.parentNode).remove();else t(l).after(t.FE.MARKERS)}else e.node.isDeletable(l)?(t(l).after(t.FE.MARKERS),t(l).remove()):A.nextSibling&&"BR"==A.nextSibling.tagName&&e.node.isVoid(l)&&"BR"!=l.tagName?(t(A.nextSibling).remove(),t(A).replaceWith(t.FE.MARKERS)):!1!==e.events.trigger("node.remove",[t(l)])&&(t(l).after(t.FE.MARKERS),t(l).remove())}else if(t.FE.NO_DELETE_TAGS.indexOf(l.tagName)<0&&(e.node.isEditable(l)||e.node.isDeletable(l)))if(e.node.isDeletable(l))t(A).replaceWith(t.FE.MARKERS),t(l).remove();else if(e.node.isEmpty(l)&&!e.node.isList(l))t(l).remove(),t(A).replaceWith(t.FE.MARKERS);else{for(e.node.isList(l)&&(l=t(l).find("li:last").get(0)),(c=e.node.contents(l))&&"BR"==c[c.length-1].tagName&&t(c[c.length-1]).remove(),c=e.node.contents(l);c&&e.node.isBlock(c[c.length-1]);)c=e.node.contents(l=c[c.length-1]);t(l).append(t.FE.MARKERS);for(var n=A;!n.previousSibling;)n=n.parentNode;for(;n&&"BR"!==n.tagName&&!e.node.isBlock(n);){var S=n;n=n.nextSibling,t(l).append(S)}n&&"BR"==n.tagName&&t(n).remove(),t(A).remove()}else A.nextSibling&&"BR"==A.nextSibling.tagName&&t(A.nextSibling).remove()}function w(A){var c=0<t(A).parentsUntil(e.$el,"BLOCKQUOTE").length,l=e.node.deepestParent(A,[],!c);if(l&&"BLOCKQUOTE"==l.tagName){var a=e.node.deepestParent(A,[t(A).parentsUntil(e.$el,"BLOCKQUOTE").get(0)]);a&&a.nextSibling&&(l=a)}if(null!==l){var s,u=l.nextSibling;if(e.node.isBlock(l)&&(e.node.isEditable(l)||e.node.isDeletable(l))&&u&&t.FE.NO_DELETE_TAGS.indexOf(u.tagName)<0)if(e.node.isDeletable(u))t(u).remove(),t(A).replaceWith(t.FE.MARKERS);else if(e.node.isBlock(u)&&e.node.isEditable(u))if(e.node.isList(u))if(e.node.isEmpty(l,!0))t(l).remove(),t(u).find("li:first").prepend(t.FE.MARKERS);else{var m=t(u).find("li:first");"BLOCKQUOTE"==l.tagName&&(s=e.node.contents(l)).length&&e.node.isBlock(s[s.length-1])&&(l=s[s.length-1]),0===m.find("ul, ol").length&&(t(A).replaceWith(t.FE.MARKERS),m.find(e.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==m.get(0)&&t(this).replaceWith(t(this).html()+(e.node.isEmpty(this)?"":"<br>"))}),t(l).append(e.node.contents(m.get(0))),m.remove(),0===t(u).find("li").length&&t(u).remove())}else{if((s=e.node.contents(u)).length&&"BR"==s[0].tagName&&t(s[0]).remove(),"BLOCKQUOTE"!=u.tagName&&"BLOCKQUOTE"==l.tagName)for(s=e.node.contents(l);s.length&&e.node.isBlock(s[s.length-1]);)s=e.node.contents(l=s[s.length-1]);else if("BLOCKQUOTE"==u.tagName&&"BLOCKQUOTE"!=l.tagName)for(s=e.node.contents(u);s.length&&e.node.isBlock(s[0]);)s=e.node.contents(u=s[0]);t(A).replaceWith(t.FE.MARKERS),t(l).append(u.innerHTML),t(u).remove()}else{for(t(A).replaceWith(t.FE.MARKERS);u&&"BR"!==u.tagName&&!e.node.isBlock(u)&&e.node.isEditable(u);){var n=u;u=u.nextSibling,t(l).append(n)}u&&"BR"==u.tagName&&e.node.isEditable(u)&&t(u).remove()}}}function R(){for(var A=e.el.querySelectorAll("blockquote:empty"),c=0;c<A.length;c++)A[c].parentNode.removeChild(A[c])}function T(A,c,l){var a,s=e.node.deepestParent(A,[],!l);if(s&&"BLOCKQUOTE"==s.tagName)return E(A,s)?(a=e.html.defaultTag(),c?t(A).replaceWith("<br>"+t.FE.MARKERS):a?t(s).after("<"+a+">"+t.FE.MARKERS+"<br></"+a+">"):t(s).after(t.FE.MARKERS+"<br>"),t(A).remove()):_(A,c,l),!1;if(null==s)(a=e.html.defaultTag())&&e.node.isElement(A.parentNode)?t(A).replaceWith("<"+a+">"+t.FE.MARKERS+"<br></"+a+">"):!A.previousSibling||t(A.previousSibling).is("br")||A.nextSibling?t(A).replaceWith("<br>"+t.FE.MARKERS):t(A).replaceWith("<br>"+t.FE.MARKERS+"<br>");else{var u=A,m="";"PRE"!=s.tagName||A.nextSibling||(c=!0),e.node.isBlock(s)&&!c||(m="<br/>");var n,S="",x="",q="",v="";(a=e.html.defaultTag())&&e.node.isBlock(s)&&(q="<"+a+">",v="</"+a+">",s.tagName==a.toUpperCase()&&(q=e.node.openTagString(t(s).clone().removeAttr("id").get(0))));do{if(u=u.parentNode,!c||u!=s||c&&!e.node.isBlock(s))if(S+=e.node.closeTagString(u),u==s&&e.node.isBlock(s))x=q+x;else{var D="A"==u.tagName&&E(A,u)?"fr-to-remove":"";x=e.node.openTagString(t(u).clone().addClass(D).get(0))+x}}while(u!=s);m=S+m+x+(A.parentNode==s&&e.node.isBlock(s)?"":t.FE.INVISIBLE_SPACE)+t.FE.MARKERS,e.node.isBlock(s)&&!t(s).find("*:last").is("br")&&t(s).append("<br/>"),t(A).after('<span id="fr-break"></span>'),t(A).remove(),s.nextSibling&&!e.node.isBlock(s.nextSibling)||e.node.isBlock(s)||t(s).after("<br>"),n=(n=!c&&e.node.isBlock(s)?e.node.openTagString(s)+t(s).html()+v:e.node.openTagString(s)+t(s).html()+e.node.closeTagString(s)).replace(/<span id="fr-break"><\/span>/g,m),t(s).replaceWith(n)}}function _(A,c,l){var a=e.node.deepestParent(A,[],!l);if(null==a)e.html.defaultTag()&&A.parentNode===e.el?t(A).replaceWith("<"+e.html.defaultTag()+">"+t.FE.MARKERS+"<br></"+e.html.defaultTag()+">"):(A.nextSibling&&!e.node.isBlock(A.nextSibling)||t(A).after("<br>"),t(A).replaceWith("<br>"+t.FE.MARKERS));else{var s=A,u="";"PRE"==a.tagName&&(c=!0),e.node.isBlock(a)&&!c||(u="<br>");var m="",n="";do{var S=s;if(s=s.parentNode,"BLOCKQUOTE"==a.tagName&&e.node.isEmpty(S)&&!e.node.hasClass(S,"fr-marker")&&0<t(S).find(A).length&&t(S).after(A),"BLOCKQUOTE"!=a.tagName||!E(A,s)&&!y(A,s))if(!c||s!=a||c&&!e.node.isBlock(a)){m+=e.node.closeTagString(s);var x="A"==s.tagName&&E(A,s)?"fr-to-remove":"";n=e.node.openTagString(t(s).clone().addClass(x).removeAttr("id").get(0))+n}else"BLOCKQUOTE"==a.tagName&&c&&(n=m="")}while(s!=a);var q=a==A.parentNode&&e.node.isBlock(a)||A.nextSibling;if("BLOCKQUOTE"==a.tagName)if(A.previousSibling&&e.node.isBlock(A.previousSibling)&&A.nextSibling&&"BR"==A.nextSibling.tagName&&(t(A.nextSibling).after(A),A.nextSibling&&"BR"==A.nextSibling.tagName&&t(A.nextSibling).remove()),c)u=m+u+t.FE.MARKERS+n;else{var v=e.html.defaultTag();u=m+u+(v?"<"+v+">":"")+t.FE.MARKERS+"<br>"+(v?"</"+v+">":"")+n}else u=m+u+n+(q?"":t.FE.INVISIBLE_SPACE)+t.FE.MARKERS;t(A).replaceWith('<span id="fr-break"></span>');var D=e.node.openTagString(a)+t(a).html()+e.node.closeTagString(a);D=D.replace(/<span id="fr-break"><\/span>/g,u),t(a).replaceWith(D)}}return{enter:function(A){var c=e.markers.insert();if(!c)return!0;e.el.normalize();var l=!1;0<t(c).parentsUntil(e.$el,"BLOCKQUOTE").length&&(l=!0),t(c).parentsUntil(e.$el,"TD, TH").length&&(l=!1),o(c)?!O(c)||A||l?T(c,A,l):e.cursorLists._endEnter(c):i(c)?!O(c)||A||l?function a(s,u,m){var n,S=e.node.deepestParent(s,[],!m);if(S&&"TABLE"==S.tagName)return t(S).find("td:first, th:first").prepend(s),a(s,u,m);if(S&&"BLOCKQUOTE"==S.tagName)if(y(s,S)){if(!u)return(n=e.html.defaultTag())?t(S).before("<"+n+">"+t.FE.MARKERS+"<br></"+n+">"):t(S).before(t.FE.MARKERS+"<br>"),t(s).remove(),!1}else E(s,S)?T(s,u,!0):_(s,u,!0);if(null==S)(n=e.html.defaultTag())&&e.node.isElement(s.parentNode)?t(s).replaceWith("<"+n+">"+t.FE.MARKERS+"<br></"+n+">"):t(s).replaceWith("<br>"+t.FE.MARKERS);else{if(e.node.isBlock(S))if("PRE"==S.tagName&&(u=!0),u)t(s).remove(),t(S).prepend("<br>"+t.FE.MARKERS);else{if(e.node.isEmpty(S,!0))return T(s,u,m);if(e.opts.keepFormatOnDelete){for(var x=s,q=t.FE.INVISIBLE_SPACE;x!=S&&!e.node.isElement(x);)q=e.node.openTagString(x=x.parentNode)+q+e.node.closeTagString(x);t(S).before(q)}else t(S).before(e.node.openTagString(t(S).clone().removeAttr("id").get(0))+"<br>"+e.node.closeTagString(S))}else t(S).before("<br>");t(s).remove()}}(c,A,l):e.cursorLists._startEnter(c):!O(c)||A||l?_(c,A,l):e.cursorLists._middleEnter(c),e.$el.find(".fr-to-remove").each(function(){for(var a=e.node.contents(this),s=0;s<a.length;s++)a[s].nodeType==Node.TEXT_NODE&&(a[s].textContent=a[s].textContent.replace(/\u200B/g,""));t(this).replaceWith(this.innerHTML)}),e.html.fillEmptyBlocks(!0),e.opts.htmlUntouched||(e.html.cleanEmptyTags(),e.clean.lists(),e.spaces.normalizeAroundCursor()),e.selection.restore()},backspace:function(){var A=!1,c=e.markers.insert();if(!c)return!0;for(var l=c.parentNode;l&&!e.node.isElement(l);){if("false"===l.getAttribute("contenteditable"))return t(c).replaceWith(t.FE.MARKERS),e.selection.restore(),!1;if("true"===l.getAttribute("contenteditable"))break;l=l.parentNode}e.el.normalize();var a=c.previousSibling;if(a){var s=a.textContent;s&&s.length&&8203==s.charCodeAt(s.length-1)&&(1==s.length?t(a).remove():a.textContent=a.textContent.substr(0,s.length-p(s)))}return o(c)?A=L(c):i(c)?O(c)&&y(c,t(c).parents("li:first").get(0))?e.cursorLists._backspace(c):function(u){for(var m=0<t(u).parentsUntil(e.$el,"BLOCKQUOTE").length,n=e.node.deepestParent(u,[],!m),S=n;n&&!n.previousSibling&&"BLOCKQUOTE"!=n.tagName&&n.parentElement!=e.el&&!e.node.hasClass(n.parentElement,"fr-inner")&&t.FE.SIMPLE_ENTER_TAGS.indexOf(n.parentElement.tagName)<0;)n=n.parentElement;if(n&&"BLOCKQUOTE"==n.tagName){var x=e.node.deepestParent(u,[t(u).parentsUntil(e.$el,"BLOCKQUOTE").get(0)]);x&&x.previousSibling&&(S=n=x)}if(null!==n){var q,v=n.previousSibling;if(e.node.isBlock(n)&&e.node.isEditable(n)&&v&&t.FE.NO_DELETE_TAGS.indexOf(v.tagName)<0)if(e.node.isDeletable(v))t(v).remove(),t(u).replaceWith(t.FE.MARKERS);else if(e.node.isEditable(v))if(e.node.isBlock(v))if(e.node.isEmpty(v)&&!e.node.isList(v))t(v).remove(),t(u).after(e.opts.keepFormatOnDelete?t.FE.INVISIBLE_SPACE:"");else{if(e.node.isList(v)&&(v=t(v).find("li:last").get(0)),(q=e.node.contents(v)).length&&"BR"==q[q.length-1].tagName&&t(q[q.length-1]).remove(),"BLOCKQUOTE"==v.tagName&&"BLOCKQUOTE"!=n.tagName)for(q=e.node.contents(v);q.length&&e.node.isBlock(q[q.length-1]);)q=e.node.contents(v=q[q.length-1]);else if("BLOCKQUOTE"!=v.tagName&&"BLOCKQUOTE"==S.tagName)for(q=e.node.contents(S);q.length&&e.node.isBlock(q[0]);)q=e.node.contents(S=q[0]);if(e.node.isEmpty(n))t(u).remove(),e.selection.setAtEnd(v,!0);else{t(u).replaceWith(t.FE.MARKERS);var D=v.childNodes;e.node.isBlock(D[D.length-1])?t(D[D.length-1]).append(S.innerHTML):t(v).append(S.innerHTML)}t(S).remove(),e.node.isEmpty(n)&&t(n).remove()}else t(u).replaceWith(t.FE.MARKERS),"BLOCKQUOTE"==n.tagName&&v.nodeType==Node.ELEMENT_NODE?t(v).remove():(t(v).after(e.node.isEmpty(n)?"":t(n).html()),t(n).remove(),"BR"==v.tagName&&t(v).remove())}}(c):A=L(c),t(c).remove(),R(),e.html.fillEmptyBlocks(!0),e.opts.htmlUntouched||(e.html.cleanEmptyTags(),e.clean.lists(),e.spaces.normalizeAroundCursor()),e.selection.restore(),A},del:function(){var A=e.markers.insert();if(!A)return!1;if(e.el.normalize(),o(A))if(O(A))if(0===t(A).parents("li:first").find("ul, ol").length)e.cursorLists._del(A);else{var c=t(A).parents("li:first").find("ul:first, ol:first").find("li:first");(c=c.find(e.html.blockTagsQuery()).get(-1)||c).prepend(A),e.cursorLists._backspace(A)}else w(A);else i(A),function f(A){for(var c,l=A;!l.nextSibling;)if(e.node.isElement(l=l.parentNode))return!1;if("BR"==(l=l.nextSibling).tagName&&e.node.isEditable(l))if(l.nextSibling){if(e.node.isBlock(l.nextSibling)&&e.node.isEditable(l.nextSibling)){if(!(t.FE.NO_DELETE_TAGS.indexOf(l.nextSibling.tagName)<0))return void t(l).remove();t((l=l.nextSibling).previousSibling).remove()}}else if(o(l))return void(O(A)?e.cursorLists._del(A):e.node.deepestParent(l)&&((!e.node.isEmpty(e.node.blockParent(l))||(e.node.blockParent(l).nextSibling&&t.FE.NO_DELETE_TAGS.indexOf(e.node.blockParent(l).nextSibling.tagName))<0)&&t(l).remove(),w(A)));if(!e.node.isBlock(l)&&e.node.isEditable(l)){for(c=e.node.contents(l);l.nodeType!=Node.TEXT_NODE&&c.length&&!e.node.isDeletable(l)&&e.node.isEditable(l);)c=e.node.contents(l=c[0]);l.nodeType==Node.TEXT_NODE?(t(l).before(t.FE.MARKERS),l.textContent.length&&(l.textContent=l.textContent.substring(p(l.textContent,!0),l.textContent.length))):(e.node.isDeletable(l)||!1!==e.events.trigger("node.remove",[t(l)]))&&(t(l).before(t.FE.MARKERS),t(l).remove()),t(A).remove()}else if(t.FE.NO_DELETE_TAGS.indexOf(l.tagName)<0&&(e.node.isEditable(l)||e.node.isDeletable(l)))if(e.node.isDeletable(l))t(A).replaceWith(t.FE.MARKERS),t(l).remove();else if(e.node.isList(l))A.previousSibling?(t(l).find("li:first").prepend(A),e.cursorLists._backspace(A)):(t(l).find("li:first").prepend(t.FE.MARKERS),t(A).remove());else if((c=e.node.contents(l))&&"BR"==c[0].tagName&&t(c[0]).remove(),c&&"BLOCKQUOTE"==l.tagName){var a=c[0];for(t(A).before(t.FE.MARKERS);a&&"BR"!=a.tagName;){var s=a;a=a.nextSibling,t(A).before(s)}a&&"BR"==a.tagName&&t(a).remove()}else t(A).after(t(l).html()).after(t.FE.MARKERS),t(l).remove()}(A);t(A).remove(),R(),e.html.fillEmptyBlocks(!0),e.opts.htmlUntouched||(e.html.cleanEmptyTags(),e.clean.lists()),e.spaces.normalizeAroundCursor(),e.selection.restore()},isAtEnd:E,isAtStart:y}},t.FE.ENTER_P=0,t.FE.ENTER_DIV=1,t.FE.ENTER_BR=2,t.FE.KEYCODE={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,FF_HYPHEN:173,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,HYPHEN:189,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,IME:229},t.extend(t.FE.DEFAULTS,{enter:t.FE.ENTER_P,multiLine:!0,tabSpaces:0}),t.FE.MODULES.keys=function(e){var o,i,y,E=!1;function O(){if(e.browser.mozilla&&e.selection.isCollapsed()&&!E){var x=e.selection.ranges(0),q=x.startContainer,v=x.startOffset;q&&q.nodeType==Node.TEXT_NODE&&v<=q.textContent.length&&0<v&&32==q.textContent.charCodeAt(v-1)&&(e.selection.save(),e.spaces.normalize(),e.selection.restore())}}function p(){e.selection.isFull()&&setTimeout(function(){var x=e.html.defaultTag();e.$el.html(x?"<"+x+">"+t.FE.MARKERS+"<br/></"+x+">":t.FE.MARKERS+"<br/>"),e.selection.restore(),e.placeholder.refresh(),e.button.bulkRefresh(),e.undo.saveStep()},0)}function L(){E=!1}function w(){E=!1}function f(){var x=e.html.defaultTag();e.$el.html(x?"<"+x+">"+t.FE.MARKERS+"<br/></"+x+">":t.FE.MARKERS+"<br/>"),e.selection.restore()}function R(x){var q=e.selection.element();if(q&&0<=["INPUT","TEXTAREA"].indexOf(q.tagName))return!0;if(x&&l(x.which))return _(),!0;e.events.disableBlur();var v=x.which;if(16===v)return!0;if((o=v)===t.FE.KEYCODE.IME)return E=!0;E=!1;var D,G,k,te=a(v)&&!c(x)&&!x.altKey,J=v==t.FE.KEYCODE.BACKSPACE||v==t.FE.KEYCODE.DELETE;if(((!x.shiftKey||33!==v&&34!==v&&35!==v&&36!==v)&&e.selection.isFull()&&!e.opts.keepFormatOnDelete&&!e.placeholder.isVisible()||J&&e.placeholder.isVisible()&&e.opts.keepFormatOnDelete)&&(te||J)&&(f(),!a(v)))return x.preventDefault(),!0;v==t.FE.KEYCODE.ENTER?x.shiftKey?((k=x).preventDefault(),k.stopPropagation(),e.opts.multiLine&&(e.selection.isCollapsed()||e.selection.remove(),e.cursor.enter(!0))):(G=x,e.opts.multiLine?(e.helpers.isIOS()||(G.preventDefault(),G.stopPropagation()),e.selection.isCollapsed()||e.selection.remove(),e.cursor.enter()):(G.preventDefault(),G.stopPropagation())):v===t.FE.KEYCODE.BACKSPACE&&(x.metaKey||x.ctrlKey)?setTimeout(function(){e.events.disableBlur(),e.events.focus()},0):v!=t.FE.KEYCODE.BACKSPACE||c(x)||x.altKey?v!=t.FE.KEYCODE.DELETE||c(x)||x.altKey||x.shiftKey?v==t.FE.KEYCODE.SPACE?function(Ee){var ye=e.selection.element();if(!e.helpers.isMobile()&&ye&&"A"==ye.tagName){Ee.preventDefault(),Ee.stopPropagation(),e.selection.isCollapsed()||e.selection.remove();var pe=e.markers.insert();if(pe){var Re=pe.previousSibling;!pe.nextSibling&&pe.parentNode&&"A"==pe.parentNode.tagName?(pe.parentNode.insertAdjacentHTML("afterend","&nbsp;"+t.FE.MARKERS),pe.parentNode.removeChild(pe)):(Re&&Re.nodeType==Node.TEXT_NODE&&1==Re.textContent.length&&160==Re.textContent.charCodeAt(0)?Re.textContent=Re.textContent+" ":pe.insertAdjacentHTML("beforebegin","&nbsp;"),pe.outerHTML=t.FE.MARKERS),e.selection.restore()}}}(x):v==t.FE.KEYCODE.TAB?function(Ee){if(0<e.opts.tabSpaces)if(e.selection.isCollapsed()){e.undo.saveStep(),Ee.preventDefault(),Ee.stopPropagation();for(var ye="",pe=0;pe<e.opts.tabSpaces;pe++)ye+="&nbsp;";e.html.insert(ye),e.placeholder.refresh(),e.undo.saveStep()}else Ee.preventDefault(),Ee.stopPropagation(),Ee.shiftKey?e.commands.outdent():e.commands.indent()}(x):c(x)||!a(x.which)||e.selection.isCollapsed()||x.ctrlKey||x.altKey||e.selection.remove():e.placeholder.isVisible()?(e.opts.keepFormatOnDelete||f(),x.preventDefault(),x.stopPropagation()):((D=x).preventDefault(),D.stopPropagation(),""===e.selection.text()?e.cursor.del():e.selection.remove(),e.placeholder.refresh()):e.placeholder.isVisible()?(e.opts.keepFormatOnDelete||f(),x.preventDefault(),x.stopPropagation()):function(Ee){if(e.selection.isCollapsed())if(e.cursor.backspace(),e.helpers.isIOS()){var ye=e.selection.ranges(0);ye.deleteContents(),ye.insertNode(document.createTextNode("\u200b")),e.selection.get().modify("move","forward","character")}else Ee.preventDefault(),Ee.stopPropagation();else Ee.preventDefault(),Ee.stopPropagation(),e.selection.remove();e.placeholder.refresh()}(x),e.events.enableBlur()}function T(){if(!e.$wp)return!0;var x;e.opts.height||e.opts.heightMax?(x=e.position.getBoundingRect().top,e.opts.iframe&&(x+=e.$iframe.offset().top),x>e.$wp.offset().top-e.helpers.scrollTop()+e.$wp.height()-20&&e.$wp.scrollTop(x+e.$wp.scrollTop()-(e.$wp.height()+e.$wp.offset().top)+e.helpers.scrollTop()+20)):(x=e.position.getBoundingRect().top,e.opts.toolbarBottom&&(x+=e.opts.toolbarStickyOffset),e.opts.iframe&&(x+=e.$iframe.offset().top,x-=e.helpers.scrollTop()),(x+=e.opts.toolbarStickyOffset)>e.o_win.innerHeight-20&&t(e.o_win).scrollTop(x+e.helpers.scrollTop()-e.o_win.innerHeight+20),x=e.position.getBoundingRect().top,e.opts.toolbarBottom||(x-=e.opts.toolbarStickyOffset),e.opts.iframe&&(x+=e.$iframe.offset().top,x-=e.helpers.scrollTop()),x<e.$tb.height()+20&&t(e.o_win).scrollTop(x+e.helpers.scrollTop()-e.$tb.height()-20))}function _(){var x,q=e.selection.element();!function(v){if(!v)return!1;var D=v.innerHTML;return!!((D=D.replace(/<span[^>]*? class\s*=\s*["']?fr-marker["']?[^>]+>\u200b<\/span>/gi,""))&&/\u200B/.test(D)&&0<D.replace(/\u200B/gi,"").length)}(q)||e.node.hasClass(q,"fr-marker")||"IFRAME"==q.tagName||(x=q,e.helpers.isIOS()&&0!==((x.textContent||"").match(/[\u3041-\u3096\u30A0-\u30FF\u4E00-\u9FFF\u3130-\u318F\uAC00-\uD7AF]/gi)||[]).length)||(e.selection.save(),function(v){for(var D=e.doc.createTreeWalker(v,NodeFilter.SHOW_TEXT,e.node.filter(function(k){return/\u200B/gi.test(k.textContent)}),!1);D.nextNode();){var G=D.currentNode;G.textContent=G.textContent.replace(/\u200B/gi,"")}}(q),e.selection.restore())}function A(x){var q=e.selection.element();if(q&&0<=["INPUT","TEXTAREA"].indexOf(q.tagName)||(x&&0===x.which&&o&&(x.which=o),e.helpers.isAndroid()&&e.browser.mozilla))return!0;if(E)return!1;if(x&&e.helpers.isIOS()&&x.which==t.FE.KEYCODE.ENTER&&e.doc.execCommand("undo"),!e.selection.isCollapsed()||x&&(x.which===t.FE.KEYCODE.META||x.which==t.FE.KEYCODE.CTRL)||x&&l(x.which))return!0;if(x&&!e.helpers.isIOS()&&(x.which==t.FE.KEYCODE.ENTER||x.which==t.FE.KEYCODE.BACKSPACE||37<=x.which&&x.which<=40&&!e.browser.msie))try{T()}catch{}_()}function c(x){if(-1!=navigator.userAgent.indexOf("Mac OS X")){if(x.metaKey&&!x.altKey)return!0}else if(x.ctrlKey&&!x.altKey)return!0;return!1}function l(x){if(x>=t.FE.KEYCODE.ARROW_LEFT&&x<=t.FE.KEYCODE.ARROW_DOWN)return!0}function a(x){if(x>=t.FE.KEYCODE.ZERO&&x<=t.FE.KEYCODE.NINE||x>=t.FE.KEYCODE.NUM_ZERO&&x<=t.FE.KEYCODE.NUM_MULTIPLY||x>=t.FE.KEYCODE.A&&x<=t.FE.KEYCODE.Z||e.browser.webkit&&0===x)return!0;switch(x){case t.FE.KEYCODE.SPACE:case t.FE.KEYCODE.QUESTION_MARK:case t.FE.KEYCODE.NUM_PLUS:case t.FE.KEYCODE.NUM_MINUS:case t.FE.KEYCODE.NUM_PERIOD:case t.FE.KEYCODE.NUM_DIVISION:case t.FE.KEYCODE.SEMICOLON:case t.FE.KEYCODE.FF_SEMICOLON:case t.FE.KEYCODE.DASH:case t.FE.KEYCODE.EQUALS:case t.FE.KEYCODE.FF_EQUALS:case t.FE.KEYCODE.COMMA:case t.FE.KEYCODE.PERIOD:case t.FE.KEYCODE.SLASH:case t.FE.KEYCODE.APOSTROPHE:case t.FE.KEYCODE.SINGLE_QUOTE:case t.FE.KEYCODE.OPEN_SQUARE_BRACKET:case t.FE.KEYCODE.BACKSLASH:case t.FE.KEYCODE.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}function s(x){var q=x.which;if(c(x)||37<=q&&q<=40||!a(q)&&q!=t.FE.KEYCODE.DELETE&&q!=t.FE.KEYCODE.BACKSPACE&&q!=t.FE.KEYCODE.ENTER&&q!=t.FE.KEYCODE.IME)return!0;i||(y=e.snapshot.get(),e.undo.canDo()||e.undo.saveStep()),clearTimeout(i),i=setTimeout(function(){i=null,e.undo.saveStep()},Math.max(250,e.opts.typingTimer))}function u(x){var q=x.which;if(c(x)||37<=q&&q<=40)return!0;y&&i?(e.undo.saveStep(y),y=null):void 0!==q&&0!==q||y||i||e.undo.saveStep()}function m(x){if(x&&"BR"==x.tagName)return!1;try{return 0===(x.textContent||"").length&&x.querySelector&&!x.querySelector(":scope > br")||x.childNodes&&1==x.childNodes.length&&x.childNodes[0].getAttribute&&("false"==x.childNodes[0].getAttribute("contenteditable")||e.node.hasClass(x.childNodes[0],"fr-img-caption"))}catch{return!1}}function n(x){var q=e.el.childNodes,v=e.html.defaultTag();return!(!x.target||x.target===e.el)||0===q.length||void(e.$el.outerHeight()-x.offsetY<=10?m(q[q.length-1])&&(e.$el.append(v?"<"+v+">"+t.FE.MARKERS+"<br></"+v+">":t.FE.MARKERS+"<br>"),e.selection.restore(),T()):x.offsetY<=10&&m(q[0])&&(e.$el.prepend(v?"<"+v+">"+t.FE.MARKERS+"<br></"+v+">":t.FE.MARKERS+"<br>"),e.selection.restore(),T()))}function S(){i&&clearTimeout(i)}return{_init:function(){e.events.on("keydown",s),e.events.on("input",O),e.events.on("mousedown",w),e.events.on("keyup input",u),e.events.on("keypress",L),e.events.on("keydown",R),e.events.on("keyup",A),e.events.on("destroy",S),e.events.on("html.inserted",A),e.events.on("cut",p),e.events.on("click",n)},ctrlKey:c,isCharacter:a,isArrow:l,forceUndo:function(){i&&(clearTimeout(i),e.undo.saveStep(),y=null)},isIME:function(){return E},isBrowserAction:function(x){var q=x.which;return c(x)||q==t.FE.KEYCODE.F5},positionCaret:T}},t.FE.MODULES.accessibility=function(e){var o=!0;function i(m){m&&m.length&&!e.$el.find('[contenteditable="true"]').is(":focus")&&(m.data("blur-event-set")||m.parents(".fr-popup").length||(e.events.$on(m,"blur",function(){var n=m.parents(".fr-toolbar, .fr-popup").data("instance")||e;n.events.blurActive()&&n.events.trigger("blur"),setTimeout(function(){n.events.enableBlur()},100)},!0),m.data("blur-event-set",!0)),(m.parents(".fr-toolbar, .fr-popup").data("instance")||e).events.disableBlur(),m.focus(),e.shared.$f_el=m)}function y(m,n){var S=n?"last":"first",x=m.find("button:visible:not(.fr-disabled), .fr-group span.fr-command:visible")[S]();if(x.length)return i(x),!0}function E(m){return m.is("input, textarea, select")&&p(),e.events.disableBlur(),m.focus(),!0}function O(m,n){var S=m.find("input, textarea, button, select").filter(":visible").not(":disabled").filter(n?":last":":first");if(S.length)return E(S);if(e.shared.with_kb){var x=m.find(".fr-active-item:visible:first");if(x.length)return E(x);var q=m.find("[tabIndex]:visible:first");if(q.length)return E(q)}}function p(){0===e.$el.find(".fr-marker").length&&e.core.hasFocus()&&e.selection.save()}function L(){var m=e.popups.areVisible();if(m){var n=m.find(".fr-buttons");return n.find("button:focus, .fr-group span:focus").length?!y(m.data("instance").$tb):!y(n)}return!y(e.$tb)}function w(){var m=null;return e.shared.$f_el.is(".fr-dropdown.fr-active")?m=e.shared.$f_el:e.shared.$f_el.closest(".fr-dropdown-menu").prev().is(".fr-dropdown.fr-active")&&(m=e.shared.$f_el.closest(".fr-dropdown-menu").prev()),m}function f(m,n,S){if(e.shared.$f_el){var x=w();x&&(e.button.click(x),e.shared.$f_el=x);var D,q=m.find("button:visible:not(.fr-disabled), .fr-group span.fr-command:visible"),v=q.index(e.shared.$f_el);return 0===v&&!S||v==q.length-1&&S?(n&&(m.parent().is(".fr-popup")&&(D=!O(m.parent().children().not(".fr-buttons"),!S)),!1===D&&(e.shared.$f_el=null)),n&&!1===D||y(m,!S)):i(t(q.get(v+(S?1:-1)))),!1}}function R(m,n){return f(m,n,!0)}function T(m,n){return f(m,n)}function _(m){if(e.shared.$f_el){var n;if(e.shared.$f_el.is(".fr-dropdown.fr-active"))return i(n=m?e.shared.$f_el.next().find(".fr-command:not(.fr-disabled)").first():e.shared.$f_el.next().find(".fr-command:not(.fr-disabled)").last()),!1;if(e.shared.$f_el.is("a.fr-command"))return(n=m?e.shared.$f_el.closest("li").nextAll(":visible:first").find(".fr-command:not(.fr-disabled)").first():e.shared.$f_el.closest("li").prevAll(":visible:first").find(".fr-command:not(.fr-disabled)").first()).length||(n=m?e.shared.$f_el.closest(".fr-dropdown-menu").find(".fr-command:not(.fr-disabled)").first():e.shared.$f_el.closest(".fr-dropdown-menu").find(".fr-command:not(.fr-disabled)").last()),i(n),!1}}function A(){if(e.shared.$f_el){if(e.shared.$f_el.hasClass("fr-dropdown"))e.button.click(e.shared.$f_el);else if(e.shared.$f_el.is("button.fr-back")){e.opts.toolbarInline&&(e.events.disableBlur(),e.events.focus());var m=e.popups.areVisible(e);m&&(e.shared.with_kb=!1),e.button.click(e.shared.$f_el),a(m)}else{if(e.events.disableBlur(),e.button.click(e.shared.$f_el),e.shared.$f_el.attr("data-popup")){var n=e.popups.areVisible(e);n&&n.data("popup-button",e.shared.$f_el)}else if(e.shared.$f_el.attr("data-modal")){var S=e.modals.areVisible(e);S&&S.data("modal-button",e.shared.$f_el)}e.shared.$f_el=null}return!1}}function c(){e.shared.$f_el&&(e.events.disableBlur(),e.shared.$f_el.blur(),e.shared.$f_el=null),!1!==e.events.trigger("toolbar.focusEditor")&&(e.events.disableBlur(),e.browser.msie||e.$el.focus(),e.events.focus())}function l(m){m&&m.length&&(e.events.$on(m,"keydown",function(n){if(!t(n.target).is("a.fr-command, button.fr-command, .fr-group span.fr-command"))return!0;var S=m.parents(".fr-popup").data("instance")||m.data("instance")||e;e.shared.with_kb=!0;var x=S.accessibility.exec(n,m);return e.shared.with_kb=!1,x},!0),e.browser.msie||e.events.$on(m,"mouseenter","[tabIndex]",function(n){var S=m.parents(".fr-popup").data("instance")||m.data("instance")||e;if(!o)return n.stopPropagation(),void n.preventDefault();var x=t(n.currentTarget);S.shared.$f_el&&S.shared.$f_el.not(x)&&S.accessibility.focusEditor()},!0))}function a(m){var n=m.data("popup-button");n&&setTimeout(function(){i(n),m.data("popup-button",null)},0)}function s(m){var n=e.popups.areVisible(m);n&&n.data("popup-button",null)}function u(m){var n=-1!=navigator.userAgent.indexOf("Mac OS X")?m.metaKey:m.ctrlKey;if(m.which==t.FE.KEYCODE.F10&&!n&&!m.shiftKey&&m.altKey){e.shared.with_kb=!0;var S=e.popups.areVisible(e),x=!1;return S&&(x=O(S.children().not(".fr-buttons"))),x||L(),e.shared.with_kb=!1,m.preventDefault(),m.stopPropagation(),!1}return!0}return{_init:function(){e.$wp?e.events.on("keydown",u,!0):e.events.$on(e.$win,"keydown",u,!0),e.events.on("mousedown",function(m){s(e),e.shared.$f_el&&(e.accessibility.restoreSelection(),m.stopPropagation(),e.events.disableBlur(),e.shared.$f_el=null)},!0),e.events.on("blur",function(){e.shared.$f_el=null,s(e)},!0)},registerPopup:function(m){var n,S,x=e.popups.get(m),q=(S=e.popups.get(n=m),{_tiKeydown:function(v){var D=S.data("instance")||e;if(!1===D.events.trigger("popup.tab",[v]))return!1;var G=v.which,k=S.find(":focus:first");if(t.FE.KEYCODE.TAB==G){v.preventDefault();var te=S.children().not(".fr-buttons"),J=te.find("input, textarea, button, select").filter(":visible").not(".fr-no-touch input, .fr-no-touch textarea, .fr-no-touch button, .fr-no-touch select, :disabled").toArray(),Ee=J.indexOf(this)+(v.shiftKey?-1:1);if(0<=Ee&&Ee<J.length)return D.events.disableBlur(),t(J[Ee]).focus(),v.stopPropagation(),!1;var ye=S.find(".fr-buttons");if(ye.length&&y(ye,!!v.shiftKey)||O(te))return v.stopPropagation(),!1}else{if(t.FE.KEYCODE.ENTER!=G||!v.target||"TEXTAREA"===v.target.tagName)return t.FE.KEYCODE.ESC==G?(v.preventDefault(),v.stopPropagation(),D.accessibility.restoreSelection(),D.popups.isVisible(n)&&S.find(".fr-back:visible").length?(D.opts.toolbarInline&&(D.events.disableBlur(),D.events.focus()),D.button.exec(S.find(".fr-back:visible:first")),a(S)):D.popups.isVisible(n)&&S.find(".fr-dismiss:visible").length?D.button.exec(S.find(".fr-dismiss:visible:first")):(D.popups.hide(n),D.opts.toolbarInline&&D.toolbar.showInline(null,!0),a(S)),!1):t.FE.KEYCODE.SPACE==G&&(k.is(".fr-submit")||k.is(".fr-dismiss"))?(v.preventDefault(),v.stopPropagation(),D.events.disableBlur(),D.button.exec(k),!0):D.keys.isBrowserAction(v)||k.is("input[type=text], textarea")||t.FE.KEYCODE.SPACE==G&&(k.is(".fr-link-attr")||k.is("input[type=file]"))?void v.stopPropagation():(v.stopPropagation(),v.preventDefault(),!1);var pe=null;0<S.find(".fr-submit:visible").length?pe=S.find(".fr-submit:visible:first"):S.find(".fr-dismiss:visible").length&&(pe=S.find(".fr-dismiss:visible:first")),pe&&(v.preventDefault(),v.stopPropagation(),D.events.disableBlur(),D.button.exec(pe))}},_tiMouseenter:function(){s(S.data("instance")||e)}});l(x.find(".fr-buttons")),e.events.$on(x,"mouseenter","tabIndex",q._tiMouseenter,!0),e.events.$on(x.children().not(".fr-buttons"),"keydown","[tabIndex]",q._tiKeydown,!0),e.popups.onHide(m,function(){(x.data("instance")||e).accessibility.restoreSelection()}),e.popups.onShow(m,function(){o=!1,setTimeout(function(){o=!0},0)})},registerToolbar:l,focusToolbarElement:i,focusToolbar:y,focusContent:O,focusPopup:function(m){var n=m.children().not(".fr-buttons");n.data("mouseenter-event-set")||e.browser.msie||(e.events.$on(n,"mouseenter","[tabIndex]",function(S){var x=m.data("instance")||e;if(!o)return S.stopPropagation(),void S.preventDefault();var q=n.find(":focus:first");q.length&&!q.is("input, button, textarea, select")&&(x.events.disableBlur(),q.blur(),x.events.disableBlur(),x.events.focus())}),n.data("mouseenter-event-set",!0)),!O(n)&&e.shared.with_kb&&y(m.find(".fr-buttons"))},focusModal:function(m){e.core.hasFocus()||(e.events.disableBlur(),e.events.focus()),e.accessibility.saveSelection(),e.events.disableBlur(),e.$el.blur(),e.selection.clear(),e.events.disableBlur(),e.shared.with_kb?m.find(".fr-command[tabIndex], [tabIndex]").first().focus():m.find("[tabIndex]:first").focus()},focusEditor:c,focusPopupButton:a,focusModalButton:function(m){var n=m.data("modal-button");n&&setTimeout(function(){i(n),m.data("modal-button",null)},0)},hasFocus:function(){return null!=e.shared.$f_el},exec:function(m,n){var S=-1!=navigator.userAgent.indexOf("Mac OS X")?m.metaKey:m.ctrlKey,x=m.which,q=!1;return x!=t.FE.KEYCODE.TAB||S||m.shiftKey||m.altKey?x!=t.FE.KEYCODE.ARROW_RIGHT||S||m.shiftKey||m.altKey?x!=t.FE.KEYCODE.TAB||S||!m.shiftKey||m.altKey?x!=t.FE.KEYCODE.ARROW_LEFT||S||m.shiftKey||m.altKey?x!=t.FE.KEYCODE.ARROW_UP||S||m.shiftKey||m.altKey?x!=t.FE.KEYCODE.ARROW_DOWN||S||m.shiftKey||m.altKey?x!=t.FE.KEYCODE.ENTER&&x!=t.FE.KEYCODE.SPACE||S||m.shiftKey||m.altKey?x!=t.FE.KEYCODE.ESC||S||m.shiftKey||m.altKey?x!=t.FE.KEYCODE.F10||S||m.shiftKey||!m.altKey||(q=L()):q=function(v){if(e.shared.$f_el){var D=w();return D?(e.button.click(D),i(D)):v.parent().find(".fr-back:visible").length?(e.shared.with_kb=!1,e.opts.toolbarInline&&(e.events.disableBlur(),e.events.focus()),e.button.exec(v.parent().find(".fr-back:visible:first")),a(v.parent())):e.shared.$f_el.is("button, .fr-group span")&&(v.parent().is(".fr-popup")?(e.accessibility.restoreSelection(),e.shared.$f_el=null,!1!==e.events.trigger("toolbar.esc")&&(e.popups.hide(v.parent()),e.opts.toolbarInline&&e.toolbar.showInline(null,!0),a(v.parent()))):c()),!1}}(n):q=A():q=e.shared.$f_el&&e.shared.$f_el.is(".fr-dropdown:not(.fr-active)")?A():_(!0):q=_():q=T(n):q=T(n,!0):q=R(n):q=R(n,!0),e.shared.$f_el||void 0!==q||(q=!0),!q&&e.keys.isBrowserAction(m)&&(q=!0),!!q||(m.preventDefault(),m.stopPropagation(),!1)},saveSelection:p,restoreSelection:function(){e.$el.find(".fr-marker").length&&(e.events.disableBlur(),e.selection.restore(),e.events.enableBlur())}}},t.FE.MODULES.format=function(e){function o(T,_){var A="<"+T;for(var c in _)_.hasOwnProperty(c)&&(A+=" "+c+'="'+_[c]+'"');return A+">"}function i(T,_){var A=T;for(var c in _)_.hasOwnProperty(c)&&(A+="id"==c?"#"+_[c]:"class"==c?"."+_[c]:"["+c+'="'+_[c]+'"]');return A}function y(T,_){return!(!T||T.nodeType!=Node.ELEMENT_NODE)&&(T.matches||T.matchesSelector||T.msMatchesSelector||T.mozMatchesSelector||T.webkitMatchesSelector||T.oMatchesSelector).call(T,_)}function E(T,_,A){if(T){for(;T.nodeType===Node.COMMENT_NODE;)T=T.nextSibling;if(T){if(e.node.isBlock(T)&&"HR"!==T.tagName)return E(T.firstChild,_,A),!1;for(var c=t(o(_,A)).insertBefore(T),l=T;l&&!t(l).is(".fr-marker")&&0===t(l).find(".fr-marker").length&&"UL"!=l.tagName&&"OL"!=l.tagName;){var a=l;if(e.node.isBlock(l)&&"HR"!==T.tagName)return E(l.firstChild,_,A),!1;l=l.nextSibling,c.append(a)}if(l)(t(l).find(".fr-marker").length||"UL"==l.tagName||"OL"==l.tagName)&&E(l.firstChild,_,A);else{for(var s=c.get(0).parentNode;s&&!s.nextSibling&&!e.node.isElement(s);)s=s.parentNode;if(s){for(var u=s.nextSibling;"BR"===u.tagName;)u=u.nextSibling;u&&(e.node.isBlock(u)?E("HR"===u.tagName?u.nextSibling:u.firstChild,_,A):E(u,_,A))}}c.is(":empty")&&c.remove()}}}function O(T,_){var A;if(void 0===_&&(_={}),_.style&&delete _.style,e.selection.isCollapsed())e.markers.insert(),e.$el.find(".fr-marker").replaceWith(o(T,_)+t.FE.INVISIBLE_SPACE+t.FE.MARKERS+"</"+T+">"),e.selection.restore();else{var c;e.selection.save(),E(e.$el.find('.fr-marker[data-type="true"]').get(0).nextSibling,T,_);do{for(c=e.$el.find(i(T,_)+" > "+i(T,_)),A=0;A<c.length;A++)c[A].outerHTML=c[A].innerHTML}while(c.length);e.el.normalize();var l=e.el.querySelectorAll(".fr-marker");for(A=0;A<l.length;A++){var a=t(l[A]);!0===a.data("type")?y(a.get(0).nextSibling,i(T,_))&&a.next().prepend(a):y(a.get(0).previousSibling,i(T,_))&&a.prev().append(a)}e.selection.restore()}}function p(T,_,A,c){if(!c){var l=!1;if(!0===T.data("type"))for(;e.node.isFirstSibling(T.get(0))&&!T.parent().is(e.$el)&&!T.parent().is("ol")&&!T.parent().is("ul");)T.parent().before(T),l=!0;else if(!1===T.data("type"))for(;e.node.isLastSibling(T.get(0))&&!T.parent().is(e.$el)&&!T.parent().is("ol")&&!T.parent().is("ul");)T.parent().after(T),l=!0;if(l)return!0}if(T.parents(_).length||void 0===_){var a="",s="",u=T.parent();if(u.is(e.$el)||e.node.isBlock(u.get(0)))return!1;for(;!e.node.isBlock(u.parent().get(0))&&(void 0===_||void 0!==_&&!y(u.get(0),i(_,A)));)a+=e.node.closeTagString(u.get(0)),s=e.node.openTagString(u.get(0))+s,u=u.parent();var m=T.get(0).outerHTML;T.replaceWith('<span id="mark"></span>');var n=u.html().replace(/<span id="mark"><\/span>/,a+e.node.closeTagString(u.get(0))+s+m+a+e.node.openTagString(u.get(0))+s);return u.replaceWith(e.node.openTagString(u.get(0))+n+e.node.closeTagString(u.get(0))),!0}return!1}function L(T,_){void 0===_&&(_={}),_.style&&delete _.style;var A=e.selection.isCollapsed();e.selection.save();for(var c=!0;c;){c=!1;for(var l=e.$el.find(".fr-marker"),a=0;a<l.length;a++){var s=t(l[a]),u=null;if(s.attr("data-cloned")||A||(u=s.clone().removeClass("fr-marker").addClass("fr-clone"),!0===s.data("type")?s.attr("data-cloned",!0).after(u):s.attr("data-cloned",!0).before(u)),p(s,T,_,A)){c=!0;break}}}(function m(n,S,x,q){for(var v=e.node.contents(n.get(0)),D=0;D<v.length;D++){var G=v[D];if(e.node.hasClass(G,"fr-marker"))S=(S+1)%2;else if(S)if(0<t(G).find(".fr-marker").length)S=m(t(G),S,x,q);else{for(var k=t(G).find(x||"*:not(a):not(br)"),te=k.length-1;0<=te;te--){var J=k[te];e.node.isBlock(J)||e.node.isVoid(J)||void 0!==x&&!y(J,i(x,q))?e.node.isBlock(J)&&void 0===x&&"TABLE"!=G.tagName&&e.node.clearAttributes(J):e.node.hasClass(J,"fr-clone")||(J.outerHTML=J.innerHTML)}void 0===x&&G.nodeType==Node.ELEMENT_NODE&&!e.node.isVoid(G)||y(G,i(x,q))?e.node.isBlock(G)||t(G).replaceWith(G.innerHTML):void 0===x&&G.nodeType==Node.ELEMENT_NODE&&e.node.isBlock(G)&&"TABLE"!=G.tagName&&e.node.clearAttributes(G)}else 0<t(G).find(".fr-marker").length&&(S=m(t(G),S,x,q))}return S})(e.$el,0,T,_),A||(e.$el.find(".fr-marker").remove(),e.$el.find(".fr-clone").removeClass("fr-clone").addClass("fr-marker")),A&&e.$el.find(".fr-marker").before(t.FE.INVISIBLE_SPACE).after(t.FE.INVISIBLE_SPACE),e.html.cleanEmptyTags(),e.el.normalize(),e.selection.restore()}function w(T,_){var A,c,a,s,u=null;if(e.selection.isCollapsed()){e.markers.insert();var m=(c=e.$el.find(".fr-marker")).parent();if(e.node.openTagString(m.get(0))=='<span style="'+T+": "+m.css(T)+';">'){if(e.node.isEmpty(m.get(0)))u=t('<span style="'+T+": "+_+';">'+t.FE.INVISIBLE_SPACE+t.FE.MARKERS+"</span>"),m.replaceWith(u);else{var n={};n["style*"]=T+":",p(c,"span",n,!0),c=e.$el.find(".fr-marker"),_?(u=t('<span style="'+T+": "+_+';">'+t.FE.INVISIBLE_SPACE+t.FE.MARKERS+"</span>"),c.replaceWith(u)):c.replaceWith(t.FE.INVISIBLE_SPACE+t.FE.MARKERS)}e.html.cleanEmptyTags()}else e.node.isEmpty(m.get(0))&&m.is("span")?(c.replaceWith(t.FE.MARKERS),m.css(T,_)):(u=t('<span style="'+T+": "+_+';">'+t.FE.INVISIBLE_SPACE+t.FE.MARKERS+"</span>"),c.replaceWith(u));u&&f(u,T,_)}else{if(e.selection.save(),null==_||"color"==T&&0<e.$el.find(".fr-marker").parents("u, a").length){var S=e.$el.find(".fr-marker");for(A=0;A<S.length;A++)if(!0===(c=t(S[A])).data("type"))for(;e.node.isFirstSibling(c.get(0))&&!c.parent().is(e.$el)&&!e.node.isElement(c.parent().get(0))&&!e.node.isBlock(c.parent().get(0));)c.parent().before(c);else for(;e.node.isLastSibling(c.get(0))&&!c.parent().is(e.$el)&&!e.node.isElement(c.parent().get(0))&&!e.node.isBlock(c.parent().get(0));)c.parent().after(c)}for(var x=e.$el.find('.fr-marker[data-type="true"]').get(0).nextSibling;x.firstChild;)x=x.firstChild;var q={class:"fr-unprocessed"};for(_&&(q.style=T+": "+_+";"),E(x,"span",q),e.$el.find(".fr-marker + .fr-unprocessed").each(function(){t(this).prepend(t(this).prev())}),e.$el.find(".fr-unprocessed + .fr-marker").each(function(){t(this).prev().append(this)}),(_||"").match(/\dem$/)&&e.$el.find("span.fr-unprocessed").removeClass("fr-unprocessed");0<e.$el.find("span.fr-unprocessed").length;){if((u=e.$el.find("span.fr-unprocessed:first").removeClass("fr-unprocessed")).parent().get(0).normalize(),u.parent().is("span")&&1==u.parent().get(0).childNodes.length){u.parent().css(T,_);var v=u;u=u.parent(),v.replaceWith(v.html())}var D=u.find("span");for(A=D.length-1;0<=A;A--)a=T,s=void 0,(s=t(D[A])).css(a,""),""===s.attr("style")&&s.replaceWith(s.html());f(u,T,_)}}!function(){for(var G;0<e.$el.find(".fr-split:empty").length;)e.$el.find(".fr-split:empty").remove();e.$el.find(".fr-split").removeClass("fr-split"),e.$el.find('[style=""]').removeAttr("style"),e.$el.find('[class=""]').removeAttr("class"),e.html.cleanEmptyTags(),t(e.$el.find("span").get().reverse()).each(function(){this.attributes&&0!==this.attributes.length||t(this).replaceWith(this.innerHTML)}),e.el.normalize();var k=e.$el.find("span[style] + span[style]");for(G=0;G<k.length;G++){var te=t(k[G]),J=t(k[G]).prev();te.get(0).previousSibling==J.get(0)&&e.node.openTagString(te.get(0))==e.node.openTagString(J.get(0))&&(te.prepend(J.html()),J.remove())}e.$el.find("span[style] span[style]").each(function(){if(0<=t(this).attr("style").indexOf("font-size")){var Ee=t(this).parents("span[style]");0<=Ee.attr("style").indexOf("background-color")&&(t(this).attr("style",t(this).attr("style")+";"+Ee.attr("style")),p(t(this),"span[style]",{},!1))}}),e.el.normalize(),e.selection.restore()}()}function f(T,_,A){var c,l,a,s=T.parentsUntil(e.$el,"span[style]"),u=[];for(c=s.length-1;0<=c;c--)a=_,0===t(l=s[c]).attr("style").indexOf(a+":")||0<=t(l).attr("style").indexOf(";"+a+":")||0<=t(l).attr("style").indexOf("; "+a+":")||u.push(s[c]);if((s=s.not(u)).length){for(var m="",n="",S="",x="",q=T.get(0);t(q=q.parentNode).addClass("fr-split"),m+=e.node.closeTagString(q),n=e.node.openTagString(t(q).clone().addClass("fr-split").get(0))+n,s.get(0)!=q&&(S+=e.node.closeTagString(q),x=e.node.openTagString(t(q).clone().addClass("fr-split").get(0))+x),s.get(0)!=q;);var v=m+e.node.openTagString(t(s.get(0)).clone().css(_,A||"").get(0))+x+T.css(_,"").get(0).outerHTML+S+"</span>"+n;T.replaceWith('<span id="fr-break"></span>');var D=s.get(0).outerHTML;t(s.get(0)).replaceWith(D.replace(/<span id="fr-break"><\/span>/g,v))}}function R(T,_){void 0===_&&(_={}),_.style&&delete _.style;var A=e.selection.ranges(0),c=A.startContainer;if(c.nodeType==Node.ELEMENT_NODE&&0<c.childNodes.length&&c.childNodes[A.startOffset]&&(c=c.childNodes[A.startOffset]),!A.collapsed&&c.nodeType==Node.TEXT_NODE&&A.startOffset==(c.textContent||"").length){for(;!e.node.isBlock(c.parentNode)&&!c.nextSibling;)c=c.parentNode;c.nextSibling&&(c=c.nextSibling)}for(var l=c;l&&l.nodeType==Node.ELEMENT_NODE&&!y(l,i(T,_));)l=l.firstChild;if(l&&l.nodeType==Node.ELEMENT_NODE&&y(l,i(T,_)))return!0;var a=c;for(a&&a.nodeType!=Node.ELEMENT_NODE&&(a=a.parentNode);a&&a.nodeType==Node.ELEMENT_NODE&&a!=e.el&&!y(a,i(T,_));)a=a.parentNode;return!(!a||a.nodeType!=Node.ELEMENT_NODE||a==e.el||!y(a,i(T,_)))}return{is:R,toggle:function(T,_){R(T,_)?L(T,_):O(T,_)},apply:O,remove:L,applyStyle:w,removeStyle:function(T){w(T,null)}}},t.extend(t.FE.DEFAULTS,{indentMargin:20}),t.FE.COMMANDS={bold:{title:"Bold",toggle:!0,refresh:function(e){var o=this.format.is("strong");e.toggleClass("fr-active",o).attr("aria-pressed",o)}},italic:{title:"Italic",toggle:!0,refresh:function(e){var o=this.format.is("em");e.toggleClass("fr-active",o).attr("aria-pressed",o)}},underline:{title:"Underline",toggle:!0,refresh:function(e){var o=this.format.is("u");e.toggleClass("fr-active",o).attr("aria-pressed",o)}},strikeThrough:{title:"Strikethrough",toggle:!0,refresh:function(e){var o=this.format.is("s");e.toggleClass("fr-active",o).attr("aria-pressed",o)}},subscript:{title:"Subscript",toggle:!0,refresh:function(e){var o=this.format.is("sub");e.toggleClass("fr-active",o).attr("aria-pressed",o)}},superscript:{title:"Superscript",toggle:!0,refresh:function(e){var o=this.format.is("sup");e.toggleClass("fr-active",o).attr("aria-pressed",o)}},outdent:{title:"Decrease Indent"},indent:{title:"Increase Indent"},undo:{title:"Undo",undo:!1,forcedRefresh:!0,disabled:!0},redo:{title:"Redo",undo:!1,forcedRefresh:!0,disabled:!0},insertHR:{title:"Insert Horizontal Line"},clearFormatting:{title:"Clear Formatting"},selectAll:{title:"Select All",undo:!1}},t.FE.RegisterCommand=function(e,o){t.FE.COMMANDS[e]=o},t.FE.MODULES.commands=function(e){function o(f){return e.html.defaultTag()&&(f="<"+e.html.defaultTag()+">"+f+"</"+e.html.defaultTag()+">"),f}var i={bold:function(){E(0,"strong")},subscript:function(){e.format.is("sup")&&e.format.remove("sup"),E(0,"sub")},superscript:function(){e.format.is("sub")&&e.format.remove("sub"),E(0,"sup")},italic:function(){E(0,"em")},strikeThrough:function(){E(0,"s")},underline:function(){E(0,"u")},undo:function(){e.undo.run()},redo:function(){e.undo.redo()},indent:function(){O(1)},outdent:function(){O(-1)},show:function(){e.opts.toolbarInline&&e.toolbar.showInline(null,!0)},insertHR:function(){e.selection.remove();var f="";e.core.isEmpty()&&(f=o(f="<br>")),e.html.insert('<hr id="fr-just">'+f);var R,T=e.$el.find("hr#fr-just");if(T.removeAttr("id"),0===T.next().length){var _=e.html.defaultTag();T.after(_?t("<"+_+">").append("<br>"):"<br>")}T.prev().is("hr")?R=e.selection.setAfter(T.get(0),!1):T.next().is("hr")?R=e.selection.setBefore(T.get(0),!1):e.selection.setAfter(T.get(0),!1)||e.selection.setBefore(T.get(0),!1),R||void 0===R||(f=o(f=t.FE.MARKERS+"<br>"),T.after(f)),e.selection.restore()},clearFormatting:function(){e.format.remove()},selectAll:function(){e.doc.execCommand("selectAll",!1,!1)}};function y(f,R){if(!1!==e.events.trigger("commands.before",t.merge([f],R||[]))){var T=t.FE.COMMANDS[f]&&t.FE.COMMANDS[f].callback||i[f],_=!0,A=!1;t.FE.COMMANDS[f]&&(typeof t.FE.COMMANDS[f].focus<"u"&&(_=t.FE.COMMANDS[f].focus),typeof t.FE.COMMANDS[f].accessibilityFocus<"u"&&(A=t.FE.COMMANDS[f].accessibilityFocus)),(!e.core.hasFocus()&&_&&!e.popups.areVisible()||!e.core.hasFocus()&&A&&e.accessibility.hasFocus())&&e.events.focus(!0),t.FE.COMMANDS[f]&&!1!==t.FE.COMMANDS[f].undo&&(e.$el.find(".fr-marker").length&&(e.events.disableBlur(),e.selection.restore()),e.undo.saveStep()),T&&T.apply(e,t.merge([f],R||[])),e.events.trigger("commands.after",t.merge([f],R||[])),t.FE.COMMANDS[f]&&!1!==t.FE.COMMANDS[f].undo&&e.undo.saveStep()}}function E(f,R){e.format.toggle(R)}function O(f){e.selection.save(),e.html.wrap(!0,!0,!0,!0),e.selection.restore();for(var R=e.selection.blocks(),T=0;T<R.length;T++)if("LI"!=R[T].tagName&&"LI"!=R[T].parentNode.tagName){var _=t(R[T]),A="rtl"==e.opts.direction||"rtl"==_.css("direction")?"margin-right":"margin-left",c=e.helpers.getPX(_.css(A));if(_.width()<2*e.opts.indentMargin&&0<f)continue;_.css(A,Math.max(c+f*e.opts.indentMargin,0)||""),_.removeClass("fr-temp-div")}e.selection.save(),e.html.unwrap(),e.selection.restore()}function p(f){return function(){y(f)}}var L={};for(var w in i)i.hasOwnProperty(w)&&(L[w]=p(w));return t.extend(L,{exec:y,_init:function(){e.events.on("keydown",function(f){var R=e.selection.element();if(R&&"HR"==R.tagName&&!e.keys.isArrow(f.which))return f.preventDefault(),!1}),e.events.on("keyup",function(f){var R=e.selection.element();if(R&&"HR"==R.tagName)if(f.which==t.FE.KEYCODE.ARROW_LEFT||f.which==t.FE.KEYCODE.ARROW_UP){if(R.previousSibling)return e.node.isBlock(R.previousSibling)?e.selection.setAtEnd(R.previousSibling):t(R).before(t.FE.MARKERS),e.selection.restore(),!1}else if((f.which==t.FE.KEYCODE.ARROW_RIGHT||f.which==t.FE.KEYCODE.ARROW_DOWN)&&R.nextSibling)return e.node.isBlock(R.nextSibling)?e.selection.setAtStart(R.nextSibling):t(R).after(t.FE.MARKERS),e.selection.restore(),!1}),e.events.on("mousedown",function(f){if(f.target&&"HR"==f.target.tagName)return f.preventDefault(),f.stopPropagation(),!1}),e.events.on("mouseup",function(){var f=e.selection.element();f==e.selection.endElement()&&f&&"HR"==f.tagName&&(f.nextSibling&&(e.node.isBlock(f.nextSibling)?e.selection.setAtStart(f.nextSibling):t(f).after(t.FE.MARKERS)),e.selection.restore())})}})},t.FE.MODULES.data=function(e){var E,O,o="NCKB1zwtPA9tqzajXC2c2A7B-16VD3spzJ1C9C3D5oOF2OB1NB1LD7VA5QF4TE3gytXB2A4C-8VA2AC4E1D3GB2EB2KC3KD1MF1juuSB1A8C6yfbmd1B2a1A5qdsdB2tivbC3CB1KC1CH1eLA2sTF1B4I4H-7B-21UB6b1F5bzzzyAB4JC3MG2hjdKC1JE6C1E1cj1pD-16pUE5B4prra2B5ZB3D3C3pxj1EA6A3rnJA2C-7I-7JD9D1E1wYH1F3sTB5TA2G4H4ZA22qZA5BB3mjcvcCC3JB1xillavC-21VE6PC5SI4YC5C8mb1A3WC3BD2B5aoDA2qqAE3A5D-17fOD1D5RD4WC10tE6OAZC3nF-7b1C4A4D3qCF2fgmapcromlHA2QA6a1E1D3e1A6C2bie2F4iddnIA7B2mvnwcIB5OA1DB2OLQA3PB10WC7WC5d1E3uI-7b1D5D6b1E4D2arlAA4EA1F-11srxI-7MB1D7PF1E5B4adB-21YD5vrZH3D3xAC4E1A2GF2CF2J-7yNC2JE1MI2hH-7QB1C6B5B-9bA-7XB13a1B5VievwpKB4LA3NF-10H-9I-8hhaC-16nqPG4wsleTD5zqYF3h1G2B7B4yvGE2Pi1H-7C-21OE6B1uLD1kI4WC1E7C5g1D-8fue1C8C6c1D4D3Hpi1CC4kvGC2E1legallyXB4axVA11rsA4A-9nkdtlmzBA2GD3A13A6CB1dabE1lezrUE6RD5TB4A-7f1C8c1B5d1D4D3tyfCD5C2D2==",i=function(){for(var c=0,l=document.domain,a=l.split("."),s="_gd"+(new Date).getTime();c<a.length-1&&-1==document.cookie.indexOf(s+"="+s);)l=a.slice(-1-++c).join("."),document.cookie=s+"="+s+";domain="+l+";";return document.cookie=s+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+l+";",(l||"").replace(/(^\.*)|(\.*$)/g,"")}(),p=function(c){if(!c)return c;for(var l="",u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".indexOf(c[0]),m=1;m<c.length-2;m++){for(var n=L(++u),S=c.charCodeAt(m),x="";/[0-9-]/.test(c[m+1]);)x+=c[++m];S=w(S,n,x=parseInt(x,10)||0),S^=u-1&31,l+=String.fromCharCode(S)}return l};function L(c){for(var l=c.toString(),a=0,s=0;s<l.length;s++)a+=parseInt(l.charAt(s),10);return 10<a?a%9+1:a}function w(c,l,a){for(var s=Math.abs(a);0<s--;)c-=l;return a<0&&(c+=123),c}function f(c){return!(!c||"block"===c.css("display")||(c.remove(),0))}function R(c){return c&&0===e.$box.find(c).length}var T=0;function _(){if(10<T&&(e[p("0ppecjvc==")](),setTimeout(function(){t.FE=null},10)),!e.$box)return!1;e.$wp.prepend(p(p(o))),E=e.$wp.find("> div:first"),O=E.find("> a"),"rtl"==e.opts.direction&&E.css("left","auto").css("right",0).attr("direction","rtl"),T++}function A(c){for(var l=[p("9qqG-7amjlwq=="),p("KA3B3C2A6D1D5H5H1A3=="),p("3B9B3B5F3C4G3E3=="),p("QzbzvxyB2yA-9m=="),p("ji1kacwmgG5bc=="),p("nmA-13aogi1A3c1jd=="),p("BA9ggq=="),p("emznbjbH3fij=="),p("tkC-22d1qC-13sD1wzF-7==")],a=0;a<l.length;a++)if(String.prototype.endsWith||(String.prototype.endsWith=function(s,u){return(void 0===u||u>this.length)&&(u=this.length),this.substring(u-s.length,u)===s}),c.endsWith(l[a]))return!0;return!1}return{_init:function(){var c=e.o_win.FEK;try{c=c||localStorage&&localStorage.FEK}catch{}c=e.opts.key||c||[""];var l=p("ziRA1E3B9pA5B-11D-11xg1A3ZB5D1D4B-11ED2EG2pdeoC1clIH4wB-22yQD5uF4YE3E3A9==");"string"==typeof c&&(c=[c]);for(var a,s,u,m=!(e.ul=!0),n=0,S=0;S<c.length;S++){var x=3===(u=(p(s=c[S])||"").split("|")).length?u:[null,null,p(s)||""],q=x[2];if(q===p(p("mcVRDoB1BGILD7YFe1BTXBA7B6=="))||0<=q.indexOf(i,q.length-i.length)||A(i)){if(!((null===(a=x[1])||new Date(a)<new Date(p("uB2C1D7B5E1E5E4A1E3C11==")))&&0<(i||"").length)||A(i)){e.ul=!1;break}m=!0,o="RCZB17botVG4A-8yzia1C4A5DG3CD2cFB4qflmCE4I2FB1SC7F6PE4WE3RD6e2A4c1D3d1E2E3ehxdGE3CE2IB2LC1HG2LE1QA3QC7B-13cC-9epmkjc1B4e1C4pgjgvkOC5E1eNE1HB2LD2B-13WD5tvabUA5a1A4f1A2G3C2A-21cihKE3FE2DB2cccJE1iC-7G-7tD-17tVD6A-9qC-7QC7a1E4B4je1E3E2G2ecmsAA1xH-8HB11C1D1lgzQA3dTB8od1D4XE3ohb1B4E4D3mbLA10NA7C-21d1genodKC11PD9PE5tA-8UI3ZC5XB5B-11qXF2F-7wtwjAG3NA1IB1OD1HC1RD4QJ4evUF2D5XG2G4XA8pqocH1F3G2J2hcpHC4D1MD4C1MB8PD5klcQD1A8A6e2A3ed1E2A24A7HC5C3qA-9tiA-61dcC3MD1LE1D4SA3A9ZZXSE4g1C3Pa2C5ufbcGI3I2B4skLF2CA1vxB-22wgUC4kdH-8cVB5iwe1A2D3H3G-7DD5JC2ED2OH2JB10D3C2xHE1KA29PB11wdC-11C4cixb2C7a1C4YYE3B2A15uB-21wpCA1MF1NuC-21dyzD6pPG4I-7pmjc1A4yte1F3B-22yvCC3VbC-7qC-22qNE2hC1vH-8zad1RF6WF3DpI-7C8A-16hpf1F3D2ylalB-13BB2lpA-63IB3uOF6D5G4gabC-21UD2A3PH4ZA20B11b2C6ED4A2H3I1A15DB4KD2laC-8LA5B8B7==",n=x[0]||-1}}var v=new Image;!0===e.ul&&(_(),v.src=m?p(l)+"e="+n:p(l)+"u"),!0===e.ul&&e.events.on("contentChanged",function(){(f(E)||f(O)||R(E)||R(O))&&_()}),e.events.on("destroy",function(){E&&E.length&&E.remove()},!0)}}},t.extend(t.FE.DEFAULTS,{pastePlain:!1,pasteDeniedTags:["colgroup","col","meta"],pasteDeniedAttrs:["class","id","style"],pasteAllowedStyleProps:[".*"],pasteAllowLocalImages:!1}),t.FE.MODULES.paste=function(e){var o,i,y,E;function O(a,s){try{e.win.localStorage.setItem("fr-copied-html",a),e.win.localStorage.setItem("fr-copied-text",s)}catch{}}function p(a){var s=e.html.getSelected();O(s,t("<div>").html(s).text()),"cut"==a.type&&(e.undo.saveStep(),setTimeout(function(){e.selection.save(),e.html.wrap(),e.selection.restore(),e.events.focus(),e.undo.saveStep()},0))}var L=!1;function w(a){if(L)return!1;if(a.originalEvent&&(a=a.originalEvent),!1===e.events.trigger("paste.before",[a]))return a.preventDefault(),!1;if(e.$win.scrollTop(),a&&a.clipboardData&&a.clipboardData.getData){var s="",u=a.clipboardData.types;if(e.helpers.isArray(u))for(var m=0;m<u.length;m++)s+=u[m]+";";else s=u;if(o="",/text\/rtf/.test(s)&&(i=a.clipboardData.getData("text/rtf")),/text\/html/.test(s)&&!e.browser.safari?o=a.clipboardData.getData("text/html"):/text\/rtf/.test(s)&&e.browser.safari?o=i:/public.rtf/.test(s)&&e.browser.safari&&(o=a.clipboardData.getData("text/rtf")),""!==o)return R(),a.preventDefault&&(a.stopPropagation(),a.preventDefault()),!1;o=null}return e.selection.save(),e.events.disableBlur(),o=null,y?(y.html(""),e.browser.edge&&e.opts.iframe&&e.$el.append(y)):(y=t('<div contenteditable="true" style="position: fixed; top: 0; left: -9999px; height: 100%; width: 0; word-break: break-all; overflow:hidden; z-index: 2147483647; line-height: 140%; -moz-user-select: text; -webkit-user-select: text; -ms-user-select: text; user-select: text;" tabIndex="-1"></div>'),e.browser.webkit?(y.css("top",e.$sc.scrollTop()),e.$el.after(y)):e.browser.edge&&e.opts.iframe?e.$el.append(y):e.$box.after(y),e.events.on("destroy",function(){y.remove()})),e.helpers.isIOS()||y.focus(),e.win.setTimeout(R,1),!1}function f(a){if(a.originalEvent&&(a=a.originalEvent),a&&a.dataTransfer&&a.dataTransfer.getData){var s="",u=a.dataTransfer.types;if(e.helpers.isArray(u))for(var m=0;m<u.length;m++)s+=u[m]+";";else s=u;if(o="",/text\/rtf/.test(s)&&(i=a.dataTransfer.getData("text/rtf")),/text\/html/.test(s)?o=a.dataTransfer.getData("text/html"):/text\/rtf/.test(s)&&e.browser.safari?o=i:/text\/plain/.test(s)&&!this.browser.mozilla&&(o=e.html.escapeEntities(a.dataTransfer.getData("text/plain")).replace(/\n/g,"<br>")),""!==o){e.keys.forceUndo(),E=e.snapshot.get(),e.selection.save(),e.$el.find(".fr-marker").removeClass("fr-marker").addClass("fr-marker-helper");var n=e.markers.insertAtPoint(a);if(e.$el.find(".fr-marker").removeClass("fr-marker").addClass("fr-marker-placeholder"),e.$el.find(".fr-marker-helper").addClass("fr-marker").removeClass("fr-marker-helper"),e.selection.restore(),e.selection.remove(),e.$el.find(".fr-marker-placeholder").addClass("fr-marker").removeClass("fr-marker-placeholder"),!1!==n){var S=e.el.querySelector(".fr-marker");return t(S).replaceWith(t.FE.MARKERS),e.selection.restore(),R(),a.preventDefault&&(a.stopPropagation(),a.preventDefault()),!1}}else o=null}}function R(){e.browser.edge&&e.opts.iframe&&e.$box.after(y),E||(e.keys.forceUndo(),E=e.snapshot.get()),o||(o=y.get(0).innerHTML,e.selection.restore(),e.events.enableBlur());var a=o.match(/(class=\"?Mso|class=\'?Mso|class="?Xl|class='?Xl|class=Xl|style=\"[^\"]*\bmso\-|style=\'[^\']*\bmso\-|w:WordDocument)/gi),s=e.events.chainTrigger("paste.beforeCleanup",o);s&&"string"==typeof s&&(o=s),(!a||a&&!1!==e.events.trigger("paste.wordPaste",[o]))&&_(o,a)}function T(a){for(var s="",u=0;u++<a;)s+="&nbsp;";return s}function _(a,s,u){var m,n=null,S=null;if(0<=a.toLowerCase().indexOf("<body")){var x="";0<=a.indexOf("<style")&&(x=a.replace(/[.\s\S\w\W<>]*(<style[^>]*>[\s]*[.\s\S\w\W<>]*[\s]*<\/style>)[.\s\S\w\W<>]*/gi,"$1")),a=(a=x+a.replace(/[.\s\S\w\W<>]*<body[^>]*>[\s]*([.\s\S\w\W<>]*)[\s]*<\/body>[.\s\S\w\W<>]*/gi,"$1")).replace(/ \n/g," ").replace(/\n /g," ").replace(/([^>])\n([^<])/g,"$1 $2")}var q=!1;0<=a.indexOf('id="docs-internal-guid')&&(a=a.replace(/^[\w\W\s\S]* id="docs-internal-guid[^>]*>([\w\W\s\S]*)<\/b>[\w\W\s\S]*$/g,"$1"),q=!0),0<=a.indexOf('content="Sheets"')&&(a=a.replace(/width:0px;/g,""));var v=!1;if(!s&&((v=function(Oe){var de=null;try{de=e.win.localStorage.getItem("fr-copied-text")}catch{}return!(!de||t("<div>").html(Oe).text().replace(/\u00A0/gi," ").replace(/\r|\n/gi,"")!=de.replace(/\u00A0/gi," ").replace(/\r|\n/gi,""))}(a))&&(a=e.win.localStorage.getItem("fr-copied-html")),!v)){var D=e.opts.htmlAllowedStyleProps;e.opts.htmlAllowedStyleProps=e.opts.pasteAllowedStyleProps,e.opts.htmlAllowComments=!1,a=(a=(a=a.replace(/<span class="Apple-tab-span">\s*<\/span>/g,T(e.opts.tabSpaces||4))).replace(/<span class="Apple-tab-span" style="white-space:pre">(\t*)<\/span>/g,function(Oe,de){return T(de.length*(e.opts.tabSpaces||4))})).replace(/\t/g,T(e.opts.tabSpaces||4)),a=e.clean.html(a,e.opts.pasteDeniedTags,e.opts.pasteDeniedAttrs),e.opts.htmlAllowedStyleProps=D,e.opts.htmlAllowComments=!0,a=(a=(a=c(a)).replace(/\r/g,"")).replace(/^ */g,"").replace(/ *$/g,"")}!s||e.wordPaste&&u||(0===(a=a.replace(/^\n*/g,"").replace(/^ /g,"")).indexOf("<colgroup>")&&(a="<table>"+a+"</table>"),a=c(a=function(Oe){var de;Oe=(Oe=(Oe=(Oe=(Oe=(Oe=(Oe=(Oe=(Oe=(Oe=(Oe=(Oe=(Oe=(Oe=(Oe=Oe.replace(/<p(.*?)class="?'?MsoListParagraph"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li>$3</li></ul>")).replace(/<p(.*?)class="?'?NumberedText"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li>$3</li></ol>")).replace(/<p(.*?)class="?'?MsoListParagraphCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li$3>$5</li>")).replace(/<p(.*?)class="?'?NumberedTextCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li$3>$5</li>")).replace(/<p(.*?)class="?'?MsoListParagraphCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>")).replace(/<p(.*?)class="?'?NumberedTextCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>")).replace(/<p(.*?)class="?'?MsoListBullet"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>")).replace(/<p(.*?)class="?'?MsoListParagraphCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ul>")).replace(/<p(.*?)class="?'?NumberedTextCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ol>")).replace(/<span([^<]*?)style="?'?mso-list:Ignore"?'?([\s\S]*?)>([\s\S]*?)<span/gi,"<span><span")).replace(/<!--\[if \!supportLists\]-->([\s\S]*?)<!--\[endif\]-->/gi,"")).replace(/<!\[if \!supportLists\]>([\s\S]*?)<!\[endif\]>/gi,"")).replace(/(\n|\r| class=(")?Mso[a-zA-Z0-9]+(")?)/gi," ")).replace(/<!--[\s\S]*?-->/gi,"")).replace(/<(\/)*(meta|link|span|\\?xml:|st1:|o:|font)(.*?)>/gi,"");var $e,le=["style","script","applet","embed","noframes","noscript"];for(de=0;de<le.length;de++){var He=new RegExp("<"+le[de]+".*?"+le[de]+"(.*?)>","gi");Oe=Oe.replace(He,"")}for(Oe=(Oe=(Oe=Oe.replace(/&nbsp;/gi," ")).replace(/<td([^>]*)><\/td>/g,"<td$1><br></td>")).replace(/<th([^>]*)><\/th>/g,"<th$1><br></th>");(Oe=($e=Oe).replace(/<[^\/>][^>]*><\/[^>]+>/gi,""))!=$e;);Oe=(Oe=Oe.replace(/<lilevel([^1])([^>]*)>/gi,'<li data-indent="true"$2>')).replace(/<lilevel1([^>]*)>/gi,"<li$1>"),Oe=(Oe=(Oe=e.clean.html(Oe,e.opts.pasteDeniedTags,e.opts.pasteDeniedAttrs)).replace(/<a>(.[^<]+)<\/a>/gi,"$1")).replace(/<br> */g,"<br>");var ce=e.o_doc.createElement("div");ce.innerHTML=Oe;var Be=ce.querySelectorAll("li[data-indent]");for(de=0;de<Be.length;de++){var je=Be[de],ae=je.previousElementSibling;if(ae&&"LI"==ae.tagName){var Se=ae.querySelector(":scope > ul, :scope > ol");Se||(Se=document.createElement("ul"),ae.appendChild(Se)),Se.appendChild(je)}else je.removeAttribute("data-indent")}return e.html.cleanBlankSpaces(ce),ce.innerHTML}(a))),e.opts.pastePlain&&!v&&(a=function(Oe){var de,$e=null,le=e.doc.createElement("div");le.innerHTML=Oe;var He=le.querySelectorAll("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote");for(de=0;de<He.length;de++)($e=He[de]).outerHTML="<"+(e.html.defaultTag()||"DIV")+">"+$e.innerHTML+"</"+(e.html.defaultTag()||"DIV")+">";for(de=(He=le.querySelectorAll("*:not("+"p, div, h1, h2, h3, h4, h5, h6, pre, blockquote, ul, ol, li, table, tbody, thead, tr, td, br, img".split(",").join("):not(")+")")).length-1;0<=de;de--)($e=He[de]).outerHTML=$e.innerHTML;var ce=function(Be){for(var je=e.node.contents(Be),ae=0;ae<je.length;ae++)je[ae].nodeType!=Node.TEXT_NODE&&je[ae].nodeType!=Node.ELEMENT_NODE?je[ae].parentNode.removeChild(je[ae]):ce(je[ae])};return ce(le),le.innerHTML}(a));var G=e.events.chainTrigger("paste.afterCleanup",a);if("string"==typeof G&&(a=G),""!==a){var k=e.o_doc.createElement("div");0<=(k.innerHTML=a).indexOf("<body>")?(e.html.cleanBlankSpaces(k),e.spaces.normalize(k,!0)):e.spaces.normalize(k);var te=k.getElementsByTagName("span");for(m=te.length-1;0<=m;m--){var J=te[m];0===J.attributes.length&&(J.outerHTML=J.innerHTML)}var Ee=e.selection.element(),ye=!1;if(Ee&&t(Ee).parentsUntil(e.el,"ul, ol").length&&(ye=!0),ye){var pe=k.children;1==pe.length&&0<=["OL","UL"].indexOf(pe[0].tagName)&&(pe[0].outerHTML=pe[0].innerHTML)}if(!q){var Re=k.getElementsByTagName("br");for(m=Re.length-1;0<=m;m--){var qe=Re[m];e.node.isBlock(qe.previousSibling)&&qe.parentNode.removeChild(qe)}}if(e.opts.enter==t.FE.ENTER_BR)for(m=(n=k.querySelectorAll("p, div")).length-1;0<=m;m--)0===(S=n[m]).attributes.length&&(S.outerHTML=S.innerHTML+(S.nextSibling&&!e.node.isEmpty(S)?"<br>":""));else if(e.opts.enter==t.FE.ENTER_DIV)for(m=(n=k.getElementsByTagName("p")).length-1;0<=m;m--)0===(S=n[m]).attributes.length&&(S.outerHTML="<div>"+S.innerHTML+"</div>");else e.opts.enter==t.FE.ENTER_P&&1==k.childNodes.length&&"P"==k.childNodes[0].tagName&&0===k.childNodes[0].attributes.length&&(k.childNodes[0].outerHTML=k.childNodes[0].innerHTML);a=k.innerHTML,v&&(a=function(Oe){var de,$e=e.o_doc.createElement("div");$e.innerHTML=Oe;for(var le=$e.querySelectorAll("*:empty:not(td):not(th):not(tr):not(iframe):not(svg):not("+t.FE.VOID_ELEMENTS.join("):not(")+"):not("+e.opts.htmlAllowedEmptyTags.join("):not(")+")");le.length;){for(de=0;de<le.length;de++)le[de].parentNode.removeChild(le[de]);le=$e.querySelectorAll("*:empty:not(td):not(th):not(tr):not(iframe):not(svg):not("+t.FE.VOID_ELEMENTS.join("):not(")+"):not("+e.opts.htmlAllowedEmptyTags.join("):not(")+")")}return $e.innerHTML}(a)),e.html.insert(a,!0)}e.events.trigger("paste.after"),e.undo.saveStep(E),E=null,e.undo.saveStep()}function A(a){for(var s=a.length-1;0<=s;s--)a[s].attributes&&a[s].attributes.length&&a.splice(s,1);return a}function c(a){var s,u=e.o_doc.createElement("div");u.innerHTML=a;for(var m=A(Array.prototype.slice.call(u.querySelectorAll(":scope > div:not([style]), td > div:not([style]), th > div:not([style]), li > div:not([style])")));m.length;){var n=m[m.length-1];if(e.html.defaultTag()&&"div"!=e.html.defaultTag())n.outerHTML=n.querySelector(e.html.blockTagsQuery())?n.innerHTML:"<"+e.html.defaultTag()+">"+n.innerHTML+"</"+e.html.defaultTag()+">";else{var S=n.querySelectorAll("*");n.outerHTML=!S.length||"BR"!==S[S.length-1].tagName&&0===n.innerText.length||n.nextSibling?n.innerHTML+"<br>":n.innerHTML}m=A(Array.prototype.slice.call(u.querySelectorAll(":scope > div:not([style]), td > div:not([style]), th > div:not([style]), li > div:not([style])")))}for(m=A(Array.prototype.slice.call(u.querySelectorAll("div:not([style])")));m.length;){for(s=0;s<m.length;s++){var x=m[s],q=x.innerHTML.replace(/\u0009/gi,"").trim();try{x.outerHTML=q}catch{}}m=A(Array.prototype.slice.call(u.querySelectorAll("div:not([style])")))}return u.innerHTML}function l(){e.el.removeEventListener("copy",p),e.el.removeEventListener("cut",p),e.el.removeEventListener("paste",w)}return{_init:function(){e.el.addEventListener("copy",p),e.el.addEventListener("cut",p),e.el.addEventListener("paste",w,{capture:!0}),e.events.on("drop",f),e.browser.msie&&e.browser.version<11&&(e.events.on("mouseup",function(a){2==a.button&&(setTimeout(function(){L=!1},50),L=!0)},!0),e.events.on("beforepaste",w)),e.events.on("destroy",l)},cleanEmptyTagsAndDivs:c,getRtfClipboard:function(){return i},saveCopiedText:O,clean:_}},t.extend(t.FE.DEFAULTS,{shortcutsEnabled:[],shortcutsHint:!0}),t.FE.SHORTCUTS_MAP={},t.FE.RegisterShortcut=function(e,o,i,y,E,O){t.FE.SHORTCUTS_MAP[(E?"^":"")+(O?"@":"")+e]={cmd:o,val:i,letter:y,shift:E,option:O},t.FE.DEFAULTS.shortcutsEnabled.push(o)},t.FE.RegisterShortcut(t.FE.KEYCODE.E,"show",null,"E",!1,!1),t.FE.RegisterShortcut(t.FE.KEYCODE.B,"bold",null,"B",!1,!1),t.FE.RegisterShortcut(t.FE.KEYCODE.I,"italic",null,"I",!1,!1),t.FE.RegisterShortcut(t.FE.KEYCODE.U,"underline",null,"U",!1,!1),t.FE.RegisterShortcut(t.FE.KEYCODE.S,"strikeThrough",null,"S",!1,!1),t.FE.RegisterShortcut(t.FE.KEYCODE.CLOSE_SQUARE_BRACKET,"indent",null,"]",!1,!1),t.FE.RegisterShortcut(t.FE.KEYCODE.OPEN_SQUARE_BRACKET,"outdent",null,"[",!1,!1),t.FE.RegisterShortcut(t.FE.KEYCODE.Z,"undo",null,"Z",!1,!1),t.FE.RegisterShortcut(t.FE.KEYCODE.Z,"redo",null,"Z",!0,!1),t.FE.RegisterShortcut(t.FE.KEYCODE.Y,"redo",null,"Y",!1,!1),t.FE.MODULES.shortcuts=function(e){var o=null,i=!1;function y(E){if(!e.core.hasFocus())return!0;var O=E.which,p=-1!=navigator.userAgent.indexOf("Mac OS X")?E.metaKey:E.ctrlKey;if("keyup"==E.type&&i&&O!=t.FE.KEYCODE.META)return i=!1;"keydown"==E.type&&(i=!1);var L=(E.shiftKey?"^":"")+(E.altKey?"@":"")+O;if(p&&t.FE.SHORTCUTS_MAP[L]){var w=t.FE.SHORTCUTS_MAP[L].cmd;if(w&&0<=e.opts.shortcutsEnabled.indexOf(w)){var f,R=t.FE.SHORTCUTS_MAP[L].val;if(w&&!R?f=e.$tb.find('.fr-command[data-cmd="'+w+'"]'):w&&R&&(f=e.$tb.find('.fr-command[data-cmd="'+w+'"][data-param1="'+R+'"]')),f.length)return E.preventDefault(),E.stopPropagation(),f.parents(".fr-toolbar").data("instance",e),"keydown"==E.type&&(e.button.exec(f),i=!0),!1;if(w&&(e.commands[w]||t.FE.COMMANDS[w]&&t.FE.COMMANDS[w].callback))return E.preventDefault(),E.stopPropagation(),"keydown"==E.type&&((e.commands[w]||t.FE.COMMANDS[w].callback)(),i=!0),!1}}}return{_init:function(){e.events.on("keydown",y,!0),e.events.on("keyup",y,!0)},get:function(E){if(!e.opts.shortcutsHint)return null;if(!o)for(var O in o={},t.FE.SHORTCUTS_MAP)t.FE.SHORTCUTS_MAP.hasOwnProperty(O)&&0<=e.opts.shortcutsEnabled.indexOf(t.FE.SHORTCUTS_MAP[O].cmd)&&(o[t.FE.SHORTCUTS_MAP[O].cmd+"."+(t.FE.SHORTCUTS_MAP[O].val||"")]={shift:t.FE.SHORTCUTS_MAP[O].shift,option:t.FE.SHORTCUTS_MAP[O].option,letter:t.FE.SHORTCUTS_MAP[O].letter});var p=o[E];return p?(e.helpers.isMac()?String.fromCharCode(8984):e.language.translate("Ctrl")+"+")+(p.shift?e.helpers.isMac()?String.fromCharCode(8679):e.language.translate("Shift")+"+":"")+(p.option?e.helpers.isMac()?String.fromCharCode(8997):e.language.translate("Alt")+"+":"")+p.letter:null}}},t.FE.MODULES.snapshot=function(e){function o(p){for(var L=p.parentNode.childNodes,w=0,f=null,R=0;R<L.length;R++){if(f){var T=L[R].nodeType===Node.TEXT_NODE&&""===L[R].textContent,_=f.nodeType===Node.TEXT_NODE&&L[R].nodeType===Node.TEXT_NODE;T||_||w++}if(L[R]==p)return w;f=L[R]}}function i(p){var L=[];if(!p.parentNode)return[];for(;!e.node.isElement(p);)L.push(o(p)),p=p.parentNode;return L.reverse()}function y(p,L){for(;p&&p.nodeType===Node.TEXT_NODE;){var w=p.previousSibling;w&&w.nodeType==Node.TEXT_NODE&&(L+=w.textContent.length),p=w}return L}function E(p){for(var L=e.el,w=0;w<p.length;w++)L=L.childNodes[p[w]];return L}function O(p,L){try{var w=E(L.scLoc),f=L.scOffset,R=E(L.ecLoc),T=L.ecOffset,_=e.doc.createRange();_.setStart(w,f),_.setEnd(R,T),p.addRange(_)}catch{}}return{get:function(){var p,L={};if(e.events.trigger("snapshot.before"),L.html=(e.$wp?e.$el.html():e.$oel.get(0).outerHTML).replace(/ style=""/g,""),L.ranges=[],e.$wp&&e.selection.inEditor()&&e.core.hasFocus())for(var w=e.selection.ranges(),f=0;f<w.length;f++)L.ranges.push({scLoc:i((p=w[f]).startContainer),scOffset:y(p.startContainer,p.startOffset),ecLoc:i(p.endContainer),ecOffset:y(p.endContainer,p.endOffset)});return e.events.trigger("snapshot.after",[L]),L},restore:function(p){e.$el.html()!=p.html&&(e.opts.htmlExecuteScripts?e.$el.html(p.html):e.el.innerHTML=p.html);var L=e.selection.get();e.selection.clear(),e.events.focus(!0);for(var w=0;w<p.ranges.length;w++)O(L,p.ranges[w])},equal:function(p,L){return p.html==L.html&&(!e.core.hasFocus()||JSON.stringify(p.ranges)==JSON.stringify(L.ranges))}}},t.FE.MODULES.undo=function(e){function o(p){var L=p.which;e.keys.ctrlKey(p)&&(90==L&&p.shiftKey&&p.preventDefault(),90==L&&p.preventDefault())}var i=null;function y(){if(!e.undo_stack||e.undoing)return!1;for(;e.undo_stack.length>e.undo_index;)e.undo_stack.pop()}function E(){i=(e.$wp?e.$el.html():e.$oel.get(0).outerHTML).replace(/ style=""/g,""),e.undo_index=0,e.undo_stack=[]}function O(){e.undo_stack=[]}return{_init:function(){E(),e.events.on("initialized",function(){i=(e.$wp?e.$el.html():e.$oel.get(0).outerHTML).replace(/ style=""/g,"")}),e.events.on("blur",function(){e.el.querySelector(".fr-dragging")||e.undo.saveStep()}),e.events.on("keydown",o),e.events.on("destroy",O)},run:function(){if(1<e.undo_index){e.undoing=!0;var p=e.undo_stack[--e.undo_index-1];clearTimeout(e._content_changed_timer),e.snapshot.restore(p),i=p.html,e.popups.hideAll(),e.toolbar.enable(),e.events.trigger("contentChanged"),e.events.trigger("commands.undo"),e.undoing=!1}},redo:function(){if(e.undo_index<e.undo_stack.length){e.undoing=!0;var p=e.undo_stack[e.undo_index++];clearTimeout(e._content_changed_timer),e.snapshot.restore(p),i=p.html,e.popups.hideAll(),e.toolbar.enable(),e.events.trigger("contentChanged"),e.events.trigger("commands.redo"),e.undoing=!1}},canDo:function(){return!(0===e.undo_stack.length||e.undo_index<=1)},canRedo:function(){return e.undo_index!=e.undo_stack.length},dropRedo:y,reset:E,saveStep:function(p){if(!e.undo_stack||e.undoing||e.el.querySelector(".fr-marker"))return!1;void 0===p?(p=e.snapshot.get(),e.undo_stack[e.undo_index-1]&&e.snapshot.equal(e.undo_stack[e.undo_index-1],p)||(y(),e.undo_stack.push(p),e.undo_index++,p.html!=i&&(e.events.trigger("contentChanged"),i=p.html))):(y(),0<e.undo_index?e.undo_stack[e.undo_index-1]=p:(e.undo_stack.push(p),e.undo_index++))}}},t.FE.ICON_TEMPLATES={font_awesome:'<i class="fa fa-[NAME]" aria-hidden="true"></i>',font_awesome_5:'<i class="fas fa-[FA5NAME]" aria-hidden="true"></i>',font_awesome_5r:'<i class="far fa-[FA5NAME]" aria-hidden="true"></i>',font_awesome_5l:'<i class="fal fa-[FA5NAME]" aria-hidden="true"></i>',font_awesome_5b:'<i class="fab fa-[FA5NAME]" aria-hidden="true"></i>',text:'<span style="text-align: center;">[NAME]</span>',image:"<img src=[SRC] alt=[ALT] />",svg:'<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">[PATH]</svg>',empty:" "},t.FE.ICONS={bold:{NAME:"bold"},italic:{NAME:"italic"},underline:{NAME:"underline"},strikeThrough:{NAME:"strikethrough"},subscript:{NAME:"subscript"},superscript:{NAME:"superscript"},color:{NAME:"tint"},outdent:{NAME:"outdent"},indent:{NAME:"indent"},undo:{NAME:"rotate-left",FA5NAME:"undo"},redo:{NAME:"rotate-right",FA5NAME:"redo"},insertHR:{NAME:"minus"},clearFormatting:{NAME:"eraser"},selectAll:{NAME:"mouse-pointer"}},t.FE.DefineIconTemplate=function(e,o){t.FE.ICON_TEMPLATES[e]=o},t.FE.DefineIcon=function(e,o){t.FE.ICONS[e]=o},t.extend(t.FE.DEFAULTS,{iconsTemplate:"font_awesome"}),t.FE.MODULES.icon=function(e){return{create:function(o){var i=null,y=t.FE.ICONS[o];if(void 0!==y){var E=y.template||t.FE.ICON_DEFAULT_TEMPLATE||e.opts.iconsTemplate;E&&E.apply&&(E=E.apply(e)),y.FA5NAME||(y.FA5NAME=y.NAME),E&&(E=t.FE.ICON_TEMPLATES[E])&&(i=E.replace(/\[([a-zA-Z0-9]*)\]/g,function(O,p){return"NAME"==p?y[p]||o:y[p]}))}return i||o},getTemplate:function(o){var i=t.FE.ICONS[o],y=e.opts.iconsTemplate;return void 0!==i?y=i.template||t.FE.ICON_DEFAULT_TEMPLATE||e.opts.iconsTemplate:y}}},t.extend(t.FE.DEFAULTS,{tooltips:!0}),t.FE.MODULES.tooltip=function(e){function o(){if(e.helpers.isMobile())return!1;e.$tooltip&&e.$tooltip.removeClass("fr-visible").css("left","-3000px").css("position","fixed")}function i(y,E){if(e.helpers.isMobile()||(y.data("title")||y.data("title",y.attr("title")),!y.data("title")))return!1;e.$tooltip||e.opts.tooltips&&!e.helpers.isMobile()&&(e.shared.$tooltip?e.$tooltip=e.shared.$tooltip:(e.shared.$tooltip=t('<div class="fr-tooltip"></div>'),e.$tooltip=e.shared.$tooltip,e.opts.theme&&e.$tooltip.addClass(e.opts.theme+"-theme"),t(e.o_doc).find("body:first").append(e.$tooltip)),e.events.on("shared.destroy",function(){e.$tooltip.html("").removeData().remove(),e.$tooltip=null},!0)),y.removeAttr("title"),e.$tooltip.text(e.language.translate(y.data("title"))),e.$tooltip.addClass("fr-visible");var O=y.offset().left+(y.outerWidth()-e.$tooltip.outerWidth())/2;O<0&&(O=0),O+e.$tooltip.outerWidth()>t(e.o_win).width()&&(O=t(e.o_win).width()-e.$tooltip.outerWidth()),void 0===E&&(E=e.opts.toolbarBottom);var p=E?y.offset().top-e.$tooltip.height():y.offset().top+y.outerHeight();e.$tooltip.css("position",""),e.$tooltip.css("left",O),e.$tooltip.css("top",Math.ceil(p)),"static"!=t(e.o_doc).find("body:first").css("position")?(e.$tooltip.css("margin-left",-t(e.o_doc).find("body:first").offset().left),e.$tooltip.css("margin-top",-t(e.o_doc).find("body:first").offset().top)):(e.$tooltip.css("margin-left",""),e.$tooltip.css("margin-top",""))}return{hide:o,to:i,bind:function(y,E,O){e.opts.tooltips&&!e.helpers.isMobile()&&(e.events.$on(y,"mouseenter",E,function(p){e.node.hasClass(p.currentTarget,"fr-disabled")||e.edit.isDisabled()||i(t(p.currentTarget),O)},!0),e.events.$on(y,"mouseleave "+e._mousedown+" "+e._mouseup,E,function(){o()},!0))}}},t.FE.MODULES.button=function(e){var o=[];(e.opts.toolbarInline||e.opts.toolbarContainer)&&(e.shared.buttons||(e.shared.buttons=[]),o=e.shared.buttons);var i=[];function y(s,u,m){for(var n=t(),S=0;S<s.length;S++){var x=t(s[S]);if(x.is(u)&&(n=n.add(x)),m&&x.is(".fr-dropdown")){var q=x.next().find(u);n=n.add(q)}}return n}function E(s,u){var m,n=t();if(!s)return n;for(m in n=(n=n.add(y(o,s,u))).add(y(i,s,u)),e.shared.popups)if(e.shared.popups.hasOwnProperty(m)){var S=e.shared.popups[m].children().find(s);n=n.add(S)}for(m in e.shared.modals)if(e.shared.modals.hasOwnProperty(m)){var x=e.shared.modals[m].$modal.find(s);n=n.add(x)}return n}function O(s){s.addClass("fr-blink"),setTimeout(function(){s.removeClass("fr-blink")},500);for(var u=s.data("cmd"),m=[];void 0!==s.data("param"+(m.length+1));)m.push(s.data("param"+(m.length+1)));var n=E(".fr-dropdown.fr-active");n.length&&(n.removeClass("fr-active").attr("aria-expanded",!1).next().attr("aria-hidden",!0),n.prev(".fr-expanded").removeClass("fr-expanded"),n.parent(".fr-toolbar:not(.fr-inline)").css("zIndex","")),s.parents(".fr-popup, .fr-toolbar").data("instance").commands.exec(u,m)}function p(s){var u=s.parents(".fr-popup, .fr-toolbar").data("instance");if(0!==s.parents(".fr-popup").length||s.data("popup")||u.popups.hideAll(),u.popups.areVisible()&&!u.popups.areVisible(u)){for(var m=0;m<t.FE.INSTANCES.length;m++)t.FE.INSTANCES[m]!=u&&t.FE.INSTANCES[m].popups&&t.FE.INSTANCES[m].popups.areVisible()&&t.FE.INSTANCES[m].$el.find(".fr-marker").remove();u.popups.hideAll()}e.node.hasClass(s.get(0),"fr-dropdown")?function(n){var S=n.next(),x=e.node.hasClass(n.get(0),"fr-active"),q=E(".fr-dropdown.fr-active").not(n),v=n.parents(".fr-toolbar, .fr-popup").data("instance")||e;if(v.helpers.isIOS()&&!v.el.querySelector(".fr-marker")&&(v.selection.save(),v.selection.clear(),v.selection.restore()),!x){var D=n.data("cmd");S.find(".fr-command").removeClass("fr-active").attr("aria-selected",!1),t.FE.COMMANDS[D]&&t.FE.COMMANDS[D].refreshOnShow&&t.FE.COMMANDS[D].refreshOnShow.apply(v,[n,S]),S.css("left",n.offset().left-n.parent().offset().left-("rtl"==e.opts.direction?S.width()-n.outerWidth():0)),S.addClass("test-height");var G=S.outerHeight();S.removeClass("test-height"),S.css("top","").css("bottom",""),!e.opts.toolbarBottom&&S.offset().top+n.outerHeight()+G<t(e.o_doc).height()?S.css("top",n.position().top+n.outerHeight()):S.css("bottom",n.parents(".fr-popup, .fr-toolbar").first().height()-n.position().top)}n.addClass("fr-blink").toggleClass("fr-active"),n.hasClass("fr-options")&&n.prev().toggleClass("fr-expanded"),n.hasClass("fr-active")?(S.attr("aria-hidden",!1),n.attr("aria-expanded",!0)):(S.attr("aria-hidden",!0),n.attr("aria-expanded",!1)),setTimeout(function(){n.removeClass("fr-blink")},300),S.css("margin-left",""),S.offset().left+S.outerWidth()>e.$sc.offset().left+e.$sc.width()&&S.css("margin-left",-(S.offset().left+S.outerWidth()-e.$sc.offset().left-e.$sc.width())),S.offset().left<e.$sc.offset().left&&"rtl"==e.opts.direction&&S.css("margin-left",e.$sc.offset().left),q.removeClass("fr-active").attr("aria-expanded",!1).next().attr("aria-hidden",!0),q.prev(".fr-expanded").removeClass("fr-expanded"),q.parent(".fr-toolbar:not(.fr-inline)").css("zIndex",""),0!==n.parents(".fr-popup").length||e.opts.toolbarInline||(e.node.hasClass(n.get(0),"fr-active")?e.$tb.css("zIndex",(e.opts.zIndex||1)+4):e.$tb.css("zIndex",""));var k=S.find("a.fr-command.fr-active:first");e.helpers.isMobile()||e.accessibility.focusToolbarElement(k.length?k:n)}(s):(O(s),t.FE.COMMANDS[s.data("cmd")]&&!1!==t.FE.COMMANDS[s.data("cmd")].refreshAfterCallback&&u.button.bulkRefresh())}function L(s){p(t(s.currentTarget))}function w(s){var u=s.find(".fr-dropdown.fr-active");u.length&&(u.removeClass("fr-active").attr("aria-expanded",!1).next().attr("aria-hidden",!0),u.parent(".fr-toolbar:not(.fr-inline)").css("zIndex",""),u.prev().removeClass("fr-expanded"))}function f(s){s.preventDefault(),s.stopPropagation()}function R(s){if(s.stopPropagation(),!e.helpers.isMobile())return!1}function T(s,u,m){if(u=t.extend(!0,{},u),e.helpers.isMobile()&&!1===u.showOnMobile)return"";var n=u.displaySelection;"function"==typeof n&&(n=n(e));var S="";if("options"!==u.type)if(n){var x="function"==typeof u.defaultSelection?u.defaultSelection(e):u.defaultSelection;S='<span style="width:'+(u.displaySelectionWidth||100)+'px">'+e.language.translate(x||u.title)+"</span>"}else S=e.icon.create(u.icon||s),S+='<span class="fr-sr-only">'+(e.language.translate(u.title)||"")+"</span>";var q=u.popup?' data-popup="true"':"",v=u.modal?' data-modal="true"':"",D=e.shortcuts.get(s+".");D=D?" ("+D+")":"";var G=s+"-"+e.id,k="dropdown-menu-"+G,te='<button id="'+G+'"type="button" tabIndex="-1" role="button"'+(u.toggle?' aria-pressed="false"':"")+("dropdown"==u.type||"options"==u.type?' aria-controls="'+k+'" aria-expanded="false" aria-haspopup="true"':"")+(u.disabled?' aria-disabled="true"':"")+' title="'+(e.language.translate(u.title)||"")+D+'" class="fr-command fr-btn'+("dropdown"==u.type||"options"==u.type?" fr-dropdown":"")+("options"==u.type?" fr-options":"")+" fr-btn-"+e.icon.getTemplate(u.icon)+(u.displaySelection?" fr-selection":"")+(u.back?" fr-back":"")+(u.disabled?" fr-disabled":"")+(m?"":" fr-hidden")+'" data-cmd="'+s+'"'+q+v+">"+S+"</button>";if("dropdown"==u.type||"options"==u.type){var J='<div id="'+k+'" class="fr-dropdown-menu" role="listbox" aria-labelledby="'+G+'" aria-hidden="true"><div class="fr-dropdown-wrapper" role="presentation"><div class="fr-dropdown-content" role="presentation">';J+=function(Ee,ye){var pe="";if(ye.html)pe+="function"==typeof ye.html?ye.html.call(e):ye.html;else{var Re=ye.options;for(var qe in"function"==typeof Re&&(Re=Re()),pe+='<ul class="fr-dropdown-list" role="presentation">',Re)if(Re.hasOwnProperty(qe)){var Oe=e.shortcuts.get(Ee+"."+qe);Oe=Oe?'<span class="fr-shortcut">'+Oe+"</span>":"",pe+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="'+("options"===ye.type?Ee.replace(/Options/g,""):Ee)+'" data-param1="'+qe+'" title="'+Re[qe]+'">'+e.language.translate(Re[qe])+"</a></li>"}pe+="</ul>"}return pe}(s,u),te+=J+="</div></div></div>"}return u.hasOptions&&u.hasOptions.apply(e)&&(u.type="options",u.hasOptions=!1,te='<div class="fr-btn-wrap">'+te+T(s+"Options",u,m)+"</div>"),te}function _(s){var u=e.$tb&&e.$tb.data("instance")||e;if(!1===e.events.trigger("buttons.refresh"))return!0;setTimeout(function(){for(var m=u.selection.inEditor()&&u.core.hasFocus(),n=0;n<s.length;n++){var S=t(s[n]),x=S.data("cmd");0===S.parents(".fr-popup").length?m||t.FE.COMMANDS[x]&&t.FE.COMMANDS[x].forcedRefresh?u.button.refresh(S):e.node.hasClass(S.get(0),"fr-dropdown")||(S.removeClass("fr-active"),S.attr("aria-pressed")&&S.attr("aria-pressed",!1)):S.parents(".fr-popup").is(":visible")&&u.button.refresh(S)}},0)}function A(){_(o),_(i)}function c(){o=[],i=[]}e.shared.popup_buttons||(e.shared.popup_buttons=[]),i=e.shared.popup_buttons;var l=null;function a(){clearTimeout(l),l=setTimeout(A,50)}return{_init:function(){e.opts.toolbarInline?e.events.on("toolbar.show",A):(e.events.on("mouseup",a),e.events.on("keyup",a),e.events.on("blur",a),e.events.on("focus",a),e.events.on("contentChanged",a),e.helpers.isMobile()&&e.events.$on(e.$doc,"selectionchange",A)),e.events.on("shared.destroy",c)},buildList:function(s,u){for(var m="",n=0;n<s.length;n++){var S=s[n],x=t.FE.COMMANDS[S];x&&typeof x.plugin<"u"&&e.opts.pluginsEnabled.indexOf(x.plugin)<0||(x?m+=T(S,x,void 0===u||0<=u.indexOf(S)):"|"==S?m+='<div class="fr-separator fr-vs" role="separator" aria-orientation="vertical"></div>':"-"==S&&(m+='<div class="fr-separator fr-hs" role="separator" aria-orientation="horizontal"></div>'))}return m},bindCommands:function(s,u){e.events.bindClick(s,".fr-command:not(.fr-disabled)",L),e.events.$on(s,e._mousedown+" "+e._mouseup+" "+e._move,".fr-dropdown-menu",f,!0),e.events.$on(s,e._mousedown+" "+e._mouseup+" "+e._move,".fr-dropdown-menu .fr-dropdown-wrapper",R,!0);var m=s.get(0).ownerDocument,S=function(x){(!x||x.type==e._mouseup&&x.target!=t("html").get(0)||"keydown"==x.type&&(e.keys.isCharacter(x.which)&&!e.keys.ctrlKey(x)||x.which==t.FE.KEYCODE.ESC))&&w(s)};e.events.$on(t("defaultView"in m?m.defaultView:m.parentWindow),e._mouseup+" resize keydown",S,!0),e.opts.iframe&&e.events.$on(e.$win,e._mouseup,S,!0),e.node.hasClass(s.get(0),"fr-popup")?t.merge(i,s.find(".fr-btn").toArray()):t.merge(o,s.find(".fr-btn").toArray()),e.tooltip.bind(s,".fr-btn, .fr-title",u)},refresh:function(s){var u,m=s.parents(".fr-popup, .fr-toolbar").data("instance")||e,n=s.data("cmd");e.node.hasClass(s.get(0),"fr-dropdown")?u=s.next():(s.removeClass("fr-active"),s.attr("aria-pressed")&&s.attr("aria-pressed",!1)),t.FE.COMMANDS[n]&&t.FE.COMMANDS[n].refresh?t.FE.COMMANDS[n].refresh.apply(m,[s,u]):e.refresh[n]&&m.refresh[n](s,u)},bulkRefresh:A,exec:O,click:p,hideActiveDropdowns:w,getButtons:E}},t.FE.MODULES.modals=function(e){e.shared.modals||(e.shared.modals={});var o,i=e.shared.modals;function y(){for(var p in i){var L=i[p];L&&L.$modal&&L.$modal.removeData().remove()}o&&o.removeData().remove(),i={}}function E(p,L){if(i[p]){var w=i[p].$modal,f=w.data("instance")||e;f.events.enableBlur(),w.hide(),o.hide(),t(f.o_doc).find("body:first").removeClass("prevent-scroll fr-mobile"),w.removeClass("fr-active"),L||(f.accessibility.restoreSelection(),f.events.trigger("modals.hide"))}}function O(p){var L;if("string"==typeof p){if(!i[p])return;L=i[p].$modal}else L=p;return L&&e.node.hasClass(L,"fr-active")&&e.core.sameInstance(L)||!1}return{_init:function(){e.events.on("shared.destroy",y,!0)},get:function(p){return i[p]},create:function(p,L,w){if(e.shared.$overlay||(e.shared.$overlay=t('<div class="fr-overlay">').appendTo("body:first")),o=e.shared.$overlay,e.opts.theme&&o.addClass(e.opts.theme+"-theme"),!i[p]){var f=(T=w,_='<div tabIndex="-1" class="fr-modal'+(e.opts.theme?" "+e.opts.theme+"-theme":"")+'"><div class="fr-modal-wrapper">',_+='<div class="fr-modal-head">'+L+'<i title="'+e.language.translate("Cancel")+'" class="fa fa-times fr-modal-close"></i></div>',_+='<div tabIndex="-1" class="fr-modal-body">'+T+"</div>",t(_+="</div></div>"));i[p]={$modal:f,$head:f.find(".fr-modal-head"),$body:f.find(".fr-modal-body")},e.helpers.isMobile()||f.addClass("fr-desktop"),f.appendTo("body:first"),e.events.$on(f,"click",".fr-modal-close",function(){E(p)},!0),i[p].$body.css("margin-top",i[p].$head.outerHeight()),e.events.$on(f,"keydown",function(A){var c=A.which;return c==t.FE.KEYCODE.ESC?(E(p),e.accessibility.focusModalButton(f),!1):!(!t(A.target).is("input[type=text], textarea")&&c!=t.FE.KEYCODE.ARROW_UP&&c!=t.FE.KEYCODE.ARROW_DOWN&&!e.keys.isBrowserAction(A)&&(A.preventDefault(),A.stopPropagation(),1))},!0),E(p,!0)}var T,_;return i[p]},show:function(p){if(i[p]){var L=i[p].$modal;L.data("instance",e),L.show(),o.show(),t(e.o_doc).find("body:first").addClass("prevent-scroll"),e.helpers.isMobile()&&t(e.o_doc).find("body:first").addClass("fr-mobile"),L.addClass("fr-active"),e.accessibility.focusModal(L)}},hide:E,resize:function(p){if(i[p]){var L=i[p],w=L.$modal,f=L.$body,R=t(e.o_win).height(),T=w.find(".fr-modal-wrapper"),_=R-T.outerHeight(!0)+(T.height()-(f.outerHeight(!0)-f.height())),A="auto";_<f.get(0).scrollHeight&&(A=_),f.height(A)}},isVisible:O,areVisible:function(p){for(var L in i)if(i.hasOwnProperty(L)&&O(L)&&(void 0===p||i[L].$modal.data("instance")==p))return i[L].$modal;return!1}}},t.FE.POPUP_TEMPLATES={"text.edit":"[_EDIT_]"},t.FE.RegisterTemplate=function(e,o){t.FE.POPUP_TEMPLATES[e]=o},t.FE.MODULES.popups=function(e){e.shared.popups||(e.shared.popups={});var o=e.shared.popups;function i(c,l){l.is(":visible")||(l=e.$sc),l.is(o[c].data("container"))||(o[c].data("container",l),l.append(o[c]))}function y(c){return o[c]&&e.node.hasClass(o[c],"fr-active")&&e.core.sameInstance(o[c])||!1}function E(c){for(var l in o)if(o.hasOwnProperty(l)&&y(l)&&(void 0===c||o[l].data("instance")==c))return o[l];return!1}function O(c){var l=null;(l="string"!=typeof c?c:o[c])&&e.node.hasClass(l,"fr-active")&&(l.removeClass("fr-active fr-above"),e.events.trigger("popups.hide."+c),e.$tb&&e.$tb.css("zIndex",1<e.opts.zIndex?e.opts.zIndex+1:""),e.events.disableBlur(),l.find("input, textarea, button").filter(":focus").blur(),l.find("input, textarea").attr("disabled","disabled"))}function p(c){for(var l in void 0===c&&(c=[]),o)o.hasOwnProperty(l)&&c.indexOf(l)<0&&O(l)}function L(){e.shared.exit_flag=!0}function w(){e.shared.exit_flag=!1}function f(){return e.shared.exit_flag}function T(c){var l=o[c];return{_windowResize:function(){var a=l.data("instance")||e;!a.helpers.isMobile()&&l.is(":visible")&&(a.events.disableBlur(),a.popups.hide(c),a.events.enableBlur())},_inputFocus:function(a){var s=l.data("instance")||e,u=t(a.currentTarget);if(u.is("input:file")&&u.closest(".fr-layer").addClass("fr-input-focus"),a.preventDefault(),a.stopPropagation(),setTimeout(function(){s.events.enableBlur()},e.browser.msie?100:0),s.helpers.isMobile()){var m=t(s.o_win).scrollTop();setTimeout(function(){t(s.o_win).scrollTop(m)},0)}},_inputBlur:function(a){var s=l.data("instance")||e,u=t(a.currentTarget);u.is("input:file")&&u.closest(".fr-layer").removeClass("fr-input-focus"),document.activeElement!=this&&t(this).is(":visible")&&(s.events.blurActive()&&s.events.trigger("blur"),s.events.enableBlur())},_editorKeydown:function(a){var s=l.data("instance")||e;s.keys.ctrlKey(a)||a.which==t.FE.KEYCODE.ALT||a.which==t.FE.KEYCODE.ESC||(y(c)&&l.find(".fr-back:visible").length?s.button.exec(l.find(".fr-back:visible:first")):a.which!=t.FE.KEYCODE.ALT&&s.popups.hide(c))},_preventFocus:function(a){var s=l.data("instance")||e,u=a.originalEvent?a.originalEvent.target||a.originalEvent.originalTarget:null;"mouseup"==a.type||t(u).is(":focus")||s.events.disableBlur(),"mouseup"!=a.type||t(u).hasClass("fr-command")||0<t(u).parents(".fr-command").length||t(u).hasClass("fr-dropdown-content")||e.button.hideActiveDropdowns(l),(e.browser.safari||e.browser.mozilla)&&"mousedown"==a.type&&t(u).is("input[type=file]")&&s.events.disableBlur();var m="input, textarea, button, select, label, .fr-command";if(u&&!t(u).is(m)&&0===t(u).parents(m).length)return a.stopPropagation(),!1;u&&t(u).is(m)&&a.stopPropagation(),w()},_editorMouseup:function(){l.is(":visible")&&f()&&0<l.find("input:focus, textarea:focus, button:focus, select:focus").filter(":visible").length&&e.events.disableBlur()},_windowMouseup:function(a){if(!e.core.sameInstance(l))return!0;var s=l.data("instance")||e;l.is(":visible")&&f()&&(a.stopPropagation(),s.markers.remove(),s.popups.hide(c),w())},_windowKeydown:function(a){if(!e.core.sameInstance(l))return!0;var s=l.data("instance")||e;if(t.FE.KEYCODE.ESC==a.which){if(s.popups.isVisible(c)&&s.opts.toolbarInline)return a.stopPropagation(),s.popups.isVisible(c)&&(l.find(".fr-back:visible").length?(s.button.exec(l.find(".fr-back:visible:first")),s.accessibility.focusPopupButton(l)):l.find(".fr-dismiss:visible").length?s.button.exec(l.find(".fr-dismiss:visible:first")):(s.popups.hide(c),s.toolbar.showInline(null,!0),s.accessibility.FocusPopupButton(l))),!1;if(s.popups.isVisible(c))return l.find(".fr-back:visible").length?(s.button.exec(l.find(".fr-back:visible:first")),s.accessibility.focusPopupButton(l)):l.find(".fr-dismiss:visible").length?s.button.exec(l.find(".fr-dismiss:visible:first")):(s.popups.hide(c),s.accessibility.focusPopupButton(l)),!1}},_doPlaceholder:function(){0===t(this).next().length&&t(this).attr("placeholder")&&t(this).after('<label for="'+t(this).attr("id")+'">'+t(this).attr("placeholder")+"</label>"),t(this).toggleClass("fr-not-empty",""!==t(this).val())},_repositionPopup:function(){if(!e.opts.height&&!e.opts.heightMax||e.opts.toolbarInline)return!0;if(e.$wp&&y(c)&&l.parent().get(0)==e.$sc.get(0)){var a=l.offset().top-e.$wp.offset().top,s=e.$wp.outerHeight();e.node.hasClass(l.get(0),"fr-above")&&(a+=l.outerHeight()),s<a||a<0?l.addClass("fr-hidden"):l.removeClass("fr-hidden")}}}}function _(c,l){e.events.on("mouseup",c._editorMouseup,!0),e.$wp&&e.events.on("keydown",c._editorKeydown),e.events.on("blur",function(){E()&&e.markers.remove(),p()}),e.$wp&&!e.helpers.isMobile()&&e.events.$on(e.$wp,"scroll.popup"+l,c._repositionPopup),e.events.on("window.mouseup",c._windowMouseup,!0),e.events.on("window.keydown",c._windowKeydown,!0),o[l].data("inst"+e.id,!0),e.events.on("destroy",function(){e.core.sameInstance(o[l])&&o[l].removeClass("fr-active").appendTo("body:first")},!0)}function A(){for(var c in o)if(o.hasOwnProperty(c)){var l=o[c];l&&(l.html("").removeData().remove(),o[c]=null)}o=[]}return e.shared.exit_flag=!1,{_init:function(){e.events.on("shared.destroy",A,!0),e.events.on("window.mousedown",L),e.events.on("window.touchmove",w),e.events.$on(t(e.o_win),"scroll",w),e.events.on("mousedown",function(c){E()&&(c.stopPropagation(),e.$el.find(".fr-marker").remove(),L(),e.events.disableBlur())})},create:function(c,l){var a=function R(c,l){var a,s,u=function(m,n){var S=t.FE.POPUP_TEMPLATES[m];if(!S)return null;for(var x in"function"==typeof S&&(S=S.apply(e)),n)n.hasOwnProperty(x)&&(S=S.replace("[_"+x.toUpperCase()+"_]",n[x]));return S}(c,l);return u?(a=t('<div class="fr-popup'+(e.helpers.isMobile()?" fr-mobile":" fr-desktop")+(e.opts.toolbarInline?" fr-inline":"")+'"><span class="fr-arrow"></span>'+u+"</div>"),e.opts.theme&&a.addClass(e.opts.theme+"-theme"),1<e.opts.zIndex&&(e.opts.editInPopup?a.css("z-index",e.opts.zIndex+2):e.$tb.css("z-index",e.opts.zIndex+2)),"auto"!=e.opts.direction&&a.removeClass("fr-ltr fr-rtl").addClass("fr-"+e.opts.direction),a.find("input, textarea").attr("dir",e.opts.direction).attr("disabled","disabled"),(s=t("body:first")).append(a),a.data("container",s),o[c]=a,e.button.bindCommands(a,!1),a):(a=t('<div class="fr-popup fr-empty"></div>'),(s=t("body:first")).append(a),a.data("container",s),o[c]=a)}(c,l),s=T(c);return _(s,c),e.events.$on(a,"mousedown mouseup touchstart touchend touch","*",s._preventFocus,!0),e.events.$on(a,"focus","input, textarea, button, select",s._inputFocus,!0),e.events.$on(a,"blur","input, textarea, button, select",s._inputBlur,!0),e.accessibility.registerPopup(c),e.events.$on(a,"keydown keyup change input","input, textarea",s._doPlaceholder,!0),e.helpers.isIOS()&&e.events.$on(a,"touchend","label",function(){t("#"+t(this).attr("for")).prop("checked",function(u,m){return!m})},!0),e.events.$on(t(e.o_win),"resize",s._windowResize,!0),a},get:function(c){var l=o[c];return l&&!l.data("inst"+e.id)&&_(T(c),c),l},show:function(c,l,a,s){if(y(c)||(E()&&0<e.$el.find(".fr-marker").length?(e.events.disableBlur(),e.selection.restore()):E()||(e.events.disableBlur(),e.events.focus(),e.events.enableBlur())),p([c]),!o[c])return!1;var u=e.button.getButtons(".fr-dropdown.fr-active");u.removeClass("fr-active").attr("aria-expanded",!1).parent(".fr-toolbar").css("zIndex",""),u.next().attr("aria-hidden",!0),o[c].data("instance",e),e.$tb&&e.$tb.data("instance",e);var m=o[c].outerWidth(),n=y(c);o[c].addClass("fr-active").removeClass("fr-hidden").find("input, textarea").removeAttr("disabled");var S,x,q=o[c].data("container");S=c,(x=q).is(":visible")||(x=e.$sc),0===x.find([o[S]]).length&&x.append(o[S]),e.opts.toolbarInline&&q&&e.$tb&&q.get(0)==e.$tb.get(0)&&(i(c,e.$sc),a=e.$tb.offset().top-e.helpers.getPX(e.$tb.css("margin-top")),l=e.$tb.offset().left+e.$tb.outerWidth()/2+(parseFloat(e.$tb.find(".fr-arrow").css("margin-left"))||0)+e.$tb.find(".fr-arrow").outerWidth()/2,e.node.hasClass(e.$tb.get(0),"fr-above")&&a&&(a+=e.$tb.outerHeight()),s=0),q=o[c].data("container"),!e.opts.iframe||s||n||(l&&(l-=e.$iframe.offset().left),a&&(a-=e.$iframe.offset().top)),q.is(e.$tb)?e.$tb.css("zIndex",(e.opts.zIndex||1)+4):o[c].css("zIndex",(e.opts.zIndex||1)+4),l&&(l-=m/2),e.opts.toolbarBottom&&q&&e.$tb&&q.get(0)==e.$tb.get(0)&&(o[c].addClass("fr-above"),a&&(a-=o[c].outerHeight())),o[c].removeClass("fr-active"),e.position.at(l,a,o[c],s||0),o[c].addClass("fr-active"),n||e.accessibility.focusPopup(o[c]),e.opts.toolbarInline&&e.toolbar.hide(),e.events.trigger("popups.show."+c),T(c)._repositionPopup(),w()},hide:O,onHide:function(c,l){e.events.on("popups.hide."+c,l)},hideAll:p,setContainer:i,refresh:function(c){o[c].data("instance",e),e.events.trigger("popups.refresh."+c);for(var l=o[c].find(".fr-command"),a=0;a<l.length;a++){var s=t(l[a]);0===s.parents(".fr-dropdown-menu").length&&e.button.refresh(s)}},onRefresh:function(c,l){e.events.on("popups.refresh."+c,l)},onShow:function(c,l){e.events.on("popups.show."+c,l)},isVisible:y,areVisible:E}},t.FE.MODULES.position=function(e){function o(){var p=e.selection.ranges(0).getBoundingClientRect();if(0===p.top&&0===p.left&&0===p.width||0===p.height){var L=!1;0===e.$el.find(".fr-marker").length&&(e.selection.save(),L=!0);var w=e.$el.find(".fr-marker:first");w.css("display","inline"),w.css("line-height","");var f=w.offset(),R=w.outerHeight();w.css("display","none"),w.css("line-height",0),(p={}).left=f.left,p.width=0,p.height=R,p.top=f.top-(e.helpers.isMobile()&&!e.helpers.isIOS()||e.opts.iframe?0:e.helpers.scrollTop()),p.right=1,p.bottom=1,p.ok=!0,L&&e.selection.restore()}return p}function i(p,L,w,f){var R=w.data("container");!R||"BODY"===R.get(0).tagName&&"static"==R.css("position")||(p&&(p-=R.offset().left),L&&(L-=R.offset().top),"BODY"!=R.get(0).tagName?(p&&(p+=R.get(0).scrollLeft),L&&(L+=R.get(0).scrollTop)):"absolute"==R.css("position")&&(p&&(p+=R.position().left),L&&(L+=R.position().top))),e.opts.iframe&&R&&e.$tb&&R.get(0)!=e.$tb.get(0)&&(p&&(p+=e.$iframe.offset().left),L&&(L+=e.$iframe.offset().top));var T,_,A=((T=p)+(_=w.outerWidth(!0))>e.$sc.get(0).clientWidth-10&&(T=e.$sc.get(0).clientWidth-_-10),T<0&&(T=10),T);if(p){w.css("left",A);var c=w.data("fr-arrow");c||(c=w.find(".fr-arrow"),w.data("fr-arrow",c)),c.data("margin-left")||c.data("margin-left",e.helpers.getPX(c.css("margin-left"))),c.css("margin-left",p-A+c.data("margin-left"))}L&&w.css("top",function(l,a,s){var u=l.outerHeight(!0);if(!e.helpers.isMobile()&&e.$tb&&l.parent().get(0)!=e.$tb.get(0)){var m=l.parent().offset().top,n=a-u-(s||0);l.parent().get(0)==e.$sc.get(0)&&(m-=l.parent().position().top);var S=e.$sc.get(0).clientHeight;m+a+u>e.$sc.offset().top+S&&0<l.parent().offset().top+n&&0<n?n>e.$wp.scrollTop()&&(a=n,l.addClass("fr-above")):l.removeClass("fr-above")}return a}(w,L,f))}function y(p){var L=t(p),w=L.is(".fr-sticky-on"),f=L.data("sticky-top"),R=L.data("sticky-scheduled");if(void 0===f){L.data("sticky-top",0);var T=t('<div class="fr-sticky-dummy" style="height: '+L.outerHeight()+'px;"></div>');e.$box.prepend(T)}else e.$box.find(".fr-sticky-dummy").css("height",L.outerHeight());if(e.core.hasFocus()||0<e.$tb.find("input:visible:focus").length){var _=e.helpers.scrollTop(),A=Math.min(Math.max(_-e.$tb.parent().offset().top,0),e.$tb.parent().outerHeight()-L.outerHeight());A!=f&&A!=R&&(clearTimeout(L.data("sticky-timeout")),L.data("sticky-scheduled",A),L.outerHeight()<_-e.$tb.parent().offset().top&&L.addClass("fr-opacity-0"),L.data("sticky-timeout",setTimeout(function(){var c=e.helpers.scrollTop(),l=Math.min(Math.max(c-e.$tb.parent().offset().top,0),e.$tb.parent().outerHeight()-L.outerHeight());0<l&&"BODY"==e.$tb.parent().get(0).tagName&&(l+=e.$tb.parent().position().top),l!=f&&(L.css("top",Math.max(l,0)),L.data("sticky-top",l),L.data("sticky-scheduled",l)),L.removeClass("fr-opacity-0")},100))),w||(L.css("top","0"),L.width(e.$tb.parent().width()),L.addClass("fr-sticky-on"),e.$box.addClass("fr-sticky-box"))}else clearTimeout(t(p).css("sticky-timeout")),L.css("top","0"),L.css("position",""),L.width(""),L.data("sticky-top",0),L.removeClass("fr-sticky-on"),e.$box.removeClass("fr-sticky-box")}function E(p){if(p.offsetWidth){var L,w,f=t(p),R=f.outerHeight(),T=f.data("sticky-position"),_=t("body"==e.opts.scrollableContainer?e.o_win:e.opts.scrollableContainer).outerHeight(),A=0,c=0;"body"!==e.opts.scrollableContainer&&(A=e.$sc.offset().top,c=t(e.o_win).outerHeight()-A-_);var l="body"==e.opts.scrollableContainer?e.helpers.scrollTop():A,a=f.is(".fr-sticky-on");f.data("sticky-parent")||f.data("sticky-parent",f.parent());var s=f.data("sticky-parent"),u=s.offset().top,m=s.outerHeight();if(f.data("sticky-offset")?e.$box.find(".fr-sticky-dummy").css("height",R+"px"):(f.data("sticky-offset",!0),f.after('<div class="fr-sticky-dummy" style="height: '+R+'px;"></div>')),!T){var n="auto"!==f.css("top")||"auto"!==f.css("bottom");n||f.css("position","fixed"),T={top:e.node.hasClass(f.get(0),"fr-top"),bottom:e.node.hasClass(f.get(0),"fr-bottom")},n||f.css("position",""),f.data("sticky-position",T),f.data("top",e.node.hasClass(f.get(0),"fr-top")?f.css("top"):"auto"),f.data("bottom",e.node.hasClass(f.get(0),"fr-bottom")?f.css("bottom"):"auto")}L=e.helpers.getPX(f.data("top")),w=e.helpers.getPX(f.data("bottom")),T.top&&u<l+L&&l+L<=u+m-R&&(e.helpers.isInViewPort(e.$sc.get(0))||"body"==e.opts.scrollableContainer)||T.bottom&&u+R<l+_-w&&l+_-w<u+m?(f.css("width",s.get(0).getBoundingClientRect().width+"px"),a||(f.addClass("fr-sticky-on"),f.removeClass("fr-sticky-off"),f.css("top")&&("auto"!=f.data("top")?f.css("top",e.helpers.getPX(f.data("top"))+A):f.data("top","auto")),f.css("bottom")&&("auto"!=f.data("bottom")?f.css("bottom",e.helpers.getPX(f.data("bottom"))+c):f.css("bottom","auto")))):e.node.hasClass(f.get(0),"fr-sticky-off")||(f.width(""),f.removeClass("fr-sticky-on"),f.addClass("fr-sticky-off"),f.css("top")&&"auto"!=f.data("top")&&T.top&&f.css("top",0),f.css("bottom")&&"auto"!=f.data("bottom")&&T.bottom&&f.css("bottom",0))}}function O(){if(e._stickyElements)for(var p=0;p<e._stickyElements.length;p++)E(e._stickyElements[p])}return{_init:function(){!function(){if(e._stickyElements=[],e.helpers.isIOS()){var p=function(){if(e.helpers.requestAnimationFrame()(p),!1!==e.events.trigger("position.refresh"))for(var L=0;L<e._stickyElements.length;L++)y(e._stickyElements[L])};p(),e.events.$on(t(e.o_win),"scroll",function(){if(e.core.hasFocus())for(var L=0;L<e._stickyElements.length;L++){var w=t(e._stickyElements[L]),f=w.parent(),R=e.helpers.scrollTop();w.outerHeight()<R-f.offset().top&&(w.addClass("fr-opacity-0"),w.data("sticky-top",-1),w.data("sticky-scheduled",-1))}},!0)}else"body"!==e.opts.scrollableContainer&&e.events.$on(t(e.opts.scrollableContainer),"scroll",O,!0),e.events.$on(t(e.o_win),"scroll",O,!0),e.events.$on(t(e.o_win),"resize",O,!0),e.events.on("initialized",O),e.events.on("focus",O),e.events.$on(t(e.o_win),"resize","textarea",O,!0);e.events.on("destroy",function(){e._stickyElements=[]})}()},forSelection:function(p){var L=o();p.css({top:0,left:0});var w=L.top+L.height,f=L.left+L.width/2-p.get(0).offsetWidth/2+e.helpers.scrollLeft();e.opts.iframe||(w+=e.helpers.scrollTop()),i(f,w,p,L.height)},addSticky:function(p){p.addClass("fr-sticky"),e.helpers.isIOS()&&p.addClass("fr-sticky-ios"),p.removeClass("fr-sticky"),e._stickyElements.push(p.get(0))},refresh:O,at:i,getBoundingRect:o}},t.FE.MODULES.refresh=function(e){function o(i,y){i.toggleClass("fr-disabled",y).attr("aria-disabled",y)}return{undo:function(i){o(i,!e.undo.canDo())},redo:function(i){o(i,!e.undo.canRedo())},outdent:function(i){if(e.node.hasClass(i.get(0),"fr-no-refresh"))return!1;for(var y=e.selection.blocks(),E=0;E<y.length;E++){var O="rtl"==e.opts.direction||"rtl"==t(y[E]).css("direction")?"margin-right":"margin-left";if("LI"==y[E].tagName||"LI"==y[E].parentNode.tagName||0<e.helpers.getPX(t(y[E]).css(O)))return o(i,!1),!0}o(i,!0)},indent:function(i){if(e.node.hasClass(i.get(0),"fr-no-refresh"))return!1;for(var y=e.selection.blocks(),E=0;E<y.length;E++){for(var O=y[E].previousSibling;O&&O.nodeType==Node.TEXT_NODE&&0===O.textContent.length;)O=O.previousSibling;if("LI"!=y[E].tagName||O)return o(i,!1),!0;o(i,!0)}}}},t.extend(t.FE.DEFAULTS,{editInPopup:!1}),t.FE.MODULES.textEdit=function(e){return{_init:function(){var i;e.opts.editInPopup&&(i={edit:'<div id="fr-text-edit-'+e.id+'" class="fr-layer fr-text-edit-layer"><div class="fr-input-line"><input type="text" placeholder="'+e.language.translate("Text")+'" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="updateText" tabIndex="2">'+e.language.translate("Update")+"</button></div></div>"},e.popups.create("text.edit",i),function o(){e.events.$on(e.$el,e._mouseup,function(){setTimeout(function(){var i,y;y=e.popups.get("text.edit"),i="INPUT"===e.$el.prop("tagName")?e.$el.attr("placeholder"):e.$el.text(),y.find("input").val(i).trigger("change"),e.popups.setContainer("text.edit",e.$sc),e.popups.show("text.edit",e.$el.offset().left+e.$el.outerWidth()/2,e.$el.offset().top+e.$el.outerHeight(),e.$el.outerHeight())},10)})}())},update:function(){var i=e.popups.get("text.edit").find("input").val();0===i.length&&(i=e.opts.placeholderText),"INPUT"===e.$el.prop("tagName")?e.$el.attr("placeholder",i):e.$el.text(i),e.events.trigger("contentChanged"),e.popups.hide("text.edit")}}},t.FE.RegisterCommand("updateText",{focus:!1,undo:!1,callback:function(){this.textEdit.update()}}),t.extend(t.FE.DEFAULTS,{toolbarBottom:!1,toolbarButtons:null,toolbarButtonsXS:null,toolbarButtonsSM:null,toolbarButtonsMD:null,toolbarContainer:null,toolbarInline:!1,toolbarSticky:!0,toolbarStickyOffset:0,toolbarVisibleWithoutSelection:!1}),t.FE.TOOLBAR_BUTTONS=["fullscreen","bold","italic","underline","strikeThrough","subscript","superscript","|","fontFamily","fontSize","color","inlineClass","inlineStyle","paragraphStyle","lineHeight","|","paragraphFormat","align","formatOL","formatUL","outdent","indent","quote","-","insertLink","insertImage","insertVideo","embedly","insertFile","insertTable","|","emoticons","fontAwesome","specialCharacters","insertHR","selectAll","clearFormatting","|","print","getPDF","spellChecker","help","html","|","undo","redo"],t.FE.TOOLBAR_BUTTONS_MD=null,t.FE.TOOLBAR_BUTTONS_SM=["bold","italic","underline","|","fontFamily","fontSize","insertLink","insertImage","table","|","undo","redo"],t.FE.TOOLBAR_BUTTONS_XS=["bold","italic","fontFamily","fontSize","|","undo","redo"],t.FE.MODULES.toolbar=function(e){var o=[];function i(c,l){for(var a=0;a<l.length;a++)"-"!=l[a]&&"|"!=l[a]&&c.indexOf(l[a])<0&&c.push(l[a])}function y(){var c=e.helpers.screenSize();return o[c]}function E(){var c=y();e.$tb.find(".fr-separator").remove(),e.$tb.find("> .fr-command, > div.fr-btn-wrap").addClass("fr-hidden");for(var l=0;l<c.length;l++)if("|"==c[l]||"-"==c[l])e.$tb.append(e.button.buildList([c[l]]));else{var a=e.$tb.find('> .fr-command[data-cmd="'+c[l]+'"], > div.fr-btn-wrap > .fr-command[data-cmd="'+c[l]+'"]'),s=null;e.node.hasClass(a.next().get(0),"fr-dropdown-menu")&&(s=a.next()),e.node.hasClass(a.next().get(0),"fr-options")&&(a=a.parent()),a.removeClass("fr-hidden").appendTo(e.$tb),s&&s.appendTo(e.$tb)}}function O(c,l){setTimeout(function(){if((!c||c.which!=t.FE.KEYCODE.ESC)&&e.selection.inEditor()&&e.core.hasFocus()&&!e.popups.areVisible()&&(e.opts.toolbarVisibleWithoutSelection||!e.selection.isCollapsed()&&!e.keys.isIME()||l)){if(e.$tb.data("instance",e),!1===e.events.trigger("toolbar.show",[c]))return!1;e.$tb.show(),e.opts.toolbarContainer||e.position.forSelection(e.$tb),e.$tb.css("z-index",1<e.opts.zIndex?e.opts.zIndex+1:null)}},0)}function p(c){return(!c||"blur"!==c.type||document.activeElement!==e.el)&&(!(!c||"keydown"!==c.type||!e.keys.ctrlKey(c))||!!e.button.getButtons(".fr-dropdown.fr-active").next().find(e.o_doc.activeElement).length||void(!1!==e.events.trigger("toolbar.hide")&&e.$tb.hide()))}o[t.FE.XS]=e.opts.toolbarButtonsXS||e.opts.toolbarButtons||t.FE.TOOLBAR_BUTTONS_XS||t.FE.TOOLBAR_BUTTONS||[],o[t.FE.SM]=e.opts.toolbarButtonsSM||e.opts.toolbarButtons||t.FE.TOOLBAR_BUTTONS_SM||t.FE.TOOLBAR_BUTTONS||[],o[t.FE.MD]=e.opts.toolbarButtonsMD||e.opts.toolbarButtons||t.FE.TOOLBAR_BUTTONS_MD||t.FE.TOOLBAR_BUTTONS||[],o[t.FE.LG]=e.opts.toolbarButtons||t.FE.TOOLBAR_BUTTONS||[];var L=null;function w(c){clearTimeout(L),c&&c.which==t.FE.KEYCODE.ESC||(L=setTimeout(O,e.opts.typingTimer))}function f(){e.events.on("window.mousedown",p),e.events.on("keydown",p),e.events.on("blur",p),e.helpers.isMobile()||e.events.on("window.mouseup",O),e.helpers.isMobile()?e.helpers.isIOS()||(e.events.on("window.touchend",O),e.browser.mozilla&&setInterval(O,200)):e.events.on("window.keyup",w),e.events.on("keydown",function(c){c&&c.which==t.FE.KEYCODE.ESC&&p()}),e.events.on("keydown",function(c){if(c.which==t.FE.KEYCODE.ALT)return c.stopPropagation(),!1},!0),e.events.$on(e.$wp,"scroll.toolbar",O),e.events.on("commands.after",O),e.helpers.isMobile()&&(e.events.$on(e.$doc,"selectionchange",w),e.events.$on(e.$doc,"orientationchange",O))}function R(){e.$tb.html("").removeData().remove(),e.$tb=null}function T(){e.$box.removeClass("fr-top fr-bottom fr-inline fr-basic"),e.$box.find(".fr-sticky-dummy").remove()}function _(){e.opts.theme&&e.$tb.addClass(e.opts.theme+"-theme"),1<e.opts.zIndex&&e.$tb.css("z-index",e.opts.zIndex+1),"auto"!=e.opts.direction&&e.$tb.removeClass("fr-ltr fr-rtl").addClass("fr-"+e.opts.direction),e.helpers.isMobile()?e.$tb.addClass("fr-mobile"):e.$tb.addClass("fr-desktop"),e.opts.toolbarContainer?(e.opts.toolbarInline&&(f(),p()),e.$tb.addClass(e.opts.toolbarBottom?"fr-bottom":"fr-top")):e.opts.toolbarInline?(e.$sc.append(e.$tb),e.$tb.data("container",e.$sc),e.$tb.addClass("fr-inline"),e.$tb.prepend('<span class="fr-arrow"></span>'),f(),e.opts.toolbarBottom=!1):(e.opts.toolbarBottom&&!e.helpers.isIOS()?(e.$box.append(e.$tb),e.$tb.addClass("fr-bottom"),e.$box.addClass("fr-bottom")):(e.opts.toolbarBottom=!1,e.$box.prepend(e.$tb),e.$tb.addClass("fr-top"),e.$box.addClass("fr-top")),e.$tb.addClass("fr-basic"),e.opts.toolbarSticky&&(e.opts.toolbarStickyOffset&&e.$tb.css(e.opts.toolbarBottom?"bottom":"top",e.opts.toolbarStickyOffset),e.position.addSticky(e.$tb))),function(){var c=t.merge([],y());i(c,o[t.FE.XS]),i(c,o[t.FE.SM]),i(c,o[t.FE.MD]),i(c,o[t.FE.LG]);for(var l=c.length-1;0<=l;l--)"-"!=c[l]&&"|"!=c[l]&&c.indexOf(c[l])<l&&c.splice(l,1);var a=e.button.buildList(c,y());e.$tb.append(a),e.button.bindCommands(e.$tb)}(),e.events.$on(t(e.o_win),"resize",E),e.events.$on(t(e.o_win),"orientationchange",E),e.accessibility.registerToolbar(e.$tb),e.events.$on(e.$tb,e._mousedown+" "+e._mouseup,function(c){var l=c.originalEvent?c.originalEvent.target||c.originalEvent.originalTarget:null;if(l&&"INPUT"!=l.tagName&&!e.edit.isDisabled())return c.stopPropagation(),c.preventDefault(),!1},!0)}var A=!1;return{_init:function(){if(e.$sc=t(e.opts.scrollableContainer).first(),!e.$wp)return!1;e.opts.toolbarContainer?(e.shared.$tb?(e.$tb=e.shared.$tb,e.opts.toolbarInline&&f()):(e.shared.$tb=t('<div class="fr-toolbar"></div>'),e.$tb=e.shared.$tb,t(e.opts.toolbarContainer).append(e.$tb),_(),e.$tb.data("instance",e)),e.$box.addClass(e.opts.toolbarInline?"fr-inline":"fr-basic"),e.events.on("focus",function(){e.$tb.data("instance",e)},!0),e.opts.toolbarInline=!1):e.opts.toolbarInline?(e.$box.addClass("fr-inline"),e.shared.$tb?(e.$tb=e.shared.$tb,f()):(e.shared.$tb=t('<div class="fr-toolbar"></div>'),e.$tb=e.shared.$tb,_())):(e.$box.addClass("fr-basic"),e.$tb=t('<div class="fr-toolbar"></div>'),_(),e.$tb.data("instance",e)),e.events.on("destroy",T,!0),e.events.on(e.opts.toolbarInline||e.opts.toolbarContainer?"shared.destroy":"destroy",R,!0)},hide:p,show:function(){if(!1===e.events.trigger("toolbar.show"))return!1;e.$tb.show()},showInline:O,disable:function(){!A&&e.$tb&&(e.$tb.find("> .fr-command").addClass("fr-disabled fr-no-refresh").attr("aria-disabled",!0),A=!0)},enable:function(){A&&e.$tb&&(e.$tb.find("> .fr-command").removeClass("fr-disabled fr-no-refresh").attr("aria-disabled",!1),A=!1),e.button.bulkRefresh()}}},t.FE.PLUGINS.align=function(e){return{apply:function(o){var i=e.selection.element();if(t(i).parents(".fr-img-caption").length)t(i).css("text-align",o);else{e.selection.save(),e.html.wrap(!0,!0,!0,!0),e.selection.restore();for(var y=e.selection.blocks(),E=0;E<y.length;E++)e.helpers.getAlignment(t(y[E].parentNode))==o?t(y[E]).css("text-align","").removeClass("fr-temp-div"):t(y[E]).css("text-align",o).removeClass("fr-temp-div"),""===t(y[E]).attr("class")&&t(y[E]).removeAttr("class"),""===t(y[E]).attr("style")&&t(y[E]).removeAttr("style");e.selection.save(),e.html.unwrap(),e.selection.restore()}},refresh:function(o){var i=e.selection.blocks();if(i.length){var y=e.helpers.getAlignment(t(i[0]));o.find("> *:first").replaceWith(e.icon.create("align-"+y))}},refreshOnShow:function(o,i){var y=e.selection.blocks();if(y.length){var E=e.helpers.getAlignment(t(y[0]));i.find('a.fr-command[data-param1="'+E+'"]').addClass("fr-active").attr("aria-selected",!0)}},refreshForToolbar:function(o){var i=e.selection.blocks();if(i.length){var y=e.helpers.getAlignment(t(i[0]));"align"+(y=y.charAt(0).toUpperCase()+y.slice(1))==o.attr("data-cmd")&&o.addClass("fr-active")}}}},t.FE.DefineIcon("align",{NAME:"align-left"}),t.FE.DefineIcon("align-left",{NAME:"align-left"}),t.FE.DefineIcon("align-right",{NAME:"align-right"}),t.FE.DefineIcon("align-center",{NAME:"align-center"}),t.FE.DefineIcon("align-justify",{NAME:"align-justify"}),t.FE.RegisterCommand("align",{type:"dropdown",title:"Align",options:{left:"Align Left",center:"Align Center",right:"Align Right",justify:"Align Justify"},html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',o=t.FE.COMMANDS.align.options;for(var i in o)o.hasOwnProperty(i)&&(e+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="align" data-param1="'+i+'" title="'+this.language.translate(o[i])+'">'+this.icon.create("align-"+i)+'<span class="fr-sr-only">'+this.language.translate(o[i])+"</span></a></li>");return e+"</ul>"},callback:function(e,o){this.align.apply(o)},refresh:function(e){this.align.refresh(e)},refreshOnShow:function(e,o){this.align.refreshOnShow(e,o)},plugin:"align"}),t.FE.RegisterCommand("alignLeft",{type:"button",icon:"align-left",callback:function(){this.align.apply("left")},refresh:function(e){this.align.refreshForToolbar(e)}}),t.FE.RegisterCommand("alignRight",{type:"button",icon:"align-right",callback:function(){this.align.apply("right")},refresh:function(e){this.align.refreshForToolbar(e)}}),t.FE.RegisterCommand("alignCenter",{type:"button",icon:"align-center",callback:function(){this.align.apply("center")},refresh:function(e){this.align.refreshForToolbar(e)}}),t.FE.RegisterCommand("alignJustify",{type:"button",icon:"align-justify",callback:function(){this.align.apply("justify")},refresh:function(e){this.align.refreshForToolbar(e)}}),t.extend(t.FE.DEFAULTS,{charCounterMax:-1,charCounterCount:!0}),t.FE.PLUGINS.charCounter=function(e){var o;function i(){return(e.el.textContent||"").replace(/\u200B/g,"").length}function y(p){if(e.opts.charCounterMax<0||i()<e.opts.charCounterMax)return!0;var L=p.which;return!(!e.keys.ctrlKey(p)&&e.keys.isCharacter(L)||L===t.FE.KEYCODE.IME)||(p.preventDefault(),p.stopPropagation(),e.events.trigger("charCounter.exceeded"),!1)}function E(p){return e.opts.charCounterMax<0||t("<div>").html(p).text().length+i()<=e.opts.charCounterMax?p:(e.events.trigger("charCounter.exceeded"),"")}function O(){if(e.opts.charCounterCount){var p=i()+(0<e.opts.charCounterMax?"/"+e.opts.charCounterMax:"");o.text(p),e.opts.toolbarBottom&&o.css("margin-bottom",e.$tb.outerHeight(!0));var L=e.$wp.get(0).offsetWidth-e.$wp.get(0).clientWidth;0<=L&&o.css("rtl"==e.opts.direction?"margin-left":"margin-right",L)}}return{_init:function(){return!!e.$wp&&!!e.opts.charCounterCount&&((o=t('<span class="fr-counter"></span>')).css("bottom",e.$wp.css("border-bottom-width")),e.$box.append(o),e.events.on("keydown",y,!0),e.events.on("paste.afterCleanup",E),e.events.on("keyup contentChanged input",function(){e.events.trigger("charCounter.update")}),e.events.on("charCounter.update",O),e.events.trigger("charCounter.update"),void e.events.on("destroy",function(){t(e.o_win).off("resize.char"+e.id),o.removeData().remove(),o=null}))},count:i}},t.FE.PLUGINS.codeBeautifier=function(){var e,o,i,y,E={};function O(l,a){var s={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},u={"@media":!0,"@supports":!0,"@document":!0};a=a||{},l=(l=l||"").replace(/\r\n|[\r\u2028\u2029]/g,"\n");var m=a.indent_size||4,n=a.indent_char||" ",S=void 0===a.selector_separator_newline||a.selector_separator_newline,x=void 0!==a.end_with_newline&&a.end_with_newline,q=void 0===a.newline_between_rules||a.newline_between_rules,v=a.eol?a.eol:"\n";"string"==typeof m&&(m=parseInt(m,10)),a.indent_with_tabs&&(n="\t",m=1),v=v.replace(/\\r/,"\r").replace(/\\n/,"\n");var D,G=/^\s+$/,k=-1,te=0;function J(){return(D=l.charAt(++k))||""}function Ee(P){var Y,V=k;return P&&pe(),Y=l.charAt(k+1)||"",k=V-1,J(),Y}function ye(P){for(var Y=k;J();)if("\\"===D)J();else if(-1!==P.indexOf(D)||"\n"===D)break;return l.substring(Y,k+1)}function pe(){for(var P="";G.test(Ee());)J(),P+=D;return P}function Re(){var P="";for(D&&G.test(D)&&(P=D);G.test(J());)P+=D;return P}function qe(P){var Y=k;for(P="/"===Ee(),J();J();){if(!P&&"*"===D&&"/"===Ee()){J();break}if(P&&"\n"===D)return l.substring(Y,k)}return l.substring(Y,k)+D}function Oe(P){return l.substring(k-P.length,k).toLowerCase()===P}function de(){for(var P=0,Y=k+1;Y<l.length;Y++){var V=l.charAt(Y);if("{"===V)return!0;if("("===V)P+=1;else if(")"===V){if(0==P)return!1;P-=1}else if(";"===V||"}"===V)return!1}return!1}for(var Be,je,$e=l.match(/^[\t ]*/)[0],le=new Array(m+1).join(n),He=0,ce=0,ae={"{":function(P){ae.singleSpace(),Se.push(P),ae.newLine()},"}":function(P){ae.newLine(),Se.push(P),ae.newLine()},_lastCharWhitespace:function(){return G.test(Se[Se.length-1])},newLine:function(P){Se.length&&(P||"\n"===Se[Se.length-1]||ae.trim(),Se.push("\n"),$e&&Se.push($e))},singleSpace:function(){Se.length&&!ae._lastCharWhitespace()&&Se.push(" ")},preserveSingleSpace:function(){j&&ae.singleSpace()},trim:function(){for(;ae._lastCharWhitespace();)Se.pop()}},Se=[],ze=!1,Ze=!1,Ye=!1,lt="",Ne="";;){var Ve=Re(),j=""!==Ve,fe=-1!==Ve.indexOf("\n");if(Ne=lt,!(lt=D))break;if("/"===D&&"*"===Ee()){var M=0===He;(fe||M)&&ae.newLine(),Se.push(qe()),ae.newLine(),M&&ae.newLine(!0)}else if("/"===D&&"/"===Ee())fe||"{"===Ne||ae.trim(),ae.singleSpace(),Se.push(qe()),ae.newLine();else if("@"===D){ae.preserveSingleSpace(),Se.push(D);var U=(Be=k,je=ye(": ,;{}()[]/='\""),k=Be-1,J(),je);U.match(/[ :]$/)&&(J(),U=ye(": ").replace(/\s$/,""),Se.push(U),ae.singleSpace()),(U=U.replace(/\s$/,""))in s&&(ce+=1,U in u&&(Ye=!0))}else"#"===D&&"{"===Ee()?(ae.preserveSingleSpace(),Se.push(ye("}"))):"{"===D?"}"===Ee(!0)?(pe(),J(),ae.singleSpace(),Se.push("{}"),ae.newLine(),q&&0===He&&ae.newLine(!0)):(He++,$e+=le,ae["{"](D),Ye?(Ye=!1,ze=ce<He):ze=ce<=He):"}"===D?(He--,$e=$e.slice(0,-m),ae["}"](D),Ze=ze=!1,ce&&ce--,q&&0===He&&ae.newLine(!0)):":"===D?(pe(),!ze&&!Ye||Oe("&")||de()?":"===Ee()?(J(),Se.push("::")):Se.push(":"):(Ze=!0,Se.push(":"),ae.singleSpace())):'"'===D||"'"===D?(ae.preserveSingleSpace(),Se.push(ye(D))):";"===D?(Ze=!1,Se.push(D),ae.newLine()):"("===D?Oe("url")?(Se.push(D),pe(),J()&&(")"!==D&&'"'!==D&&"'"!==D?Se.push(ye(")")):k--)):(te++,ae.preserveSingleSpace(),Se.push(D),pe()):")"===D?(Se.push(D),te--):","===D?(Se.push(D),pe(),S&&!Ze&&te<1?ae.newLine():ae.singleSpace()):("]"===D||("["===D?ae.preserveSingleSpace():"="===D?(pe(),D="="):ae.preserveSingleSpace()),Se.push(D))}var K="";return $e&&(K+=$e),K+=Se.join("").replace(/[\r\n\t ]+$/,""),x&&(K+="\n"),"\n"!=v&&(K=K.replace(/[\n]/g,v)),K}function p(l,a){for(var s=0;s<a.length;s+=1)if(a[s]===l)return!0;return!1}function L(l){return l.replace(/^\s+|\s+$/g,"")}function w(l,a){return new R(l,a).beautify()}e=E,o="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",i=new RegExp("["+o+"]"),y=new RegExp("["+o+"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]"),e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=new RegExp("\r\n|"+e.newline.source),e.allLineBreaks=new RegExp(e.lineBreak.source,"g"),e.isIdentifierStart=function(l){return l<65?36===l||64===l:l<91||(l<97?95===l:l<123||170<=l&&i.test(String.fromCharCode(l)))},e.isIdentifierChar=function(l){return l<48?36===l:l<58||!(l<65)&&(l<91||(l<97?95===l:l<123||170<=l&&y.test(String.fromCharCode(l))))};var f={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function R(l,a){var s,u,m,n,S,x,q,v,D,G,k,te,J,Ee=[],ye="";function pe(Ne,Ve){var j=0;return Ne&&(j=Ne.indentation_level,!s.just_added_newline()&&Ne.line_indent_level>j&&(j=Ne.line_indent_level)),{mode:Ve,parent:Ne,last_text:Ne?Ne.last_text:"",last_word:Ne?Ne.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:j,line_indent_level:Ne?Ne.line_indent_level:j,start_line_index:s.get_line_number(),ternary_depth:0}}for(te={TK_START_EXPR:function(){ze();var Ne=f.Expression;if("["===n.text){if("TK_WORD"===S||")"===v.last_text)return"TK_RESERVED"===S&&p(v.last_text,m.line_starters)&&(s.space_before_token=!0),ce(Ne),le(),He(),void(J.space_in_paren&&(s.space_before_token=!0));Ne=f.ArrayLiteral,Be(v.mode)&&("["!==v.last_text&&(","!==v.last_text||"]"!==x&&"}"!==x)||J.keep_array_indentation||de())}else"TK_RESERVED"===S&&"for"===v.last_text?Ne=f.ForInitializer:"TK_RESERVED"===S&&p(v.last_text,["if","while"])&&(Ne=f.Conditional);";"===v.last_text||"TK_START_BLOCK"===S?de():"TK_END_EXPR"===S||"TK_START_EXPR"===S||"TK_END_BLOCK"===S||"."===v.last_text?Oe(n.wanted_newline):"TK_RESERVED"===S&&"("===n.text||"TK_WORD"===S||"TK_OPERATOR"===S?"TK_RESERVED"===S&&("function"===v.last_word||"typeof"===v.last_word)||"*"===v.last_text&&"function"===x?J.space_after_anon_function&&(s.space_before_token=!0):"TK_RESERVED"!==S||!p(v.last_text,m.line_starters)&&"catch"!==v.last_text||J.space_before_conditional&&(s.space_before_token=!0):s.space_before_token=!0,"("===n.text&&"TK_RESERVED"===S&&"await"===v.last_word&&(s.space_before_token=!0),"("===n.text&&("TK_EQUALS"!==S&&"TK_OPERATOR"!==S||Se()||Oe()),ce(Ne),le(),J.space_in_paren&&(s.space_before_token=!0),He()},TK_END_EXPR:function(){for(;v.mode===f.Statement;)ae();v.multiline_frame&&Oe("]"===n.text&&Be(v.mode)&&!J.keep_array_indentation),J.space_in_paren&&("TK_START_EXPR"!==S||J.space_in_empty_paren?s.space_before_token=!0:(s.trim(),s.space_before_token=!1)),"]"===n.text&&J.keep_array_indentation?(le(),ae()):(ae(),le()),s.remove_redundant_indentation(D),v.do_while&&D.mode===f.Conditional&&(D.mode=f.Expression,v.do_block=!1,v.do_while=!1)},TK_START_BLOCK:function(){var Ne=Ye(1),Ve=Ye(2);Ve&&(":"===Ve.text&&p(Ne.type,["TK_STRING","TK_WORD","TK_RESERVED"])||p(Ne.text,["get","set"])&&p(Ve.type,["TK_WORD","TK_RESERVED"]))?p(x,["class","interface"])?ce(f.BlockStatement):ce(f.ObjectLiteral):ce(f.BlockStatement),"expand"===J.brace_style||"none"===J.brace_style&&n.wanted_newline?"TK_OPERATOR"!==S&&(!Ne.comments_before.length&&"}"===Ne.text&&"function"===v.last_word&&"TK_END_EXPR"===S||"TK_EQUALS"===S||"TK_RESERVED"===S&&Ze(v.last_text)&&"else"!==v.last_text)?s.space_before_token=!0:de(!1,!0):"TK_OPERATOR"!==S&&"TK_START_EXPR"!==S?"TK_START_BLOCK"===S?de():s.space_before_token=!0:Be(D.mode)&&","===v.last_text&&("}"===x?s.space_before_token=!0:de()),le(),He()},TK_END_BLOCK:function(){for(;v.mode===f.Statement;)ae();var Ne="TK_START_BLOCK"===S;"expand"===J.brace_style?Ne||de():Ne||(Be(v.mode)&&J.keep_array_indentation?(J.keep_array_indentation=!1,de(),J.keep_array_indentation=!0):de()),ae(),le()},TK_WORD:lt,TK_RESERVED:lt,TK_SEMICOLON:function(){for(ze()&&(s.space_before_token=!1);v.mode===f.Statement&&!v.if_block&&!v.do_block;)ae();le()},TK_STRING:function(){ze()||"TK_RESERVED"===S||"TK_WORD"===S?s.space_before_token=!0:"TK_COMMA"===S||"TK_START_EXPR"===S||"TK_EQUALS"===S||"TK_OPERATOR"===S?Se()||Oe():de(),le()},TK_EQUALS:function(){ze(),v.declaration_statement&&(v.declaration_assignment=!0),s.space_before_token=!0,le(),s.space_before_token=!0},TK_OPERATOR:function(){if(ze(),"TK_RESERVED"===S&&Ze(v.last_text))return s.space_before_token=!0,void le();if("*"!==n.text||"TK_DOT"!==S){if(":"===n.text&&v.in_case)return v.case_body=!0,He(),le(),de(),void(v.in_case=!1);if("::"!==n.text){"TK_OPERATOR"===S&&Oe();var Ne=!0,Ve=!0;p(n.text,["--","++","!","~"])||p(n.text,["-","+"])&&(p(S,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||p(v.last_text,m.line_starters)||","===v.last_text)?(Ve=Ne=!1,!n.wanted_newline||"--"!==n.text&&"++"!==n.text||de(!1,!0),";"===v.last_text&&je(v.mode)&&(Ne=!0),"TK_RESERVED"===S?Ne=!0:"TK_END_EXPR"===S?Ne=!("]"===v.last_text&&("--"===n.text||"++"===n.text)):"TK_OPERATOR"===S&&(Ne=p(n.text,["--","-","++","+"])&&p(v.last_text,["--","-","++","+"]),p(n.text,["+","-"])&&p(v.last_text,["--","++"])&&(Ve=!0)),v.mode!==f.BlockStatement&&v.mode!==f.Statement||"{"!==v.last_text&&";"!==v.last_text||de()):":"===n.text?0===v.ternary_depth?Ne=!1:v.ternary_depth-=1:"?"===n.text?v.ternary_depth+=1:"*"===n.text&&"TK_RESERVED"===S&&"function"===v.last_text&&(Ve=Ne=!1),s.space_before_token=s.space_before_token||Ne,le(),s.space_before_token=Ve}else le()}else le()},TK_COMMA:function(){if(v.declaration_statement)return je(v.parent.mode)&&(v.declaration_assignment=!1),le(),void(v.declaration_assignment?de(v.declaration_assignment=!1,!0):(s.space_before_token=!0,J.comma_first&&Oe()));le(),v.mode===f.ObjectLiteral||v.mode===f.Statement&&v.parent.mode===f.ObjectLiteral?(v.mode===f.Statement&&ae(),de()):(s.space_before_token=!0,J.comma_first&&Oe())},TK_BLOCK_COMMENT:function(){if(s.raw)return s.add_raw_token(n),void(n.directives&&"end"===n.directives.preserve&&(J.test_output_raw||(s.raw=!1)));if(n.directives)return de(!1,!0),le(),"start"===n.directives.preserve&&(s.raw=!0),void de(!1,!0);if(!E.newline.test(n.text)&&!n.wanted_newline)return s.space_before_token=!0,le(),void(s.space_before_token=!0);var Ne,Ve=function(K){for(var P=[],Y=(K=K.replace(/\x0d/g,"")).indexOf("\n");-1!==Y;)P.push(K.substring(0,Y)),Y=(K=K.substring(Y+1)).indexOf("\n");return K.length&&P.push(K),P}(n.text),j=!1,fe=!1,M=n.whitespace_before,U=M.length;for(de(!1,!0),1<Ve.length&&(function(K,P){for(var Y=0;Y<K.length;Y++)if("*"!==L(K[Y]).charAt(0))return!1;return!0}(Ve.slice(1))?j=!0:function(K,P){for(var Y,V=0,he=K.length;V<he;V++)if((Y=K[V])&&0!==Y.indexOf(P))return!1;return!0}(Ve.slice(1),M)&&(fe=!0)),le(Ve[0]),Ne=1;Ne<Ve.length;Ne++)de(!1,!0),j?le(" "+Ve[Ne].replace(/^\s+/g,"")):fe&&Ve[Ne].length>U?le(Ve[Ne].substring(U)):s.add_token(Ve[Ne]);de(!1,!0)},TK_COMMENT:function(){n.wanted_newline?de(!1,!0):s.trim(!0),s.space_before_token=!0,le(),de(!1,!0)},TK_DOT:function(){ze(),"TK_RESERVED"===S&&Ze(v.last_text)?s.space_before_token=!0:Oe(")"===v.last_text&&J.break_chained_methods),le()},TK_UNKNOWN:function(){le(),"\n"===n.text[n.text.length-1]&&de()},TK_EOF:function(){for(;v.mode===f.Statement;)ae()}},J={},void 0!==(a=a||{}).braces_on_own_line&&(J.brace_style=a.braces_on_own_line?"expand":"collapse"),J.brace_style=a.brace_style?a.brace_style:J.brace_style?J.brace_style:"collapse","expand-strict"===J.brace_style&&(J.brace_style="expand"),J.indent_size=a.indent_size?parseInt(a.indent_size,10):4,J.indent_char=a.indent_char?a.indent_char:" ",J.eol=a.eol?a.eol:"\n",J.preserve_newlines=void 0===a.preserve_newlines||a.preserve_newlines,J.break_chained_methods=void 0!==a.break_chained_methods&&a.break_chained_methods,J.max_preserve_newlines=void 0===a.max_preserve_newlines?0:parseInt(a.max_preserve_newlines,10),J.space_in_paren=void 0!==a.space_in_paren&&a.space_in_paren,J.space_in_empty_paren=void 0!==a.space_in_empty_paren&&a.space_in_empty_paren,J.jslint_happy=void 0!==a.jslint_happy&&a.jslint_happy,J.space_after_anon_function=void 0!==a.space_after_anon_function&&a.space_after_anon_function,J.keep_array_indentation=void 0!==a.keep_array_indentation&&a.keep_array_indentation,J.space_before_conditional=void 0===a.space_before_conditional||a.space_before_conditional,J.unescape_strings=void 0!==a.unescape_strings&&a.unescape_strings,J.wrap_line_length=void 0===a.wrap_line_length?0:parseInt(a.wrap_line_length,10),J.e4x=void 0!==a.e4x&&a.e4x,J.end_with_newline=void 0!==a.end_with_newline&&a.end_with_newline,J.comma_first=void 0!==a.comma_first&&a.comma_first,J.test_output_raw=void 0!==a.test_output_raw&&a.test_output_raw,J.jslint_happy&&(J.space_after_anon_function=!0),a.indent_with_tabs&&(J.indent_char="\t",J.indent_size=1),J.eol=J.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),q="";0<J.indent_size;)q+=J.indent_char,J.indent_size-=1;var Re=0;if(l&&l.length){for(;" "===l.charAt(Re)||"\t"===l.charAt(Re);)ye+=l.charAt(Re),Re+=1;l=l.substring(Re)}function qe(Ne){var Ve=Ne.newlines;if(J.keep_array_indentation&&Be(v.mode))for(j=0;j<Ve;j+=1)de(0<j);else if(J.max_preserve_newlines&&Ve>J.max_preserve_newlines&&(Ve=J.max_preserve_newlines),J.preserve_newlines&&1<Ne.newlines){de();for(var j=1;j<Ve;j+=1)de(!0)}te[(n=Ne).type]()}function Oe(Ne){Ne=void 0!==Ne&&Ne,!s.just_added_newline()&&(J.preserve_newlines&&n.wanted_newline||Ne||J.wrap_line_length&&s.current_line.get_character_count()+n.text.length+(s.space_before_token?1:0)>=J.wrap_line_length)&&de(!1,!0)}function de(Ne,Ve){if(!Ve&&";"!==v.last_text&&","!==v.last_text&&"="!==v.last_text&&"TK_OPERATOR"!==S)for(;v.mode===f.Statement&&!v.if_block&&!v.do_block;)ae();s.add_new_line(Ne)&&(v.multiline_frame=!0)}function $e(){s.just_added_newline()&&(J.keep_array_indentation&&Be(v.mode)&&n.wanted_newline?(s.current_line.push(n.whitespace_before),s.space_before_token=!1):s.set_indent(v.indentation_level)&&(v.line_indent_level=v.indentation_level))}function le(Ne){s.raw?s.add_raw_token(n):(J.comma_first&&"TK_COMMA"===S&&s.just_added_newline()&&","===s.previous_line.last()&&(s.previous_line.pop(),$e(),s.add_token(","),s.space_before_token=!0),Ne=Ne||n.text,$e(),s.add_token(Ne))}function He(){v.indentation_level+=1}function ce(Ne){v?(G.push(v),D=v):D=pe(null,Ne),v=pe(D,Ne)}function Be(Ne){return Ne===f.ArrayLiteral}function je(Ne){return p(Ne,[f.Expression,f.ForInitializer,f.Conditional])}function ae(){0<G.length&&(D=v,v=G.pop(),D.mode===f.Statement&&s.remove_redundant_indentation(D))}function Se(){return v.parent.mode===f.ObjectLiteral&&v.mode===f.Statement&&(":"===v.last_text&&0===v.ternary_depth||"TK_RESERVED"===S&&p(v.last_text,["get","set"]))}function ze(){return!!("TK_RESERVED"===S&&p(v.last_text,["var","let","const"])&&"TK_WORD"===n.type||"TK_RESERVED"===S&&"do"===v.last_text||"TK_RESERVED"===S&&"return"===v.last_text&&!n.wanted_newline||"TK_RESERVED"===S&&"else"===v.last_text&&("TK_RESERVED"!==n.type||"if"!==n.text)||"TK_END_EXPR"===S&&(D.mode===f.ForInitializer||D.mode===f.Conditional)||"TK_WORD"===S&&v.mode===f.BlockStatement&&!v.in_case&&"--"!==n.text&&"++"!==n.text&&"function"!==x&&"TK_WORD"!==n.type&&"TK_RESERVED"!==n.type||v.mode===f.ObjectLiteral&&(":"===v.last_text&&0===v.ternary_depth||"TK_RESERVED"===S&&p(v.last_text,["get","set"])))&&(ce(f.Statement),He(),"TK_RESERVED"===S&&p(v.last_text,["var","let","const"])&&"TK_WORD"===n.type&&(v.declaration_statement=!0),Se()||Oe("TK_RESERVED"===n.type&&p(n.text,["do","for","if","while"])),!0)}function Ze(Ne){return p(Ne,["case","return","do","if","throw","else"])}function Ye(Ne){var Ve=u+(Ne||0);return Ve<0||Ve>=Ee.length?null:Ee[Ve]}function lt(){if("TK_RESERVED"===n.type&&v.mode!==f.ObjectLiteral&&p(n.text,["set","get"])&&(n.type="TK_WORD"),"TK_RESERVED"===n.type&&v.mode===f.ObjectLiteral&&":"==Ye(1).text&&(n.type="TK_WORD"),ze()||!n.wanted_newline||je(v.mode)||"TK_OPERATOR"===S&&"--"!==v.last_text&&"++"!==v.last_text||"TK_EQUALS"===S||!J.preserve_newlines&&"TK_RESERVED"===S&&p(v.last_text,["var","let","const","set","get"])||de(),v.do_block&&!v.do_while){if("TK_RESERVED"===n.type&&"while"===n.text)return s.space_before_token=!0,le(),s.space_before_token=!0,void(v.do_while=!0);de(),v.do_block=!1}if(v.if_block)if(v.else_block||"TK_RESERVED"!==n.type||"else"!==n.text){for(;v.mode===f.Statement;)ae();v.if_block=!1,v.else_block=!1}else v.else_block=!0;return"TK_RESERVED"===n.type&&("case"===n.text||"default"===n.text&&v.in_case_statement)?(de(),(v.case_body||J.jslint_happy)&&(0<v.indentation_level&&(!v.parent||v.indentation_level>v.parent.indentation_level)&&(v.indentation_level-=1),v.case_body=!1),le(),v.in_case=!0,void(v.in_case_statement=!0)):("TK_RESERVED"===n.type&&"function"===n.text&&((p(v.last_text,["}",";"])||s.just_added_newline()&&!p(v.last_text,["[","{",":","=",","]))&&(s.just_added_blankline()||n.comments_before.length||(de(),de(!0))),"TK_RESERVED"===S||"TK_WORD"===S?"TK_RESERVED"===S&&p(v.last_text,["get","set","new","return","export","async"])||"TK_RESERVED"===S&&"default"===v.last_text&&"export"===x?s.space_before_token=!0:de():"TK_OPERATOR"===S||"="===v.last_text?s.space_before_token=!0:(v.multiline_frame||!je(v.mode)&&!Be(v.mode))&&de()),"TK_COMMA"!==S&&"TK_START_EXPR"!==S&&"TK_EQUALS"!==S&&"TK_OPERATOR"!==S||Se()||Oe(),"TK_RESERVED"===n.type&&p(n.text,["function","get","set"])?(le(),void(v.last_word=n.text)):(k="NONE","TK_END_BLOCK"===S?"TK_RESERVED"===n.type&&p(n.text,["else","catch","finally"])?"expand"===J.brace_style||"end-expand"===J.brace_style||"none"===J.brace_style&&n.wanted_newline?k="NEWLINE":(k="SPACE",s.space_before_token=!0):k="NEWLINE":"TK_SEMICOLON"===S&&v.mode===f.BlockStatement?k="NEWLINE":"TK_SEMICOLON"===S&&je(v.mode)?k="SPACE":"TK_STRING"===S?k="NEWLINE":"TK_RESERVED"===S||"TK_WORD"===S||"*"===v.last_text&&"function"===x?k="SPACE":"TK_START_BLOCK"===S?k="NEWLINE":"TK_END_EXPR"===S&&(s.space_before_token=!0,k="NEWLINE"),"TK_RESERVED"===n.type&&p(n.text,m.line_starters)&&")"!==v.last_text&&(k="else"===v.last_text||"export"===v.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===n.type&&p(n.text,["else","catch","finally"])?"TK_END_BLOCK"!==S||"expand"===J.brace_style||"end-expand"===J.brace_style||"none"===J.brace_style&&n.wanted_newline?de():(s.trim(!0),"}"!==s.current_line.last()&&de(),s.space_before_token=!0):"NEWLINE"===k?"TK_RESERVED"===S&&Ze(v.last_text)?s.space_before_token=!0:"TK_END_EXPR"!==S?"TK_START_EXPR"===S&&"TK_RESERVED"===n.type&&p(n.text,["var","let","const"])||":"===v.last_text||("TK_RESERVED"===n.type&&"if"===n.text&&"else"===v.last_text?s.space_before_token=!0:de()):"TK_RESERVED"===n.type&&p(n.text,m.line_starters)&&")"!==v.last_text&&de():v.multiline_frame&&Be(v.mode)&&","===v.last_text&&"}"===x?de():"SPACE"===k&&(s.space_before_token=!0),le(),v.last_word=n.text,"TK_RESERVED"===n.type&&"do"===n.text&&(v.do_block=!0),void("TK_RESERVED"===n.type&&"if"===n.text&&(v.if_block=!0))))}S="TK_START_BLOCK",x="",(s=new _(q,ye)).raw=J.test_output_raw,G=[],ce(f.BlockStatement),this.beautify=function(){var Ne,Ve;for(m=new c(l,J,q),Ee=m.tokenize(),u=0;Ne=Ye();){for(var j=0;j<Ne.comments_before.length;j++)qe(Ne.comments_before[j]);qe(Ne),x=v.last_text,S=Ne.type,v.last_text=Ne.text,u+=1}return Ve=s.get_code(),J.end_with_newline&&(Ve+="\n"),"\n"!=J.eol&&(Ve=Ve.replace(/[\n]/g,J.eol)),Ve}}function T(l){var a=0,s=-1,u=[],m=!0;this.set_indent=function(n){a=l.baseIndentLength+n*l.indent_length,s=n},this.get_character_count=function(){return a},this.is_empty=function(){return m},this.last=function(){return this._empty?null:u[u.length-1]},this.push=function(n){u.push(n),a+=n.length,m=!1},this.pop=function(){var n=null;return m||(n=u.pop(),a-=n.length,m=0===u.length),n},this.remove_indent=function(){0<s&&(s-=1,a-=l.indent_length)},this.trim=function(){for(;" "===this.last();)u.pop(),a-=1;m=0===u.length},this.toString=function(){var n="";return this._empty||(0<=s&&(n=l.indent_cache[s]),n+=u.join("")),n}}function _(l,a){this.indent_cache=[a=a||""],this.baseIndentLength=a.length,this.indent_length=l.length,this.raw=!1;var s=[];this.baseIndentString=a,this.indent_string=l,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new T(this),s.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return s.length},this.add_new_line=function(u){return!(1===this.get_line_number()&&this.just_added_newline()||!u&&this.just_added_newline()||(this.raw||this.add_outputline(),0))},this.get_code=function(){return s.join("\n").replace(/[\r\n\t ]+$/,"")},this.set_indent=function(u){if(1<s.length){for(;u>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(u),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(u){for(var m=0;m<u.newlines;m++)this.add_outputline();this.current_line.push(u.whitespace_before),this.current_line.push(u.text),this.space_before_token=!1},this.add_token=function(u){this.add_space_before_token(),this.current_line.push(u)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_redundant_indentation=function(u){if(!u.multiline_frame&&u.mode!==f.ForInitializer&&u.mode!==f.Conditional)for(var m=u.start_line_index,n=s.length;m<n;)s[m].remove_indent(),m++},this.trim=function(u){for(u=void 0!==u&&u,this.current_line.trim(l,a);u&&1<s.length&&this.current_line.is_empty();)s.pop(),this.current_line=s[s.length-1],this.current_line.trim();this.previous_line=1<s.length?s[s.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){return!!this.just_added_newline()&&(1===s.length||s[s.length-2].is_empty())}}var A=function(l,a,s,u,m,n){this.type=l,this.text=a,this.comments_before=[],this.newlines=s||0,this.wanted_newline=0<s,this.whitespace_before=u||"",this.parent=null,this.directives=null};function c(l,a,s){var u="\n\r\t ".split(""),m=/[0-9]/,n=/[01234567]/,S=/[0123456789abcdefABCDEF]/,x="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: =>".split(" ");this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var q,v,D,G,k,te,J=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof","yield","async","await"]),Ee=/([\s\S]*?)((?:\*\/)|$)/g,ye=/([^\n\r\u2028\u2029]*)/g,pe=/\/\* beautify( \w+[:]\w+)+ \*\//g,Re=/ (\w+)[:](\w+)/g,qe=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,Oe=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;function de(){var $e,le,He=[];if(q=0,v="",te<=k)return["","TK_EOF"];le=G.length?G[G.length-1]:new A("TK_START_BLOCK","{");var ce=l.charAt(k);for(k+=1;p(ce,u);){if(E.newline.test(ce)?"\n"===ce&&"\r"===l.charAt(k-2)||(q+=1,He=[]):He.push(ce),te<=k)return["","TK_EOF"];ce=l.charAt(k),k+=1}if(He.length&&(v=He.join("")),m.test(ce)){var Be=!0,je=!0,ae=m;for("0"===ce&&k<te&&/[Xxo]/.test(l.charAt(k))?(je=Be=!1,ce+=l.charAt(k),ae=/[o]/.test(l.charAt(k+=1))?n:S):(ce="",k-=1);k<te&&ae.test(l.charAt(k));)ce+=l.charAt(k),k+=1,Be&&k<te&&"."===l.charAt(k)&&(ce+=l.charAt(k),k+=1,Be=!1),je&&k<te&&/[Ee]/.test(l.charAt(k))&&(ce+=l.charAt(k),(k+=1)<te&&/[+-]/.test(l.charAt(k))&&(ce+=l.charAt(k),k+=1),Be=je=!1);return[ce,"TK_WORD"]}if(E.isIdentifierStart(l.charCodeAt(k-1))){if(k<te)for(;E.isIdentifierChar(l.charCodeAt(k))&&(ce+=l.charAt(k),(k+=1)!==te););return"TK_DOT"===le.type||"TK_RESERVED"===le.type&&p(le.text,["set","get"])||!p(ce,J)?[ce,"TK_WORD"]:"in"===ce?[ce,"TK_OPERATOR"]:[ce,"TK_RESERVED"]}if("("===ce||"["===ce)return[ce,"TK_START_EXPR"];if(")"===ce||"]"===ce)return[ce,"TK_END_EXPR"];if("{"===ce)return[ce,"TK_START_BLOCK"];if("}"===ce)return[ce,"TK_END_BLOCK"];if(";"===ce)return[ce,"TK_SEMICOLON"];if("/"===ce){var Se="";if("*"===l.charAt(k)){var ze;Ee.lastIndex=k+=1,Se="/*"+(ze=Ee.exec(l))[0],k+=ze[0].length;var Ze=function(Le){if(!Le.match(pe))return null;var Qe={};Re.lastIndex=0;for(var Je=Re.exec(Le);Je;)Qe[Je[1]]=Je[2],Je=Re.exec(Le);return Qe}(Se);return Ze&&"start"===Ze.ignore&&(qe.lastIndex=k,Se+=(ze=qe.exec(l))[0],k+=ze[0].length),[Se=Se.replace(E.lineBreak,"\n"),"TK_BLOCK_COMMENT",Ze]}if("/"===l.charAt(k))return ye.lastIndex=k+=1,Se="//"+(ze=ye.exec(l))[0],k+=ze[0].length,[Se,"TK_COMMENT"]}if("`"===ce||"'"===ce||'"'===ce||("/"===ce||a.e4x&&"<"===ce&&l.slice(k-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/))&&("TK_RESERVED"===le.type&&p(le.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===le.type&&")"===le.text&&le.parent&&"TK_RESERVED"===le.parent.type&&p(le.parent.text,["if","while","for"])||p(le.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var Ye=ce,lt=!1,Ne=!1;if($e=ce,"/"===Ye)for(var Ve=!1;k<te&&(lt||Ve||l.charAt(k)!==Ye)&&!E.newline.test(l.charAt(k));)$e+=l.charAt(k),lt?lt=!1:(lt="\\"===l.charAt(k),"["===l.charAt(k)?Ve=!0:"]"===l.charAt(k)&&(Ve=!1)),k+=1;else if(a.e4x&&"<"===Ye){var j=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/g,fe=l.slice(k-1),M=j.exec(fe);if(M&&0===M.index){for(var U=M[2],K=0;M;){var P=!!M[1],Y=M[2],V=!!M[M.length-1]||"![CDATA["===Y.slice(0,8);if(Y!==U||V||(P?--K:++K),K<=0)break;M=j.exec(fe)}var he=M?M.index+M[0].length:fe.length;return fe=fe.slice(0,he),k+=he-1,[fe=fe.replace(E.lineBreak,"\n"),"TK_STRING"]}}else for(;k<te&&(lt||l.charAt(k)!==Ye&&("`"===Ye||!E.newline.test(l.charAt(k))));)(lt||"`"===Ye)&&E.newline.test(l.charAt(k))?("\r"===l.charAt(k)&&"\n"===l.charAt(k+1)&&(k+=1),$e+="\n"):$e+=l.charAt(k),lt?("x"!==l.charAt(k)&&"u"!==l.charAt(k)||(Ne=!0),lt=!1):lt="\\"===l.charAt(k),k+=1;if(Ne&&a.unescape_strings&&($e=function(Le){for(var Qe,Je=!1,et="",nt=0,rt="",$=0;Je||nt<Le.length;)if(Qe=Le.charAt(nt),nt++,Je){if(Je=!1,"x"===Qe)rt=Le.substr(nt,2),nt+=2;else{if("u"!==Qe){et+="\\"+Qe;continue}rt=Le.substr(nt,4),nt+=4}if(!rt.match(/^[0123456789abcdefABCDEF]+$/))return Le;if(0<=($=parseInt(rt,16))&&$<32){et+="x"===Qe?"\\x"+rt:"\\u"+rt;continue}if(34===$||39===$||92===$)et+="\\"+String.fromCharCode($);else{if("x"===Qe&&126<$&&$<=255)return Le;et+=String.fromCharCode($)}}else"\\"===Qe?Je=!0:et+=Qe;return et}($e)),k<te&&l.charAt(k)===Ye&&($e+=Ye,k+=1,"/"===Ye))for(;k<te&&E.isIdentifierStart(l.charCodeAt(k));)$e+=l.charAt(k),k+=1;return[$e,"TK_STRING"]}if("#"===ce){if(0===G.length&&"!"===l.charAt(k)){for($e=ce;k<te&&"\n"!==ce;)$e+=ce=l.charAt(k),k+=1;return[L($e)+"\n","TK_UNKNOWN"]}var _e="#";if(k<te&&m.test(l.charAt(k))){for(;_e+=ce=l.charAt(k),(k+=1)<te&&"#"!==ce&&"="!==ce;);return"#"===ce||("["===l.charAt(k)&&"]"===l.charAt(k+1)?(_e+="[]",k+=2):"{"===l.charAt(k)&&"}"===l.charAt(k+1)&&(_e+="{}",k+=2)),[_e,"TK_WORD"]}}if("<"===ce&&("?"===l.charAt(k)||"%"===l.charAt(k))){Oe.lastIndex=k-1;var me=Oe.exec(l);if(me)return k+=(ce=me[0]).length-1,[ce=ce.replace(E.lineBreak,"\n"),"TK_STRING"]}if("<"===ce&&"\x3c!--"===l.substring(k-1,k+3)){for(k+=3,ce="\x3c!--";!E.newline.test(l.charAt(k))&&k<te;)ce+=l.charAt(k),k++;return D=!0,[ce,"TK_COMMENT"]}if("-"===ce&&D&&"--\x3e"===l.substring(k-1,k+2))return D=!1,k+=2,["--\x3e","TK_COMMENT"];if("."===ce)return[ce,"TK_DOT"];if(p(ce,x)){for(;k<te&&p(ce+l.charAt(k),x)&&(ce+=l.charAt(k),!(te<=(k+=1))););return","===ce?[ce,"TK_COMMA"]:"="===ce?[ce,"TK_EQUALS"]:[ce,"TK_OPERATOR"]}return[ce,"TK_UNKNOWN"]}this.tokenize=function(){var $e,le,He;te=l.length,k=0,D=!1,G=[];for(var ce=null,Be=[],je=[];!le||"TK_EOF"!==le.type;){for(He=de(),$e=new A(He[1],He[0],q,v);"TK_COMMENT"===$e.type||"TK_BLOCK_COMMENT"===$e.type||"TK_UNKNOWN"===$e.type;)"TK_BLOCK_COMMENT"===$e.type&&($e.directives=He[2]),je.push($e),He=de(),$e=new A(He[1],He[0],q,v);je.length&&($e.comments_before=je,je=[]),"TK_START_BLOCK"===$e.type||"TK_START_EXPR"===$e.type?($e.parent=le,Be.push(ce),ce=$e):("TK_END_BLOCK"===$e.type||"TK_END_EXPR"===$e.type)&&ce&&("]"===$e.text&&"["===ce.text||")"===$e.text&&"("===ce.text||"}"===$e.text&&"{"===ce.text)&&($e.parent=ce.parent,ce=Be.pop()),G.push($e),le=$e}return G}}return{run:function(l,a){function s(ae){return ae.replace(/\s+$/g,"")}var u,m,n,S,x,q,v,D,G,k,te,J,Ee,ye;for(void 0!==(a=a||{}).wrap_line_length&&0!==parseInt(a.wrap_line_length,10)||void 0===a.max_char||0===parseInt(a.max_char,10)||(a.wrap_line_length=a.max_char),m=void 0!==a.indent_inner_html&&a.indent_inner_html,n=void 0===a.indent_size?4:parseInt(a.indent_size,10),S=void 0===a.indent_char?" ":a.indent_char,q=void 0===a.brace_style?"collapse":a.brace_style,x=0===parseInt(a.wrap_line_length,10)?32786:parseInt(a.wrap_line_length||250,10),v=a.unformatted||["a","span","img","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","address","pre"],G=(D=void 0===a.preserve_newlines||a.preserve_newlines)?isNaN(parseInt(a.max_preserve_newlines,10))?32786:parseInt(a.max_preserve_newlines,10):0,k=void 0!==a.indent_handlebars&&a.indent_handlebars,te=void 0===a.wrap_attributes?"auto":a.wrap_attributes,J=void 0===a.wrap_attributes_indent_size?n:parseInt(a.wrap_attributes_indent_size,10)||n,Ee=void 0!==a.end_with_newline&&a.end_with_newline,ye=Array.isArray(a.extra_liners)?a.extra_liners.concat():"string"==typeof a.extra_liners?a.extra_liners.split(","):"head,body,/html".split(","),a.indent_with_tabs&&(S="\t",n=1),(u=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=m,this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,source,!doctype,basefont,base,area,hr,wbr,param,img,isindex,embed".split(","),extra_liners:ye,in_array:function(ae,Se){for(var ze=0;ze<Se.length;ze++)if(ae==Se[ze])return!0;return!1}},this.is_whitespace=function(ae){for(;0<ae.length;ae++)if(!this.Utils.in_array(ae.charAt(0),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var ae="";if(ae=this.input.charAt(this.pos),this.Utils.in_array(ae,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(ae,this.Utils.whitespace);)D&&"\n"==ae&&this.newlines<=G&&(this.newlines+=1),this.pos++,ae=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(ae){this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,ae),this.print_indentation(ae)):(this.line_char_count++,ae.push(" "))},this.get_content=function(){for(var ae="",Se=[];"<"!=this.input.charAt(this.pos);){if(this.pos>=this.input.length)return Se.length?Se.join(""):["","TK_EOF"];if(this.traverse_whitespace())this.space_or_wrap(Se);else{if(k){var ze=this.input.substr(this.pos,3);if("{{#"==ze||"{{/"==ze)break;if("{{!"==ze)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"==this.input.substr(this.pos,2)&&"{{else}}"==this.get_tag(!0))break}ae=this.input.charAt(this.pos),this.pos++,this.line_char_count++,Se.push(ae)}}return Se.length?Se.join(""):""},this.get_contents_to=function(ae){if(this.pos==this.input.length)return["","TK_EOF"];var Se="",ze=new RegExp("</"+ae+"\\s*>","igm");ze.lastIndex=this.pos;var Ze=ze.exec(this.input),Ye=Ze?Ze.index:this.input.length;return this.pos<Ye&&(Se=this.input.substring(this.pos,Ye),this.pos=Ye),Se},this.record_tag=function(ae){this.tags[ae+"count"]?this.tags[ae+"count"]++:this.tags[ae+"count"]=1,this.tags[ae+this.tags[ae+"count"]]=this.indent_level,this.tags[ae+this.tags[ae+"count"]+"parent"]=this.tags.parent,this.tags.parent=ae+this.tags[ae+"count"]},this.retrieve_tag=function(ae){if(this.tags[ae+"count"]){for(var Se=this.tags.parent;Se&&ae+this.tags[ae+"count"]!=Se;)Se=this.tags[Se+"parent"];Se&&(this.indent_level=this.tags[ae+this.tags[ae+"count"]],this.tags.parent=this.tags[Se+"parent"]),delete this.tags[ae+this.tags[ae+"count"]+"parent"],delete this.tags[ae+this.tags[ae+"count"]],1==this.tags[ae+"count"]?delete this.tags[ae+"count"]:this.tags[ae+"count"]--}},this.indent_to_tag=function(ae){if(this.tags[ae+"count"]){for(var Se=this.tags.parent;Se&&ae+this.tags[ae+"count"]!=Se;)Se=this.tags[Se+"parent"];Se&&(this.indent_level=this.tags[ae+this.tags[ae+"count"]])}},this.get_tag=function(ae){var Se,ze,Ze="",Ye=[],lt="",Ne=!1,Ve=!0,j=this.pos,fe=this.line_char_count;ae=void 0!==ae&&ae;do{if(this.pos>=this.input.length)return ae&&(this.pos=j,this.line_char_count=fe),Ye.length?Ye.join(""):["","TK_EOF"];if(Ze=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(Ze,this.Utils.whitespace))Ne=!0;else{if("'"!=Ze&&'"'!=Ze||(Ze+=this.get_unformatted(Ze),Ne=!0),"="==Ze&&(Ne=!1),Ye.length&&"="!=Ye[Ye.length-1]&&">"!=Ze&&Ne){if(this.space_or_wrap(Ye),Ne=!1,!Ve&&"force"==te&&"/"!=Ze){this.print_newline(!0,Ye),this.print_indentation(Ye);for(var M=0;M<J;M++)Ye.push(S)}for(var U=0;U<Ye.length;U++)if(" "==Ye[U]){Ve=!1;break}}if(k&&"<"==ze&&Ze+this.input.charAt(this.pos)=="{{"&&(Ze+=this.get_unformatted("}}"),Ye.length&&" "!=Ye[Ye.length-1]&&"<"!=Ye[Ye.length-1]&&(Ze=" "+Ze),Ne=!0),"<"!=Ze||ze||(Se=this.pos-1,ze="<"),k&&!ze&&2<=Ye.length&&"{"==Ye[Ye.length-1]&&"{"==Ye[Ye.length-2]&&(Se="#"==Ze||"/"==Ze||"!"==Ze?this.pos-3:this.pos-2,ze="{"),this.line_char_count++,Ye.push(Ze),Ye[1]&&("!"==Ye[1]||"?"==Ye[1]||"%"==Ye[1])){Ye=[this.get_comment(Se)];break}if(k&&Ye[1]&&"{"==Ye[1]&&Ye[2]&&"!"==Ye[2]){Ye=[this.get_comment(Se)];break}if(k&&"{"==ze&&2<Ye.length&&"}"==Ye[Ye.length-2]&&"}"==Ye[Ye.length-1])break}}while(">"!=Ze);var K,Y=Ye.join("");K=-1!=Y.indexOf(" ")?Y.indexOf(" "):Y.indexOf("{"==Y[0]?"}":">");var V=Y.substring("<"!=Y[0]&&k?"#"==Y[2]?3:2:1,K).toLowerCase();return"/"==Y.charAt(Y.length-2)||this.Utils.in_array(V,this.Utils.single_token)?ae||(this.tag_type="SINGLE"):k&&"{"==Y[0]&&"else"==V?ae||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(V,v)?(lt=this.get_unformatted("</"+V+">",Y),Ye.push(lt),this.tag_type="SINGLE"):"script"==V&&(-1==Y.search("type")||-1<Y.search("type")&&-1<Y.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/))?ae||(this.record_tag(V),this.tag_type="SCRIPT"):"style"==V&&(-1==Y.search("type")||-1<Y.search("type")&&-1<Y.search("text/css"))?ae||(this.record_tag(V),this.tag_type="STYLE"):"!"==V.charAt(0)?ae||(this.tag_type="SINGLE",this.traverse_whitespace()):ae||("/"==V.charAt(0)?(this.retrieve_tag(V.substring(1)),this.tag_type="END"):(this.record_tag(V),"html"!=V.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(Ye),this.Utils.in_array(V,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!=this.output[this.output.length-2]&&this.print_newline(!0,this.output))),ae&&(this.pos=j,this.line_char_count=fe),Ye.join("")},this.get_comment=function(ae){var Se="",ze=">",Ze=!1;this.pos=ae;var Ye=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&((Se+=Ye)[Se.length-1]!=ze[ze.length-1]||-1==Se.indexOf(ze));)!Ze&&Se.length<10&&(0===Se.indexOf("<![if")?(ze="<![endif]>",Ze=!0):0===Se.indexOf("<![cdata[")?(ze="]]>",Ze=!0):0===Se.indexOf("<![")?(ze="]>",Ze=!0):0===Se.indexOf("\x3c!--")?(ze="--\x3e",Ze=!0):0===Se.indexOf("{{!")?(ze="}}",Ze=!0):0===Se.indexOf("<?")?(ze="?>",Ze=!0):0===Se.indexOf("<%")&&(ze="%>",Ze=!0)),Ye=this.input.charAt(this.pos),this.pos++;return Se},this.get_unformatted=function(ae,Se){if(Se&&-1!=Se.toLowerCase().indexOf(ae))return"";var ze="",Ze="",Ye=0,lt=!0;do{if(this.pos>=this.input.length)return Ze;if(ze=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(ze,this.Utils.whitespace)){if(!lt){this.line_char_count--;continue}if("\n"==ze||"\r"==ze){Ze+="\n",this.line_char_count=0;continue}}Ze+=ze,this.line_char_count++,lt=!0,k&&"{"==ze&&Ze.length&&"{"==Ze[Ze.length-2]&&(Ye=(Ze+=this.get_unformatted("}}")).length)}while(-1==Ze.toLowerCase().indexOf(ae,Ye));return Ze},this.get_token=function(){var ae;if("TK_TAG_SCRIPT"==this.last_token||"TK_TAG_STYLE"==this.last_token){var Se=this.last_token.substr(7);return"string"!=typeof(ae=this.get_contents_to(Se))?ae:[ae,"TK_"+Se]}return"CONTENT"==this.current_mode?"string"!=typeof(ae=this.get_content())?ae:[ae,"TK_CONTENT"]:"TAG"==this.current_mode?"string"!=typeof(ae=this.get_tag())?ae:[ae,"TK_TAG_"+this.tag_type]:void 0},this.get_full_indent=function(ae){return(ae=this.indent_level+ae||0)<1?"":new Array(ae+1).join(this.indent_string)},this.is_unformatted=function(ae,Se){if(!this.Utils.in_array(ae,Se))return!1;if("a"!=ae.toLowerCase()||!this.Utils.in_array("a",Se))return!0;var ze=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!(ze&&!this.Utils.in_array(ze,Se))},this.printer=function(ae,Se,ze,Ze,Ye){this.input=ae||"",this.output=[],this.indent_character=Se,this.indent_string="",this.indent_size=ze,this.brace_style=Ye,this.indent_level=0,this.wrap_line_length=Ze;for(var lt=this.line_char_count=0;lt<this.indent_size;lt++)this.indent_string+=this.indent_character;this.print_newline=function(Ne,Ve){this.line_char_count=0,Ve&&Ve.length&&(Ne||"\n"!=Ve[Ve.length-1])&&("\n"!=Ve[Ve.length-1]&&(Ve[Ve.length-1]=s(Ve[Ve.length-1])),Ve.push("\n"))},this.print_indentation=function(Ne){for(var Ve=0;Ve<this.indent_level;Ve++)Ne.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(Ne){this.is_whitespace(Ne)&&!this.output.length||((Ne||""!==Ne)&&this.output.length&&"\n"==this.output[this.output.length-1]&&(this.print_indentation(this.output),Ne=Ne.replace(/^\s+/g,"")),this.print_token_raw(Ne))},this.print_token_raw=function(Ne){0<this.newlines&&(Ne=s(Ne)),Ne&&""!==Ne&&(1<Ne.length&&"\n"==Ne[Ne.length-1]?(this.output.push(Ne.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(Ne));for(var Ve=0;Ve<this.newlines;Ve++)this.print_newline(0<Ve,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){0<this.indent_level&&this.indent_level--}},this}).printer(l,S,n,x,q);;){var pe=u.get_token();if(u.token_text=pe[0],u.token_type=pe[1],"TK_EOF"==u.token_type)break;switch(u.token_type){case"TK_TAG_START":u.print_newline(!1,u.output),u.print_token(u.token_text),u.indent_content&&(u.indent(),u.indent_content=!1),u.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":u.print_newline(!1,u.output),u.print_token(u.token_text),u.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"==u.last_token&&""===u.last_text){var Re=u.token_text.match(/\w+/)[0],qe=null;u.output.length&&(qe=u.output[u.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),(null==qe||qe[1]!=Re&&!u.Utils.in_array(qe[1],v))&&u.print_newline(!1,u.output)}u.print_token(u.token_text),u.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var Oe=u.token_text.match(/^\s*<([a-z-]+)/i);Oe&&u.Utils.in_array(Oe[1],v)||u.print_newline(!1,u.output),u.print_token(u.token_text),u.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":u.print_token(u.token_text),u.indent_content&&(u.indent(),u.indent_content=!1),u.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":case"TK_CONTENT":u.print_token(u.token_text),u.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==u.token_text){u.print_newline(!1,u.output);var de,$e=u.token_text,le=1;"TK_SCRIPT"==u.token_type?de=w:"TK_STYLE"==u.token_type&&(de=O),"keep"==a.indent_scripts?le=0:"separate"==a.indent_scripts&&(le=-u.indent_level);var He=u.get_full_indent(le);if(de)$e=de($e.replace(/^\s*/,He),a);else{var ce=$e.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(u.indent_string).length-1,Be=u.get_full_indent(le-ce);$e=$e.replace(/^\s*/,He).replace(/\r\n|\r|\n/g,"\n"+Be).replace(/\s+$/,"")}$e&&(u.print_token_raw($e),u.print_newline(!0,u.output))}u.current_mode="TAG";break;default:""!==u.token_text&&u.print_token(u.token_text)}u.last_token=u.token_type,u.last_text=u.token_text}var je=u.output.join("").replace(/[\r\n\t ]+$/,"");return Ee&&(je+="\n"),je}}},t.extend(t.FE.DEFAULTS,{codeMirror:window.CodeMirror,codeMirrorOptions:{lineNumbers:!0,tabMode:"indent",indentWithTabs:!0,lineWrapping:!0,mode:"text/html",tabSize:2},codeBeautifierOptions:{end_with_newline:!0,indent_inner_html:!0,extra_liners:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","ol","table","dl"],brace_style:"expand",indent_char:"\t",indent_size:1,wrap_line_length:0},codeViewKeepActiveButtons:["fullscreen"]}),t.FE.PLUGINS.codeView=function(e){var o,i;function y(){return e.$box.hasClass("fr-code-view")}function E(){return i?i.getValue():o.val()}function O(){y()&&(i&&i.setSize(null,e.opts.height?e.opts.height:"auto"),e.opts.heightMin||e.opts.height?e.$box.find(".CodeMirror-scroll, .CodeMirror-gutters").css("min-height",e.opts.heightMin||e.opts.height):e.$box.find(".CodeMirror-scroll, .CodeMirror-gutters").css("min-height",""))}var p,L=!1;function w(){y()&&e.events.trigger("blur")}function f(){y()&&L&&e.events.trigger("focus")}function T(A){void 0===A&&(A=!y());var c,l,a=e.$tb.find('.fr-command[data-cmd="html"]');A?(e.popups.hideAll(),function R(A){o||(function(){o=t('<textarea class="fr-code" tabIndex="-1">'),e.$wp.append(o),o.attr("dir",e.opts.direction),e.$box.hasClass("fr-basic")||(p=t('<a data-cmd="html" title="Code View" class="fr-command fr-btn html-switch'+(e.helpers.isMobile()?"":" fr-desktop")+'" role="button" tabIndex="-1"><i class="fa fa-code"></i></button>'),e.$box.append(p),e.events.bindClick(e.$box,"a.html-switch",function(){e.events.trigger("commands.before",["html"]),T(!1),e.events.trigger("commands.after",["html"])}));var S=function(){return!y()};e.events.on("buttons.refresh",S),e.events.on("copy",S,!0),e.events.on("cut",S,!0),e.events.on("paste",S,!0),e.events.on("destroy",_,!0),e.events.on("html.set",function(){y()&&T(!0)}),e.events.on("codeView.update",O),e.events.on("form.submit",function(){y()&&(e.html.set(E()),e.events.trigger("contentChanged",[],!0))},!0)}(),!i&&e.opts.codeMirror?((i=e.opts.codeMirror.fromTextArea(o.get(0),e.opts.codeMirrorOptions)).on("blur",w),i.on("focus",f)):(e.events.$on(o,"keydown keyup change input",function(){e.opts.height?this.removeAttribute("rows"):(this.rows=1,this.style.height=0===this.value.length?"auto":this.scrollHeight+"px")}),e.events.$on(o,"blur",w),e.events.$on(o,"focus",f))),e.undo.saveStep(),e.html.cleanEmptyTags(),e.html.cleanWhiteTags(!0),e.core.hasFocus()&&(e.core.isEmpty()||(e.selection.save(),e.$el.find('.fr-marker[data-type="true"]:first').replaceWith('<span class="fr-tmp fr-sm">F</span>'),e.$el.find('.fr-marker[data-type="false"]:last').replaceWith('<span class="fr-tmp fr-em">F</span>')));var c=e.html.get(!1,!0);e.$el.find("span.fr-tmp").remove(),e.$box.toggleClass("fr-code-view",!0);var l,a,s=!1;if(e.core.hasFocus()&&(s=!0,e.events.disableBlur(),e.$el.blur()),c=(c=c.replace(/<span class="fr-tmp fr-sm">F<\/span>/,"FROALA-SM")).replace(/<span class="fr-tmp fr-em">F<\/span>/,"FROALA-EM"),e.codeBeautifier&&(c=e.codeBeautifier.run(c,e.opts.codeBeautifierOptions)),i){l=c.indexOf("FROALA-SM"),(a=c.indexOf("FROALA-EM"))<l?l=a:a-=9;var u=(c=c.replace(/FROALA-SM/g,"").replace(/FROALA-EM/g,"")).substring(0,l).length-c.substring(0,l).replace(/\n/g,"").length,m=c.substring(0,a).length-c.substring(0,a).replace(/\n/g,"").length;l=c.substring(0,l).length-c.substring(0,c.substring(0,l).lastIndexOf("\n")+1).length,a=c.substring(0,a).length-c.substring(0,c.substring(0,a).lastIndexOf("\n")+1).length,i.setSize(null,e.opts.height?e.opts.height:"auto"),e.opts.heightMin&&e.$box.find(".CodeMirror-scroll").css("min-height",e.opts.heightMin),i.setValue(c),L=!s,i.focus(),L=!0,i.setSelection({line:u,ch:l},{line:m,ch:a}),i.refresh(),i.clearHistory()}else{l=c.indexOf("FROALA-SM"),a=c.indexOf("FROALA-EM")-9,e.opts.heightMin&&o.css("min-height",e.opts.heightMin),e.opts.height&&o.css("height",e.opts.height),e.opts.heightMax&&o.css("max-height",e.opts.height||e.opts.heightMax),o.val(c.replace(/FROALA-SM/g,"").replace(/FROALA-EM/g,"")).trigger("change");var n=t(e.o_doc).scrollTop();L=!s,o.focus(),L=!0,o.get(0).setSelectionRange(l,a),t(e.o_doc).scrollTop(n)}e.$tb.find(" > .fr-command").not(A).filter(function(){return e.opts.codeViewKeepActiveButtons.indexOf(t(this).data("cmd"))<0}).addClass("fr-disabled").attr("aria-disabled",!0),A.addClass("fr-active").attr("aria-pressed",!0),!e.helpers.isMobile()&&e.opts.toolbarInline&&e.toolbar.hide()}(a)):(e.$box.toggleClass("fr-code-view",!1),c=a,l=E(),e.html.set(l),e.$el.blur(),e.$tb.find(" > .fr-command").not(c).removeClass("fr-disabled").attr("aria-disabled",!1),c.removeClass("fr-active").attr("aria-pressed",!1),e.selection.setAtStart(e.el),e.selection.restore(),e.placeholder.refresh(),e.undo.saveStep())}function _(){y()&&T(!1),i&&i.toTextArea(),o.val("").removeData().remove(),o=null,p&&(p.remove(),p=null)}return{_init:function(){if(!e.$wp)return!1},toggle:T,isActive:y,get:E}},t.FE.RegisterCommand("html",{title:"Code View",undo:!1,focus:!1,forcedRefresh:!0,toggle:!0,callback:function(){this.codeView.toggle()},plugin:"codeView"}),t.FE.DefineIcon("html",{NAME:"code"}),t.extend(t.FE.POPUP_TEMPLATES,{"colors.picker":"[_BUTTONS_][_TEXT_COLORS_][_BACKGROUND_COLORS_][_CUSTOM_COLOR_]"}),t.extend(t.FE.DEFAULTS,{colorsText:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsBackground:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsStep:7,colorsHEXInput:!0,colorsDefaultTab:"text",colorsButtons:["colorsBack","|","-"]}),t.FE.PLUGINS.colors=function(e){function o(){e.popups.hide("colors.picker")}function i(p){for(var L="text"==p?e.opts.colorsText:e.opts.colorsBackground,w='<div class="fr-color-set fr-'+p+"-color"+(e.opts.colorsDefaultTab==p||"text"!=e.opts.colorsDefaultTab&&"background"!=e.opts.colorsDefaultTab&&"text"==p?" fr-selected-set":"")+'">',f=0;f<L.length;f++)0!==f&&f%e.opts.colorsStep==0&&(w+="<br>"),w+="REMOVE"!=L[f]?'<span class="fr-command fr-select-color" style="background: '+L[f]+';" tabIndex="-1" aria-selected="false" role="button" data-cmd="'+p+'Color" data-param1="'+L[f]+'"><span class="fr-sr-only">'+e.language.translate("Color")+" "+L[f]+"&nbsp;&nbsp;&nbsp;</span></span>":'<span class="fr-command fr-select-color" data-cmd="'+p+'Color" tabIndex="-1" role="button" data-param1="REMOVE" title="'+e.language.translate("Clear Formatting")+'">'+e.icon.create("remove")+'<span class="fr-sr-only">'+e.language.translate("Clear Formatting")+"</span></span>";return w+"</div>"}function y(p){var L,w=e.popups.get("colors.picker"),f=t(e.selection.element());L="background"==p?"background-color":"color";var R=w.find(".fr-"+p+"-color .fr-select-color");for(R.find(".fr-selected-color").remove(),R.removeClass("fr-active-item"),R.not('[data-param1="REMOVE"]').attr("aria-selected",!1);f.get(0)!=e.el;){if("transparent"!=f.css(L)&&"rgba(0, 0, 0, 0)"!=f.css(L)){var T=w.find(".fr-"+p+'-color .fr-select-color[data-param1="'+e.helpers.RGBToHex(f.css(L))+'"]');T.append('<span class="fr-selected-color" aria-hidden="true">\uf00c</span>'),T.addClass("fr-active-item").attr("aria-selected",!0);break}f=f.parent()}var _=w.find(".fr-color-hex-layer input");_.length&&_.val(e.helpers.RGBToHex(f.css(L))).trigger("change")}function E(p){"REMOVE"!=p?e.format.applyStyle("background-color",e.helpers.HEXtoRGB(p)):e.format.removeStyle("background-color"),o()}function O(p){"REMOVE"!=p?e.format.applyStyle("color",e.helpers.HEXtoRGB(p)):e.format.removeStyle("color"),o()}return{showColorsPopup:function(){var p=e.$tb.find('.fr-command[data-cmd="color"]'),L=e.popups.get("colors.picker");if(L||(L=function(){var R,T='<div class="fr-buttons fr-colors-buttons">';e.opts.toolbarInline&&0<e.opts.colorsButtons.length&&(T+=e.button.buildList(e.opts.colorsButtons)),T+=(R='<div class="fr-colors-tabs fr-group">',R+='<span class="fr-colors-tab '+("background"==e.opts.colorsDefaultTab?"":"fr-selected-tab ")+'fr-command" tabIndex="-1" role="button" aria-pressed="'+("background"!=e.opts.colorsDefaultTab)+'" data-param1="text" data-cmd="colorChangeSet" title="'+e.language.translate("Text")+'">'+e.language.translate("Text")+"</span>",(R+='<span class="fr-colors-tab '+("background"==e.opts.colorsDefaultTab?"fr-selected-tab ":"")+'fr-command" tabIndex="-1" role="button" aria-pressed="'+("background"==e.opts.colorsDefaultTab)+'" data-param1="background" data-cmd="colorChangeSet" title="'+e.language.translate("Background")+'">'+e.language.translate("Background")+"</span>")+"</div></div>");var _="";e.opts.colorsHEXInput&&(_='<div class="fr-color-hex-layer fr-active fr-layer" id="fr-color-hex-layer-'+e.id+'"><div class="fr-input-line"><input maxlength="7" id="fr-color-hex-layer-text-'+e.id+'" type="text" placeholder="'+e.language.translate("HEX Color")+'" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="customColor" tabIndex="2" role="button">'+e.language.translate("OK")+"</button></div></div>");var A,c={buttons:T,text_colors:i("text"),background_colors:i("background"),custom_color:_},l=e.popups.create("colors.picker",c);return A=l,e.events.on("popup.tab",function(a){var s=t(a.currentTarget);if(!e.popups.isVisible("colors.picker")||!s.is("span"))return!0;var u=a.which,m=!0;if(t.FE.KEYCODE.TAB==u){var n=A.find(".fr-buttons");m=!e.accessibility.focusToolbar(n,!!a.shiftKey)}else if(t.FE.KEYCODE.ARROW_UP==u||t.FE.KEYCODE.ARROW_DOWN==u||t.FE.KEYCODE.ARROW_LEFT==u||t.FE.KEYCODE.ARROW_RIGHT==u){if(s.is("span.fr-select-color")){var S=s.parent().find("span.fr-select-color"),x=S.index(s),q=e.opts.colorsStep,v=Math.floor(S.length/q),D=x%q,k=Math.floor(x/q)*q+D,te=v*q;t.FE.KEYCODE.ARROW_UP==u?k=((k-q)%te+te)%te:t.FE.KEYCODE.ARROW_DOWN==u?k=(k+q)%te:t.FE.KEYCODE.ARROW_LEFT==u?k=((k-1)%te+te)%te:t.FE.KEYCODE.ARROW_RIGHT==u&&(k=(k+1)%te);var J=t(S.get(k));e.events.disableBlur(),J.focus(),m=!1}}else t.FE.KEYCODE.ENTER==u&&(e.button.exec(s),m=!1);return!1===m&&(a.preventDefault(),a.stopPropagation()),m},!0),l}()),!L.hasClass("fr-active"))if(e.popups.setContainer("colors.picker",e.$tb),y(L.find(".fr-selected-tab").attr("data-param1")),p.is(":visible")){var w=p.offset().left+p.outerWidth()/2,f=p.offset().top+(e.opts.toolbarBottom?10:p.outerHeight()-10);e.popups.show("colors.picker",w,f,p.outerHeight())}else e.position.forSelection(L),e.popups.show("colors.picker")},hideColorsPopup:o,changeSet:function(p,L){p.hasClass("fr-selected-tab")||(p.siblings().removeClass("fr-selected-tab").attr("aria-pressed",!1),p.addClass("fr-selected-tab").attr("aria-pressed",!0),p.parents(".fr-popup").find(".fr-color-set").removeClass("fr-selected-set"),p.parents(".fr-popup").find(".fr-color-set.fr-"+L+"-color").addClass("fr-selected-set"),y(L)),e.accessibility.focusPopup(p.parents(".fr-popup"))},background:E,customColor:function(){var p=e.popups.get("colors.picker"),L=p.find(".fr-color-hex-layer input");if(L.length){var w=L.val();"background"==p.find(".fr-selected-tab").attr("data-param1")?E(w):O(w)}},text:O,back:function(){e.popups.hide("colors.picker"),e.toolbar.showInline()}}},t.FE.DefineIcon("colors",{NAME:"tint"}),t.FE.RegisterCommand("color",{title:"Colors",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("colors.picker")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("colors.picker")):this.colors.showColorsPopup()},plugin:"colors"}),t.FE.RegisterCommand("textColor",{undo:!0,callback:function(e,o){this.colors.text(o)}}),t.FE.RegisterCommand("backgroundColor",{undo:!0,callback:function(e,o){this.colors.background(o)}}),t.FE.RegisterCommand("colorChangeSet",{undo:!1,focus:!1,callback:function(e,o){var i=this.popups.get("colors.picker").find('.fr-command[data-cmd="'+e+'"][data-param1="'+o+'"]');this.colors.changeSet(i,o)}}),t.FE.DefineIcon("colorsBack",{NAME:"arrow-left"}),t.FE.RegisterCommand("colorsBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.colors.back()}}),t.FE.RegisterCommand("customColor",{title:"OK",undo:!0,callback:function(){this.colors.customColor()}}),t.FE.DefineIcon("remove",{NAME:"eraser"}),t.extend(t.FE.DEFAULTS,{dragInline:!0}),t.FE.PLUGINS.draggable=function(e){function o(R){return!(!R.originalEvent||!R.originalEvent.target||R.originalEvent.target.nodeType!=Node.TEXT_NODE)||(R.target&&"A"==R.target.tagName&&1==R.target.childNodes.length&&"IMG"==R.target.childNodes[0].tagName&&(R.target=R.target.childNodes[0]),t(R.target).hasClass("fr-draggable")?(e.undo.canDo()||e.undo.saveStep(),e.$el.attr("contenteditable",!!e.opts.dragInline),e.opts.toolbarInline&&e.toolbar.hide(),t(R.target).addClass("fr-dragging"),e.browser.msie||e.browser.edge||e.selection.clear(),void R.originalEvent.dataTransfer.setData("text","Froala")):(R.preventDefault(),!1))}function i(R){return!(R&&("HTML"==R.tagName||"BODY"==R.tagName||e.node.isElement(R)))}function y(R,T,_){e.opts.iframe&&(R+=e.$iframe.offset().top,T+=e.$iframe.offset().left),f.offset().top!=R&&f.css("top",R),f.offset().left!=T&&f.css("left",T),f.width()!=_&&f.css("width",_)}function E(R){R.originalEvent.dataTransfer.dropEffect="move",e.opts.dragInline?function(){for(var T=null,_=0;_<t.FE.INSTANCES.length;_++)if((T=t.FE.INSTANCES[_].$el.find(".fr-dragging")).length)return T.get(0)}()||!e.browser.msie&&!e.browser.edge||R.preventDefault():(R.preventDefault(),function(T){var _=e.doc.elementFromPoint(T.originalEvent.pageX-e.win.pageXOffset,T.originalEvent.pageY-e.win.pageYOffset);if(!i(_)){for(var A=0,c=_;!i(c)&&c==_&&0<T.originalEvent.pageY-e.win.pageYOffset-A;)A++,c=e.doc.elementFromPoint(T.originalEvent.pageX-e.win.pageXOffset,T.originalEvent.pageY-e.win.pageYOffset-A);(!i(c)||f&&0===e.$el.find(c).length&&c!=f.get(0))&&(c=null);for(var l=0,a=_;!i(a)&&a==_&&T.originalEvent.pageY-e.win.pageYOffset+l<t(e.doc).height();)l++,a=e.doc.elementFromPoint(T.originalEvent.pageX-e.win.pageXOffset,T.originalEvent.pageY-e.win.pageYOffset+l);(!i(a)||f&&0===e.$el.find(a).length&&a!=f.get(0))&&(a=null),_=null==a&&c?c:a&&null==c?a:a&&c?A<l?c:a:null}if(!t(_).hasClass("fr-drag-helper"))if(_&&!e.node.isBlock(_)&&(_=e.node.blockParent(_)),_&&0<=["TD","TH","TR","THEAD","TBODY"].indexOf(_.tagName)&&(_=t(_).parents("table").get(0)),_&&0<=["LI"].indexOf(_.tagName)&&(_=t(_).parents("UL, OL").get(0)),_&&!t(_).hasClass("fr-drag-helper")){var s;f||(t.FE.$draggable_helper||(t.FE.$draggable_helper=t('<div class="fr-drag-helper"></div>')),f=t.FE.$draggable_helper,e.events.on("shared.destroy",function(){f.html("").removeData().remove(),f=null},!0)),s=T.originalEvent.pageY<t(_).offset().top+t(_).outerHeight()/2;var u=t(_),m=0;s||0!==u.next().length?(s||(u=u.next()),"before"==f.data("fr-position")&&u.is(f.data("fr-tag"))||(0<u.prev().length&&(m=parseFloat(u.prev().css("margin-bottom"))||0),m=Math.max(m,parseFloat(u.css("margin-top"))||0),y(u.offset().top-m/2-e.$box.offset().top,u.offset().left-e.win.pageXOffset-e.$box.offset().left,u.width()),f.data("fr-position","before"))):"after"==f.data("fr-position")&&u.is(f.data("fr-tag"))||(m=parseFloat(u.css("margin-bottom"))||0,y(u.offset().top+t(_).height()+m/2-e.$box.offset().top,u.offset().left-e.win.pageXOffset-e.$box.offset().left,u.width()),f.data("fr-position","after")),f.data("fr-tag",u),f.addClass("fr-visible"),f.appendTo(e.$box)}else f&&0<e.$box.find(f).length&&f.removeClass("fr-visible")}(R))}function O(R){R.originalEvent.dataTransfer.dropEffect="move",e.opts.dragInline||R.preventDefault()}function p(R){e.$el.attr("contenteditable",!0);var T=e.$el.find(".fr-dragging");f&&f.hasClass("fr-visible")&&e.$box.find(f).length?L(R):T.length&&(R.preventDefault(),R.stopPropagation()),f&&e.$box.find(f).length&&f.removeClass("fr-visible"),T.removeClass("fr-dragging")}function L(R){var T,_;e.$el.attr("contenteditable",!0);for(var A=0;A<t.FE.INSTANCES.length;A++)if((T=t.FE.INSTANCES[A].$el.find(".fr-dragging")).length){_=t.FE.INSTANCES[A];break}if(T.length){if(R.preventDefault(),R.stopPropagation(),f&&f.hasClass("fr-visible")&&e.$box.find(f).length)f.data("fr-tag")[f.data("fr-position")]('<span class="fr-marker"></span>'),f.removeClass("fr-visible");else if(!1===e.markers.insertAtPoint(R.originalEvent))return!1;if(T.removeClass("fr-dragging"),!1===(T=e.events.chainTrigger("element.beforeDrop",T)))return!1;var c=T;if(T.parent().is("A")&&1==T.parent().get(0).childNodes.length&&(c=T.parent()),e.core.isEmpty()?e.events.focus():(e.$el.find(".fr-marker").replaceWith(t.FE.MARKERS),e.selection.restore()),_==e||e.undo.canDo()||e.undo.saveStep(),e.core.isEmpty())e.$el.html(c);else{var l=e.markers.insert();0===c.find(l).length?t(l).replaceWith(c):0===T.find(l).length&&t(l).replaceWith(T),T.after(t.FE.MARKERS),e.selection.restore()}return e.popups.hideAll(),e.selection.save(),e.$el.find(e.html.emptyBlockTagsQuery()).not("TD, TH, LI, .fr-inner").not(e.opts.htmlAllowedEmptyTags.join(",")).remove(),e.html.wrap(),e.html.fillEmptyBlocks(),e.selection.restore(),e.undo.saveStep(),e.opts.iframe&&e.size.syncIframe(),_!=e&&(_.popups.hideAll(),_.$el.find(_.html.emptyBlockTagsQuery()).not("TD, TH, LI, .fr-inner").remove(),_.html.wrap(),_.html.fillEmptyBlocks(),_.undo.saveStep(),_.events.trigger("element.dropped"),_.opts.iframe&&_.size.syncIframe()),e.events.trigger("element.dropped",[c]),!1}f&&f.removeClass("fr-visible"),e.undo.canDo()||e.undo.saveStep(),setTimeout(function(){e.undo.saveStep()},0)}function w(R){if(R&&"DIV"==R.tagName&&e.node.hasClass(R,"fr-drag-helper"))R.parentNode.removeChild(R);else if(R&&R.nodeType==Node.ELEMENT_NODE)for(var T=R.querySelectorAll("div.fr-drag-helper"),_=0;_<T.length;_++)T[_].parentNode.removeChild(T[_])}var f;return{_init:function(){e.opts.enter==t.FE.ENTER_BR&&(e.opts.dragInline=!0),e.events.on("dragstart",o,!0),e.events.on("dragover",E,!0),e.events.on("dragenter",O,!0),e.events.on("document.dragend",p,!0),e.events.on("document.drop",p,!0),e.events.on("drop",L,!0),e.events.on("html.processGet",w)}}},t.extend(t.FE.POPUP_TEMPLATES,{emoticons:"[_BUTTONS_][_EMOTICONS_]"}),t.extend(t.FE.DEFAULTS,{emoticonsStep:8,emoticonsSet:[{code:"1f600",desc:"Grinning face"},{code:"1f601",desc:"Grinning face with smiling eyes"},{code:"1f602",desc:"Face with tears of joy"},{code:"1f603",desc:"Smiling face with open mouth"},{code:"1f604",desc:"Smiling face with open mouth and smiling eyes"},{code:"1f605",desc:"Smiling face with open mouth and cold sweat"},{code:"1f606",desc:"Smiling face with open mouth and tightly-closed eyes"},{code:"1f607",desc:"Smiling face with halo"},{code:"1f608",desc:"Smiling face with horns"},{code:"1f609",desc:"Winking face"},{code:"1f60a",desc:"Smiling face with smiling eyes"},{code:"1f60b",desc:"Face savoring delicious food"},{code:"1f60c",desc:"Relieved face"},{code:"1f60d",desc:"Smiling face with heart-shaped eyes"},{code:"1f60e",desc:"Smiling face with sunglasses"},{code:"1f60f",desc:"Smirking face"},{code:"1f610",desc:"Neutral face"},{code:"1f611",desc:"Expressionless face"},{code:"1f612",desc:"Unamused face"},{code:"1f613",desc:"Face with cold sweat"},{code:"1f614",desc:"Pensive face"},{code:"1f615",desc:"Confused face"},{code:"1f616",desc:"Confounded face"},{code:"1f617",desc:"Kissing face"},{code:"1f618",desc:"Face throwing a kiss"},{code:"1f619",desc:"Kissing face with smiling eyes"},{code:"1f61a",desc:"Kissing face with closed eyes"},{code:"1f61b",desc:"Face with stuck out tongue"},{code:"1f61c",desc:"Face with stuck out tongue and winking eye"},{code:"1f61d",desc:"Face with stuck out tongue and tightly-closed eyes"},{code:"1f61e",desc:"Disappointed face"},{code:"1f61f",desc:"Worried face"},{code:"1f620",desc:"Angry face"},{code:"1f621",desc:"Pouting face"},{code:"1f622",desc:"Crying face"},{code:"1f623",desc:"Persevering face"},{code:"1f624",desc:"Face with look of triumph"},{code:"1f625",desc:"Disappointed but relieved face"},{code:"1f626",desc:"Frowning face with open mouth"},{code:"1f627",desc:"Anguished face"},{code:"1f628",desc:"Fearful face"},{code:"1f629",desc:"Weary face"},{code:"1f62a",desc:"Sleepy face"},{code:"1f62b",desc:"Tired face"},{code:"1f62c",desc:"Grimacing face"},{code:"1f62d",desc:"Loudly crying face"},{code:"1f62e",desc:"Face with open mouth"},{code:"1f62f",desc:"Hushed face"},{code:"1f630",desc:"Face with open mouth and cold sweat"},{code:"1f631",desc:"Face screaming in fear"},{code:"1f632",desc:"Astonished face"},{code:"1f633",desc:"Flushed face"},{code:"1f634",desc:"Sleeping face"},{code:"1f635",desc:"Dizzy face"},{code:"1f636",desc:"Face without mouth"},{code:"1f637",desc:"Face with medical mask"}],emoticonsButtons:["emoticonsBack","|"],emoticonsUseImage:!0}),t.FE.PLUGINS.emoticons=function(e){function o(){if(!e.selection.isCollapsed())return!1;var i=e.selection.element(),y=e.selection.endElement();if(i&&e.node.hasClass(i,"fr-emoticon"))return i;if(y&&e.node.hasClass(y,"fr-emoticon"))return y;var E=e.selection.ranges(0),O=E.startContainer;if(O.nodeType==Node.ELEMENT_NODE&&0<O.childNodes.length&&0<E.startOffset){var p=O.childNodes[E.startOffset-1];if(e.node.hasClass(p,"fr-emoticon"))return p}return!1}return{_init:function(){var i=function(){for(var y=e.el.querySelectorAll(".fr-emoticon:not(.fr-deletable)"),E=0;E<y.length;E++)y[E].className+=" fr-deletable"};i(),e.events.on("html.set",i),e.events.on("keydown",function(y){if(e.keys.isCharacter(y.which)&&e.selection.inEditor()){var E=e.selection.ranges(0),O=o();e.node.hasClass(O,"fr-emoticon-img")&&O&&(0===E.startOffset&&e.selection.element()===O?t(O).before(t.FE.MARKERS+t.FE.INVISIBLE_SPACE):t(O).after(t.FE.INVISIBLE_SPACE+t.FE.MARKERS),e.selection.restore())}}),e.events.on("keyup",function(y){for(var E=e.el.querySelectorAll(".fr-emoticon"),O=0;O<E.length;O++)typeof E[O].textContent<"u"&&0===E[O].textContent.replace(/\u200B/gi,"").length&&t(E[O]).remove();if(!(y.which>=t.FE.KEYCODE.ARROW_LEFT&&y.which<=t.FE.KEYCODE.ARROW_DOWN)){var p=o();e.node.hasClass(p,"fr-emoticon-img")&&(t(p).append(t.FE.MARKERS),e.selection.restore())}})},insert:function(i,y){var E=o(),O=e.selection.ranges(0);E?(0===O.startOffset&&e.selection.element()===E?t(E).before(t.FE.MARKERS+t.FE.INVISIBLE_SPACE):0<O.startOffset&&e.selection.element()===E&&O.commonAncestorContainer.parentNode.classList.contains("fr-emoticon")&&t(E).after(t.FE.INVISIBLE_SPACE+t.FE.MARKERS),e.selection.restore(),e.html.insert('<span class="fr-emoticon fr-deletable'+(y?" fr-emoticon-img":"")+'"'+(y?' style="background: url('+y+');"':"")+">"+(y?"&nbsp;":i)+"</span>&nbsp;"+t.FE.MARKERS,!0)):e.html.insert('<span class="fr-emoticon fr-deletable'+(y?" fr-emoticon-img":"")+'"'+(y?' style="background: url('+y+');"':"")+">"+(y?"&nbsp;":i)+"</span>&nbsp;",!0)},showEmoticonsPopup:function(){var i=e.$tb.find('.fr-command[data-cmd="emoticons"]'),y=e.popups.get("emoticons");if(y||(y=function(){var p="";e.opts.toolbarInline&&0<e.opts.emoticonsButtons.length&&(p='<div class="fr-buttons fr-emoticons-buttons">'+e.button.buildList(e.opts.emoticonsButtons)+"</div>");var L,w={buttons:p,emoticons:function(){for(var R='<div style="text-align: center">',T=0;T<e.opts.emoticonsSet.length;T++)0!==T&&T%e.opts.emoticonsStep==0&&(R+="<br>"),R+='<span class="fr-command fr-emoticon" tabIndex="-1" data-cmd="insertEmoticon" title="'+e.language.translate(e.opts.emoticonsSet[T].desc)+'" role="button" data-param1="'+e.opts.emoticonsSet[T].code+'">'+(e.opts.emoticonsUseImage?'<img src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/'+e.opts.emoticonsSet[T].code+'.svg"/>':"&#x"+e.opts.emoticonsSet[T].code+";")+'<span class="fr-sr-only">'+e.language.translate(e.opts.emoticonsSet[T].desc)+"&nbsp;&nbsp;&nbsp;</span></span>";return e.opts.emoticonsUseImage&&(R+='<p style="font-size: 12px; text-align: center; padding: 0 5px;">Emoji free by <a class="fr-link" tabIndex="-1" href="http://emojione.com/" target="_blank" rel="nofollow noopener noreferrer" role="link" aria-label="Open Emoji One website.">Emoji One</a></p>'),R+"</div>"}()},f=e.popups.create("emoticons",w);return e.tooltip.bind(f,".fr-emoticon"),L=f,e.events.on("popup.tab",function(R){var T=t(R.currentTarget);if(!e.popups.isVisible("emoticons")||!T.is("span, a"))return!0;var _,A,c,l=R.which;if(t.FE.KEYCODE.TAB==l){if(T.is("span.fr-emoticon")&&R.shiftKey||T.is("a")&&!R.shiftKey){var a=L.find(".fr-buttons");_=!e.accessibility.focusToolbar(a,!!R.shiftKey)}if(!1!==_){var s=L.find("span.fr-emoticon:focus:first, span.fr-emoticon:visible:first, a");T.is("span.fr-emoticon")&&(s=s.not("span.fr-emoticon:not(:focus)")),A=s.index(T),c=s.get(A=R.shiftKey?((A-1)%s.length+s.length)%s.length:(A+1)%s.length),e.events.disableBlur(),c.focus(),_=!1}}else if(t.FE.KEYCODE.ARROW_UP==l||t.FE.KEYCODE.ARROW_DOWN==l||t.FE.KEYCODE.ARROW_LEFT==l||t.FE.KEYCODE.ARROW_RIGHT==l){if(T.is("span.fr-emoticon")){var u=T.parent().find("span.fr-emoticon");A=u.index(T);var m=e.opts.emoticonsStep,n=Math.floor(u.length/m),S=A%m,q=Math.floor(A/m)*m+S,v=n*m;t.FE.KEYCODE.ARROW_UP==l?q=((q-m)%v+v)%v:t.FE.KEYCODE.ARROW_DOWN==l?q=(q+m)%v:t.FE.KEYCODE.ARROW_LEFT==l?q=((q-1)%v+v)%v:t.FE.KEYCODE.ARROW_RIGHT==l&&(q=(q+1)%v),c=t(u.get(q)),e.events.disableBlur(),c.focus(),_=!1}}else t.FE.KEYCODE.ENTER==l&&(T.is("a")?T[0].click():e.button.exec(T),_=!1);return!1===_&&(R.preventDefault(),R.stopPropagation()),_},!0),f}()),!y.hasClass("fr-active")){e.popups.refresh("emoticons"),e.popups.setContainer("emoticons",e.$tb);var E=i.offset().left+i.outerWidth()/2,O=i.offset().top+(e.opts.toolbarBottom?10:i.outerHeight()-10);e.popups.show("emoticons",E,O,i.outerHeight())}},hideEmoticonsPopup:function(){e.popups.hide("emoticons")},back:function(){e.popups.hide("emoticons"),e.toolbar.showInline()}}},t.FE.DefineIcon("emoticons",{NAME:"smile-o",FA5NAME:"smile"}),t.FE.RegisterCommand("emoticons",{title:"Emoticons",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("emoticons")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("emoticons")):this.emoticons.showEmoticonsPopup()},plugin:"emoticons"}),t.FE.RegisterCommand("insertEmoticon",{callback:function(e,o){this.emoticons.insert("&#x"+o+";",this.opts.emoticonsUseImage?"https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/"+o+".svg":null),this.emoticons.hideEmoticonsPopup()}}),t.FE.DefineIcon("emoticonsBack",{NAME:"arrow-left"}),t.FE.RegisterCommand("emoticonsBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.emoticons.back()}}),t.extend(t.FE.DEFAULTS,{entities:"&quot;&#39;&iexcl;&cent;&pound;&curren;&yen;&brvbar;&sect;&uml;&copy;&ordf;&laquo;&not;&shy;&reg;&macr;&deg;&plusmn;&sup2;&sup3;&acute;&micro;&para;&middot;&cedil;&sup1;&ordm;&raquo;&frac14;&frac12;&frac34;&iquest;&Agrave;&Aacute;&Acirc;&Atilde;&Auml;&Aring;&AElig;&Ccedil;&Egrave;&Eacute;&Ecirc;&Euml;&Igrave;&Iacute;&Icirc;&Iuml;&ETH;&Ntilde;&Ograve;&Oacute;&Ocirc;&Otilde;&Ouml;&times;&Oslash;&Ugrave;&Uacute;&Ucirc;&Uuml;&Yacute;&THORN;&szlig;&agrave;&aacute;&acirc;&atilde;&auml;&aring;&aelig;&ccedil;&egrave;&eacute;&ecirc;&euml;&igrave;&iacute;&icirc;&iuml;&eth;&ntilde;&ograve;&oacute;&ocirc;&otilde;&ouml;&divide;&oslash;&ugrave;&uacute;&ucirc;&uuml;&yacute;&thorn;&yuml;&OElig;&oelig;&Scaron;&scaron;&Yuml;&fnof;&circ;&tilde;&Alpha;&Beta;&Gamma;&Delta;&Epsilon;&Zeta;&Eta;&Theta;&Iota;&Kappa;&Lambda;&Mu;&Nu;&Xi;&Omicron;&Pi;&Rho;&Sigma;&Tau;&Upsilon;&Phi;&Chi;&Psi;&Omega;&alpha;&beta;&gamma;&delta;&epsilon;&zeta;&eta;&theta;&iota;&kappa;&lambda;&mu;&nu;&xi;&omicron;&pi;&rho;&sigmaf;&sigma;&tau;&upsilon;&phi;&chi;&psi;&omega;&thetasym;&upsih;&piv;&ensp;&emsp;&thinsp;&zwnj;&zwj;&lrm;&rlm;&ndash;&mdash;&lsquo;&rsquo;&sbquo;&ldquo;&rdquo;&bdquo;&dagger;&Dagger;&bull;&hellip;&permil;&prime;&Prime;&lsaquo;&rsaquo;&oline;&frasl;&euro;&image;&weierp;&real;&trade;&alefsym;&larr;&uarr;&rarr;&darr;&harr;&crarr;&lArr;&uArr;&rArr;&dArr;&hArr;&forall;&part;&exist;&empty;&nabla;&isin;&notin;&ni;&prod;&sum;&minus;&lowast;&radic;&prop;&infin;&ang;&and;&or;&cap;&cup;&int;&there4;&sim;&cong;&asymp;&ne;&equiv;&le;&ge;&sub;&sup;&nsub;&sube;&supe;&oplus;&otimes;&perp;&sdot;&lceil;&rceil;&lfloor;&rfloor;&lang;&rang;&loz;&spades;&clubs;&hearts;&diams;"}),t.FE.PLUGINS.entities=function(e){var o,i;function y(p){var L=p.textContent;if(L.match(o)){for(var w="",f=0;f<L.length;f++)w+=i[L[f]]?i[L[f]]:L[f];p.textContent=w}}function E(p){if(p&&0<=["STYLE","SCRIPT","svg","IFRAME"].indexOf(p.tagName))return!0;for(var L=e.node.contents(p),w=0;w<L.length;w++)L[w].nodeType==Node.TEXT_NODE?y(L[w]):E(L[w]);p.nodeType==Node.TEXT_NODE&&y(p)}function O(p){return 0===p.length?"":e.clean.exec(p,E).replace(/\&amp;/g,"&")}return{_init:function(){e.opts.htmlSimpleAmpersand||(e.opts.entities=e.opts.entities+"&amp;");var p=t("<div>").html(e.opts.entities).text(),L=e.opts.entities.split(";");i={},o="";for(var w=0;w<p.length;w++){var f=p.charAt(w);i[f]=L[w]+";",o+="\\"+f+(w<p.length-1?"|":"")}o=new RegExp("("+o+")","g"),e.events.on("html.get",O,!0)}}},t.extend(t.FE.POPUP_TEMPLATES,{"file.insert":"[_BUTTONS_][_UPLOAD_LAYER_][_PROGRESS_BAR_]"}),t.extend(t.FE.DEFAULTS,{fileUpload:!0,fileUploadURL:null,fileUploadParam:"file",fileUploadParams:{},fileUploadToS3:!1,fileUploadMethod:"POST",fileMaxSize:10485760,fileAllowedTypes:["*"],fileInsertButtons:["fileBack","|"],fileUseSelectedText:!1}),t.FE.PLUGINS.file=function(e){var o,i="https://i.froala.com/upload",y=2,E=3,O=4,p=5,L=6,w={};function f(){var v=e.popups.get("file.insert");v||(v=n()),v.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),v.find(".fr-file-progress-bar-layer").addClass("fr-active"),v.find(".fr-buttons").hide(),T(e.language.translate("Uploading"),0)}function R(v){var D=e.popups.get("file.insert");D&&(D.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),D.find(".fr-file-progress-bar-layer").removeClass("fr-active"),D.find(".fr-buttons").show(),v&&(e.events.focus(),e.popups.hide("file.insert")))}function T(v,D){var G=e.popups.get("file.insert");if(G){var k=G.find(".fr-file-progress-bar-layer");k.find("h3").text(v+(D?" "+D+"%":"")),k.removeClass("fr-error"),D?(k.find("div").removeClass("fr-indeterminate"),k.find("div > span").css("width",D+"%")):k.find("div").addClass("fr-indeterminate")}}function _(v,D,G){e.edit.on(),e.events.focus(!0),e.selection.restore(),e.opts.fileUseSelectedText&&e.selection.text().length&&(D=e.selection.text()),e.html.insert('<a href="'+v+'" target="_blank" id="fr-inserted-file" class="fr-file">'+D+"</a>");var k=e.$el.find("#fr-inserted-file");k.removeAttr("id"),e.popups.hide("file.insert"),e.undo.saveStep(),q(),e.events.trigger("file.inserted",[k,G])}function A(v){var D=this.status,G=this.response,k=this.responseXML,te=this.responseText;try{if(e.opts.fileUploadToS3)if(201==D){var J=function(ye){try{var pe=t(ye).find("Location").text(),Re=t(ye).find("Key").text();return!1===e.events.trigger("file.uploadedToS3",[pe,Re,ye],!0)?(e.edit.on(),!1):pe}catch{return a(O,ye),!1}}(k);J&&_(J,v,G||k)}else a(O,G||k);else if(200<=D&&D<300){var Ee=function(ye){try{if(!1===e.events.trigger("file.uploaded",[ye],!0))return e.edit.on(),!1;var pe=JSON.parse(ye);return pe.link?pe:(a(y,ye),!1)}catch{return a(O,ye),!1}}(te);Ee&&_(Ee.link,v,G||te)}else a(E,G||te)}catch{a(O,G||te)}}function c(){a(O,this.response||this.responseText||this.responseXML)}function l(v){if(v.lengthComputable){var D=v.loaded/v.total*100|0;T(e.language.translate("Uploading"),D)}}function a(v,D){e.edit.on(),function(G){f();var k=e.popups.get("file.insert").find(".fr-file-progress-bar-layer");k.addClass("fr-error");var te=k.find("h3");te.text(G),e.events.disableBlur(),te.focus()}(e.language.translate("Something went wrong. Please try again.")),e.events.trigger("file.error",[{code:v,message:w[v]},D])}function s(){e.edit.on(),R(!0)}function u(v){if(void 0!==v&&0<v.length){if(!1===e.events.trigger("file.beforeUpload",[v]))return!1;var D,G=v[0];if((null===e.opts.fileUploadURL||e.opts.fileUploadURL==i)&&!e.opts.fileUploadToS3)return ye=G,(pe=new FileReader).addEventListener("load",function(){for(var Re,qe=atob(pe.result.split(",")[1]),Oe=[],de=0;de<qe.length;de++)Oe.push(qe.charCodeAt(de));Re=window.URL.createObjectURL(new Blob([new Uint8Array(Oe)],{type:ye.type})),e.file.insert(Re,ye.name,null)},!1),f(),pe.readAsDataURL(ye),!1;if(G.size>e.opts.fileMaxSize)return a(p),!1;if(e.opts.fileAllowedTypes.indexOf("*")<0&&e.opts.fileAllowedTypes.indexOf(G.type.replace(/file\//g,""))<0)return a(L),!1;if(e.drag_support.formdata&&(D=e.drag_support.formdata?new FormData:null),D){var k;if(!1!==e.opts.fileUploadToS3)for(k in D.append("key",e.opts.fileUploadToS3.keyStart+(new Date).getTime()+"-"+(G.name||"untitled")),D.append("success_action_status","201"),D.append("X-Requested-With","xhr"),D.append("Content-Type",G.type),e.opts.fileUploadToS3.params)e.opts.fileUploadToS3.params.hasOwnProperty(k)&&D.append(k,e.opts.fileUploadToS3.params[k]);for(k in e.opts.fileUploadParams)e.opts.fileUploadParams.hasOwnProperty(k)&&D.append(k,e.opts.fileUploadParams[k]);D.append(e.opts.fileUploadParam,G);var te=e.opts.fileUploadURL;e.opts.fileUploadToS3&&(te=e.opts.fileUploadToS3.uploadURL?e.opts.fileUploadToS3.uploadURL:"https://"+e.opts.fileUploadToS3.region+".amazonaws.com/"+e.opts.fileUploadToS3.bucket);var J=e.core.getXHR(te,e.opts.fileUploadMethod);J.onload=function(){A.call(J,G.name)},J.onerror=c,J.upload.onprogress=l,J.onabort=s,f();var Ee=e.popups.get("file.insert");Ee&&Ee.off("abortUpload").on("abortUpload",function(){4!=J.readyState&&J.abort()}),J.send(D)}}var ye,pe}function m(){R()}function n(v){if(v)return e.popups.onHide("file.insert",m),!0;var D;e.opts.fileUpload||e.opts.fileInsertButtons.splice(e.opts.fileInsertButtons.indexOf("fileUpload"),1),D='<div class="fr-buttons">'+e.button.buildList(e.opts.fileInsertButtons)+"</div>";var G="";e.opts.fileUpload&&(G='<div class="fr-file-upload-layer fr-layer fr-active" id="fr-file-upload-layer-'+e.id+'"><strong>'+e.language.translate("Drop file")+"</strong><br>("+e.language.translate("or click")+')<div class="fr-form"><input type="file" name="'+e.opts.fileUploadParam+'" accept="'+(0<=e.opts.fileAllowedTypes.indexOf("*")?"/":"")+e.opts.fileAllowedTypes.join(", ").toLowerCase()+'" tabIndex="-1" aria-labelledby="fr-file-upload-layer-'+e.id+'" role="button"></div></div>');var k,J=e.popups.create("file.insert",{buttons:D,upload_layer:G,progress_bar:'<div class="fr-file-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="fileDismissError" tabIndex="2" role="button">OK</button></div></div>'});return e.events.$on(k=J,"dragover dragenter",".fr-file-upload-layer",function(){return t(this).addClass("fr-drop"),!1},!0),e.events.$on(k,"dragleave dragend",".fr-file-upload-layer",function(){return t(this).removeClass("fr-drop"),!1},!0),e.events.$on(k,"drop",".fr-file-upload-layer",function(Ee){Ee.preventDefault(),Ee.stopPropagation(),t(this).removeClass("fr-drop");var ye=Ee.originalEvent.dataTransfer;ye&&ye.files&&(k.data("instance")||e).file.upload(ye.files)},!0),e.helpers.isIOS()&&e.events.$on(k,"touchstart",'.fr-file-upload-layer input[type="file"]',function(){t(this).trigger("click")}),e.events.$on(k,"change",'.fr-file-upload-layer input[type="file"]',function(){if(this.files){var Ee=k.data("instance")||e;Ee.events.disableBlur(),k.find("input:focus").blur(),Ee.events.enableBlur(),Ee.file.upload(this.files)}t(this).val("")},!0),J}function S(v){e.node.hasClass(v,"fr-file")}function x(v){var D=v.originalEvent.dataTransfer;if(D&&D.files&&D.files.length){var G=D.files[0];if(G&&typeof G.type<"u"){if(G.type.indexOf("image")<0){if(!e.opts.fileUpload)return v.preventDefault(),v.stopPropagation(),!1;e.markers.remove(),e.markers.insertAtPoint(v.originalEvent),e.$el.find(".fr-marker").replaceWith(t.FE.MARKERS),e.popups.hideAll();var k=e.popups.get("file.insert");return k||(k=n()),e.popups.setContainer("file.insert",e.$sc),e.popups.show("file.insert",v.originalEvent.pageX,v.originalEvent.pageY),f(),u(D.files),v.preventDefault(),v.stopPropagation(),!1}}else G.type.indexOf("image")<0&&(v.preventDefault(),v.stopPropagation())}}function q(){var v,D=Array.prototype.slice.call(e.el.querySelectorAll("a.fr-file")),G=[];for(v=0;v<D.length;v++)G.push(D[v].getAttribute("href"));if(o)for(v=0;v<o.length;v++)G.indexOf(o[v].getAttribute("href"))<0&&e.events.trigger("file.unlink",[o[v]]);o=D}return w[1]="File cannot be loaded from the passed link.",w[y]="No link in upload response.",w[E]="Error during file upload.",w[O]="Parsing response failed.",w[p]="File is too large.",w[L]="File file type is invalid.",w[7]="Files can be uploaded only to same domain in IE 8 and IE 9.",{_init:function(){e.events.on("drop",x),e.events.$on(e.$win,"keydown",function(v){var D=v.which,G=e.popups.get("file.insert");G&&D==t.FE.KEYCODE.ESC&&G.trigger("abortUpload")}),e.events.on("destroy",function(){var v=e.popups.get("file.insert");v&&v.trigger("abortUpload")}),e.events.on("link.beforeRemove",S),e.$wp&&(q(),e.events.on("contentChanged",q)),n(!0)},showInsertPopup:function(){var v=e.$tb.find('.fr-command[data-cmd="insertFile"]'),D=e.popups.get("file.insert");if(D||(D=n()),R(),!D.hasClass("fr-active"))if(e.popups.refresh("file.insert"),e.popups.setContainer("file.insert",e.$tb),v.is(":visible")){var G=v.offset().left+v.outerWidth()/2,k=v.offset().top+(e.opts.toolbarBottom?10:v.outerHeight()-10);e.popups.show("file.insert",G,k,v.outerHeight())}else e.position.forSelection(D),e.popups.show("file.insert")},upload:u,insert:_,back:function(){e.events.disableBlur(),e.selection.restore(),e.events.enableBlur(),e.popups.hide("file.insert"),e.toolbar.showInline()},hideProgressBar:R}},t.FE.DefineIcon("insertFile",{NAME:"file-o",FA5NAME:"file"}),t.FE.RegisterCommand("insertFile",{title:"Upload File",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("file.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("file.insert")):this.file.showInsertPopup()},plugin:"file"}),t.FE.DefineIcon("fileBack",{NAME:"arrow-left"}),t.FE.RegisterCommand("fileBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.file.back()},refresh:function(e){this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),t.FE.RegisterCommand("fileDismissError",{title:"OK",callback:function(){this.file.hideProgressBar(!0)}}),t.extend(t.FE.DEFAULTS,{fontFamily:{"Arial,Helvetica,sans-serif":"Arial","Georgia,serif":"Georgia","Impact,Charcoal,sans-serif":"Impact","Tahoma,Geneva,sans-serif":"Tahoma","Times New Roman,Times,serif,-webkit-standard":"Times New Roman","Verdana,Geneva,sans-serif":"Verdana"},fontFamilySelection:!1,fontFamilyDefaultSelection:"Font Family"}),t.FE.PLUGINS.fontFamily=function(e){function o(E){var O=E.replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi,"").replace(/"|'| /g,"").split(",");return t.grep(O,function(p){return 0<p.length})}function i(E,O){for(var p=0;p<E.length;p++)for(var L=0;L<O.length;L++)if(E[p].toLowerCase()==O[L].toLowerCase())return[p,L];return null}function y(){var E=o(t(e.selection.element()).css("font-family")),O=[];for(var p in e.opts.fontFamily)if(e.opts.fontFamily.hasOwnProperty(p)){var L=i(E,o(p));L&&O.push([p,L])}return 0===O.length?null:(O.sort(function(w,f){var R=w[1][0]-f[1][0];return 0===R?w[1][1]-f[1][1]:R}),O[0][0])}return{apply:function(E){e.format.applyStyle("font-family",E)},refreshOnShow:function(E,O){O.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected",!1),O.find('.fr-command[data-param1="'+y()+'"]').addClass("fr-active").attr("aria-selected",!0);var p=O.find(".fr-dropdown-list"),L=O.find(".fr-active").parent();L.length?p.parent().scrollTop(L.offset().top-p.offset().top-(p.parent().outerHeight()/2-L.outerHeight()/2)):p.parent().scrollTop(0)},refresh:function(E){if(e.opts.fontFamilySelection){var O=t(e.selection.element()).css("font-family").replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi,"").replace(/"|'|/g,"").split(",");E.find("> span").text(e.opts.fontFamily[y()]||O[0]||e.language.translate(e.opts.fontFamilyDefaultSelection))}}}},t.FE.RegisterCommand("fontFamily",{type:"dropdown",displaySelection:function(e){return e.opts.fontFamilySelection},defaultSelection:function(e){return e.opts.fontFamilyDefaultSelection},displaySelectionWidth:120,html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',o=this.opts.fontFamily;for(var i in o)o.hasOwnProperty(i)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="fontFamily" data-param1="'+i+'" style="font-family: '+i+'" title="'+o[i]+'">'+o[i]+"</a></li>");return e+"</ul>"},title:"Font Family",callback:function(e,o){this.fontFamily.apply(o)},refresh:function(e){this.fontFamily.refresh(e)},refreshOnShow:function(e,o){this.fontFamily.refreshOnShow(e,o)},plugin:"fontFamily"}),t.FE.DefineIcon("fontFamily",{NAME:"font"}),t.extend(t.FE.DEFAULTS,{fontSize:["8","9","10","11","12","14","18","24","30","36","48","60","72","96"],fontSizeSelection:!1,fontSizeDefaultSelection:"12",fontSizeUnit:"px"}),t.FE.PLUGINS.fontSize=function(e){return{apply:function(o){e.format.applyStyle("font-size",o)},refreshOnShow:function(o,i){var y=t(e.selection.element()).css("font-size");"pt"===e.opts.fontSizeUnit&&(y=Math.round(72*parseFloat(y,10)/96)+"pt"),i.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected",!1),i.find('.fr-command[data-param1="'+y+'"]').addClass("fr-active").attr("aria-selected",!0);var E=i.find(".fr-dropdown-list"),O=i.find(".fr-active").parent();O.length?E.parent().scrollTop(O.offset().top-E.offset().top-(E.parent().outerHeight()/2-O.outerHeight()/2)):E.parent().scrollTop(0)},refresh:function(o){if(e.opts.fontSizeSelection){var i=e.helpers.getPX(t(e.selection.element()).css("font-size"));"pt"===e.opts.fontSizeUnit&&(i=Math.round(72*parseFloat(i,10)/96)+"pt"),o.find("> span").text(i)}}}},t.FE.RegisterCommand("fontSize",{type:"dropdown",title:"Font Size",displaySelection:function(e){return e.opts.fontSizeSelection},displaySelectionWidth:30,defaultSelection:function(e){return e.opts.fontSizeDefaultSelection},html:function(){for(var e='<ul class="fr-dropdown-list" role="presentation">',o=this.opts.fontSize,i=0;i<o.length;i++){var y=o[i];e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="fontSize" data-param1="'+y+this.opts.fontSizeUnit+'" title="'+y+'">'+y+"</a></li>"}return e+"</ul>"},callback:function(e,o){this.fontSize.apply(o)},refresh:function(e){this.fontSize.refresh(e)},refreshOnShow:function(e,o){this.fontSize.refreshOnShow(e,o)},plugin:"fontSize"}),t.FE.DefineIcon("fontSize",{NAME:"text-height"}),t.extend(t.FE.POPUP_TEMPLATES,{"forms.edit":"[_BUTTONS_]","forms.update":"[_BUTTONS_][_TEXT_LAYER_]"}),t.extend(t.FE.DEFAULTS,{formEditButtons:["inputStyle","inputEdit"],formStyles:{"fr-rounded":"Rounded","fr-large":"Large"},formMultipleStyles:!0,formUpdateButtons:["inputBack","|"]}),t.FE.PLUGINS.forms=function(e){var o;function i(T){T.preventDefault(),e.selection.clear(),t(this).data("mousedown",!0)}function y(T){t(this).data("mousedown")&&(T.stopPropagation(),t(this).removeData("mousedown"),L(o=this)),T.preventDefault()}function E(){e.$el.find("input, textarea, button").removeData("mousedown")}function O(){t(this).removeData("mousedown")}function p(){return o||null}function L(T){var _=e.popups.get("forms.edit");_||(_=function(){var a="";0<e.opts.formEditButtons.length&&(a='<div class="fr-buttons">'+e.button.buildList(e.opts.formEditButtons)+"</div>");var u=e.popups.create("forms.edit",{buttons:a});return e.$wp&&e.events.$on(e.$wp,"scroll.link-edit",function(){p()&&e.popups.isVisible("forms.edit")&&L(p())}),u}());var A=t(o=T);e.popups.refresh("forms.edit"),e.popups.setContainer("forms.edit",e.$sc);var c=A.offset().left+A.outerWidth()/2,l=A.offset().top+A.outerHeight();e.popups.show("forms.edit",c,l,A.outerHeight())}function w(){var T=e.popups.get("forms.update"),_=p();if(_){var A=t(_);A.is("button")?T.find('input[type="text"][name="text"]').val(A.text()):T.find('input[type="text"][name="text"]').val(A.attr("placeholder"))}T.find('input[type="text"][name="text"]').trigger("change")}function f(){o=null}function R(T){if(T)return e.popups.onRefresh("forms.update",w),e.popups.onHide("forms.update",f),!0;var _="";1<=e.opts.formUpdateButtons.length&&(_='<div class="fr-buttons">'+e.button.buildList(e.opts.formUpdateButtons)+"</div>");var A="",c=0;A='<div class="fr-forms-text-layer fr-layer fr-active">',A+='<div class="fr-input-line"><input name="text" type="text" placeholder="Text" tabIndex="'+ ++c+'"></div>';var l={buttons:_,text_layer:A+='<div class="fr-action-buttons"><button class="fr-command fr-submit" data-cmd="updateInput" href="#" tabIndex="'+ ++c+'" type="button">'+e.language.translate("Update")+"</button></div></div>"};return e.popups.create("forms.update",l)}return{_init:function(){e.events.$on(e.$el,e._mousedown,"input, textarea, button",i),e.events.$on(e.$el,e._mouseup,"input, textarea, button",y),e.events.$on(e.$el,"touchmove","input, textarea, button",O),e.events.$on(e.$el,e._mouseup,E),e.events.$on(e.$win,e._mouseup,E),R(!0),e.events.$on(e.$el,"submit","form",function(T){return T.preventDefault(),!1})},updateInput:function(){var T=e.popups.get("forms.update"),_=p();if(_){var A=t(_),c=T.find('input[type="text"][name="text"]').val()||"";c.length&&(A.is("button")?A.text(c):A.attr("placeholder",c)),e.popups.hide("forms.update"),L(_)}},getInput:p,applyStyle:function(T,_,A){void 0===_&&(_=e.opts.formStyles),void 0===A&&(A=e.opts.formMultipleStyles);var c=p();if(!c)return!1;if(!A){var l=Object.keys(_);l.splice(l.indexOf(T),1),t(c).removeClass(l.join(" "))}t(c).toggleClass(T)},showUpdatePopup:function(){var T=p();if(T){var _=t(T),A=e.popups.get("forms.update");A||(A=R()),e.popups.isVisible("forms.update")||e.popups.refresh("forms.update"),e.popups.setContainer("forms.update",e.$sc);var c=_.offset().left+_.outerWidth()/2,l=_.offset().top+_.outerHeight();e.popups.show("forms.update",c,l,_.outerHeight())}},showEditPopup:L,back:function(){e.events.disableBlur(),e.selection.restore(),e.events.enableBlur();var T=p();T&&e.$wp&&("BUTTON"==T.tagName&&e.selection.restore(),L(T))}}},t.FE.RegisterCommand("updateInput",{undo:!1,focus:!1,title:"Update",callback:function(){this.forms.updateInput()}}),t.FE.DefineIcon("inputStyle",{NAME:"magic"}),t.FE.RegisterCommand("inputStyle",{title:"Style",type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list">',o=this.opts.formStyles;for(var i in o)o.hasOwnProperty(i)&&(e+='<li><a class="fr-command" tabIndex="-1" data-cmd="inputStyle" data-param1="'+i+'">'+this.language.translate(o[i])+"</a></li>");return e+"</ul>"},callback:function(e,o){var i=this.forms.getInput();i&&(this.forms.applyStyle(o),this.forms.showEditPopup(i))},refreshOnShow:function(e,o){var i=this.forms.getInput();if(i){var y=t(i);o.find(".fr-command").each(function(){var E=t(this).data("param1");t(this).toggleClass("fr-active",y.hasClass(E))})}}}),t.FE.DefineIcon("inputEdit",{NAME:"edit"}),t.FE.RegisterCommand("inputEdit",{title:"Edit Button",undo:!1,refreshAfterCallback:!1,callback:function(){this.forms.showUpdatePopup()}}),t.FE.DefineIcon("inputBack",{NAME:"arrow-left"}),t.FE.RegisterCommand("inputBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.forms.back()}}),t.FE.RegisterCommand("updateInput",{undo:!1,focus:!1,title:"Update",callback:function(){this.forms.updateInput()}}),t.FE.PLUGINS.fullscreen=function(e){var o,i,y,E;function O(){return e.$box.hasClass("fr-fullscreen")}function p(){if(e.helpers.isIOS()&&e.core.hasFocus())return e.$el.blur(),setTimeout(w,250),!1;o=e.helpers.scrollTop(),e.$box.toggleClass("fr-fullscreen"),t("body:first").toggleClass("fr-fullscreen"),e.helpers.isMobile()&&(e.$tb.data("parent",e.$tb.parent()),e.$tb.prependTo(e.$box),e.$tb.data("sticky-dummy")&&e.$tb.after(e.$tb.data("sticky-dummy"))),i=e.opts.height,y=e.opts.heightMax,E=e.opts.zIndex,e.position.refresh(),e.opts.height=e.o_win.innerHeight-(e.opts.toolbarInline?0:e.$tb.outerHeight()),e.opts.zIndex=2147483641,e.opts.heightMax=null,e.size.refresh(),e.opts.toolbarInline&&e.toolbar.showInline();for(var R=e.$box.parent();!R.is("body:first");)R.data("z-index",R.css("z-index")).data("overflow",R.css("overflow")).css("z-index","2147483640").css("overflow","visible"),R=R.parent();e.opts.toolbarContainer&&e.$box.prepend(e.$tb),e.events.trigger("charCounter.update"),e.events.trigger("codeView.update"),e.$win.trigger("scroll")}function L(){if(e.helpers.isIOS()&&e.core.hasFocus())return e.$el.blur(),setTimeout(w,250),!1;e.$box.toggleClass("fr-fullscreen"),t("body:first").toggleClass("fr-fullscreen"),e.$tb.prependTo(e.$tb.data("parent")),e.$tb.data("sticky-dummy")&&e.$tb.after(e.$tb.data("sticky-dummy")),e.opts.height=i,e.opts.heightMax=y,e.opts.zIndex=E,e.size.refresh(),t(e.o_win).scrollTop(o),e.opts.toolbarInline&&e.toolbar.showInline(),e.events.trigger("charCounter.update"),e.opts.toolbarSticky&&e.opts.toolbarStickyOffset&&(e.opts.toolbarBottom?e.$tb.css("bottom",e.opts.toolbarStickyOffset).data("bottom",e.opts.toolbarStickyOffset):e.$tb.css("top",e.opts.toolbarStickyOffset).data("top",e.opts.toolbarStickyOffset));for(var R=e.$box.parent();!R.is("body:first");)R.data("z-index")&&(R.css("z-index",""),R.css("z-index")!=R.data("z-index")&&R.css("z-index",R.data("z-index")),R.removeData("z-index")),R.data("overflow")?(R.css("overflow",""),R.css("overflow")!=R.data("overflow")&&R.css("overflow",R.data("overflow"))):R.css("overflow",""),R.removeData("overflow"),R=R.parent();e.opts.toolbarContainer&&t(e.opts.toolbarContainer).append(e.$tb),t(e.o_win).trigger("scroll"),e.events.trigger("codeView.update")}function w(){O()?L():p(),f(e.$tb.find('.fr-command[data-cmd="fullscreen"]'))}function f(R){var T=O();R.toggleClass("fr-active",T).attr("aria-pressed",T),R.find("> *:not(.fr-sr-only)").replaceWith(e.icon.create(T?"fullscreenCompress":"fullscreen"))}return{_init:function(){if(!e.$wp)return!1;e.events.$on(t(e.o_win),"resize",function(){O()&&(L(),p())}),e.events.on("toolbar.hide",function(){if(O()&&e.helpers.isMobile())return!1}),e.events.on("position.refresh",function(){if(e.helpers.isIOS())return!O()}),e.events.on("destroy",function(){O()&&L()},!0)},toggle:w,refresh:f,isActive:O}},t.FE.RegisterCommand("fullscreen",{title:"Fullscreen",undo:!1,focus:!1,accessibilityFocus:!0,forcedRefresh:!0,toggle:!0,callback:function(){this.fullscreen.toggle()},refresh:function(e){this.fullscreen.refresh(e)},plugin:"fullscreen"}),t.FE.DefineIcon("fullscreen",{NAME:"expand"}),t.FE.DefineIcon("fullscreenCompress",{NAME:"compress"}),t.extend(t.FE.DEFAULTS,{helpSets:[{title:"Inline Editor",commands:[{val:"OSkeyE",desc:"Show the editor"}]},{title:"Common actions",commands:[{val:"OSkeyC",desc:"Copy"},{val:"OSkeyX",desc:"Cut"},{val:"OSkeyV",desc:"Paste"},{val:"OSkeyZ",desc:"Undo"},{val:"OSkeyShift+Z",desc:"Redo"},{val:"OSkeyK",desc:"Insert Link"},{val:"OSkeyP",desc:"Insert Image"}]},{title:"Basic Formatting",commands:[{val:"OSkeyA",desc:"Select All"},{val:"OSkeyB",desc:"Bold"},{val:"OSkeyI",desc:"Italic"},{val:"OSkeyU",desc:"Underline"},{val:"OSkeyS",desc:"Strikethrough"},{val:"OSkey]",desc:"Increase Indent"},{val:"OSkey[",desc:"Decrease Indent"}]},{title:"Quote",commands:[{val:"OSkey'",desc:"Increase quote level"},{val:"OSkeyShift+'",desc:"Decrease quote level"}]},{title:"Image / Video",commands:[{val:"OSkey+",desc:"Resize larger"},{val:"OSkey-",desc:"Resize smaller"}]},{title:"Table",commands:[{val:"Alt+Space",desc:"Select table cell"},{val:"Shift+Left/Right arrow",desc:"Extend selection one cell"},{val:"Shift+Up/Down arrow",desc:"Extend selection one row"}]},{title:"Navigation",commands:[{val:"OSkey/",desc:"Shortcuts"},{val:"Alt+F10",desc:"Focus popup / toolbar"},{val:"Esc",desc:"Return focus to previous position"}]}]}),t.FE.PLUGINS.help=function(e){var o,i="help";return{_init:function(){},show:function(){if(!o){var y="<h4>"+e.language.translate("Shortcuts")+"</h4>",E=function(){for(var p='<div class="fr-help-modal">',L=0;L<e.opts.helpSets.length;L++){var w=e.opts.helpSets[L],f="<table>";f+="<thead><tr><th>"+e.language.translate(w.title)+"</th></tr></thead>",f+="<tbody>";for(var R=0;R<w.commands.length;R++){var T=w.commands[R];f+="<tr>",f+="<td>"+e.language.translate(T.desc)+"</td>",f+="<td>"+T.val.replace("OSkey",e.helpers.isMac()?"&#8984;":"Ctrl+")+"</td>",f+="</tr>"}p+=f+="</tbody></table>"}return p+"</div>"}(),O=e.modals.create(i,y,E);o=O.$modal,e.events.$on(t(e.o_win),"resize",function(){e.modals.resize(i)})}e.modals.show(i),e.modals.resize(i)},hide:function(){e.modals.hide(i)}}},t.FroalaEditor.DefineIcon("help",{NAME:"question"}),t.FE.RegisterShortcut(t.FE.KEYCODE.SLASH,"help",null,"/"),t.FE.RegisterCommand("help",{title:"Help",icon:"help",undo:!1,focus:!1,modal:!0,callback:function(){this.help.show()},plugin:"help",showOnMobile:!1}),t.extend(t.FE.POPUP_TEMPLATES,{"image.insert":"[_BUTTONS_][_UPLOAD_LAYER_][_BY_URL_LAYER_][_PROGRESS_BAR_]","image.edit":"[_BUTTONS_]","image.alt":"[_BUTTONS_][_ALT_LAYER_]","image.size":"[_BUTTONS_][_SIZE_LAYER_]"}),t.extend(t.FE.DEFAULTS,{imageInsertButtons:["imageBack","|","imageUpload","imageByURL"],imageEditButtons:["imageReplace","imageAlign","imageCaption","imageRemove","|","imageLink","linkOpen","linkEdit","linkRemove","-","imageDisplay","imageStyle","imageAlt","imageSize"],imageAltButtons:["imageBack","|"],imageSizeButtons:["imageBack","|"],imageUpload:!0,imageUploadURL:null,imageCORSProxy:"https://cors-anywhere.froala.com",imageUploadRemoteUrls:!0,imageUploadParam:"file",imageUploadParams:{},imageUploadToS3:!1,imageUploadMethod:"POST",imageMaxSize:10485760,imageAllowedTypes:["jpeg","jpg","png","gif"],imageResize:!0,imageResizeWithPercent:!1,imageRoundPercent:!1,imageDefaultWidth:300,imageDefaultAlign:"center",imageDefaultDisplay:"block",imageSplitHTML:!1,imageStyles:{"fr-rounded":"Rounded","fr-bordered":"Bordered","fr-shadow":"Shadow"},imageMove:!0,imageMultipleStyles:!0,imageTextNear:!0,imagePaste:!0,imagePasteProcess:!1,imageMinWidth:16,imageOutputSize:!1,imageDefaultMargin:5}),t.FE.PLUGINS.image=function(e){var o,i,y,E,O,p,L="https://i.froala.com/upload",w=!1,f=1,R=2,T=3,_=4,A=5,c=6,l=8,a={};function s(){var N=e.popups.get("image.insert").find(".fr-image-by-url-layer input");N.val(""),o&&N.val(o.attr("src")),N.trigger("change")}function u(){var N=e.popups.get("image.edit");if(N||(N=J()),N){var h=oe();xe()&&(h=h.find(".fr-img-wrap")),e.popups.setContainer("image.edit",e.$sc),e.popups.refresh("image.edit");var I=h.offset().left+h.outerWidth()/2,H=h.offset().top+h.outerHeight();o.hasClass("fr-uploading")?Ee():e.popups.show("image.edit",I,H,h.outerHeight())}}function m(){ye()}function n(){for(var N,h,I="IMG"==e.el.tagName?[e.el]:e.el.querySelectorAll("img"),H=0;H<I.length;H++){var Q=t(I[H]);!e.opts.htmlUntouched&&e.opts.useClasses?((e.opts.imageDefaultAlign||e.opts.imageDefaultDisplay)&&(0<(h=Q).parents(".fr-img-caption").length&&(h=h.parents(".fr-img-caption:first")),h.hasClass("fr-dii")||h.hasClass("fr-dib")||(h.addClass("fr-fi"+nt(h)[0]),h.addClass("fr-di"+rt(h)[0]),h.css("margin",""),h.css("float",""),h.css("display",""),h.css("z-index",""),h.css("position",""),h.css("overflow",""),h.css("vertical-align",""))),e.opts.imageTextNear||(0<Q.parents(".fr-img-caption").length?Q.parents(".fr-img-caption:first").removeClass("fr-dii").addClass("fr-dib"):Q.removeClass("fr-dii").addClass("fr-dib"))):e.opts.htmlUntouched||e.opts.useClasses||(e.opts.imageDefaultAlign||e.opts.imageDefaultDisplay)&&(0<(N=Q).parents(".fr-img-caption").length&&(N=N.parents(".fr-img-caption:first")),et(N,N.hasClass("fr-dib")?"block":N.hasClass("fr-dii")?"inline":null,N.hasClass("fr-fil")?"left":N.hasClass("fr-fir")?"right":nt(N)),N.removeClass("fr-dib fr-dii fr-fir fr-fil")),e.opts.iframe&&Q.on("load",e.size.syncIframe)}}function S(N){void 0===N&&(N=!0);var h,I=Array.prototype.slice.call(e.el.querySelectorAll("img")),H=[];for(h=0;h<I.length;h++)if(H.push(I[h].getAttribute("src")),t(I[h]).toggleClass("fr-draggable",e.opts.imageMove),""===I[h].getAttribute("class")&&I[h].removeAttribute("class"),""===I[h].getAttribute("style")&&I[h].removeAttribute("style"),I[h].parentNode&&I[h].parentNode.parentNode&&e.node.hasClass(I[h].parentNode.parentNode,"fr-img-caption")){var Q=I[h].parentNode.parentNode;e.browser.mozilla||Q.setAttribute("contenteditable",!1),Q.setAttribute("draggable",!1),Q.classList.add("fr-draggable");var ve=I[h].nextSibling;ve&&!e.browser.mozilla&&ve.setAttribute("contenteditable",!0)}if(O)for(h=0;h<O.length;h++)H.indexOf(O[h].getAttribute("src"))<0&&e.events.trigger("image.removed",[t(O[h])]);if(O&&N){var se=[];for(h=0;h<O.length;h++)se.push(O[h].getAttribute("src"));for(h=0;h<I.length;h++)se.indexOf(I[h].getAttribute("src"))<0&&e.events.trigger("image.loaded",[t(I[h])])}O=I}function x(){if(i||function(){var Q;if(e.shared.$image_resizer?(i=e.shared.$image_resizer,E=e.shared.$img_overlay,e.events.on("destroy",function(){i.removeClass("fr-active").appendTo(t("body:first"))},!0)):(e.shared.$image_resizer=t('<div class="fr-image-resizer"></div>'),e.events.$on(i=e.shared.$image_resizer,"mousedown",function(we){we.stopPropagation()},!0),e.opts.imageResize&&(i.append(q("nw")+q("ne")+q("sw")+q("se")),e.shared.$img_overlay=t('<div class="fr-image-overlay"></div>'),E=e.shared.$img_overlay,Q=i.get(0).ownerDocument,t(Q).find("body:first").append(E))),e.events.on("shared.destroy",function(){i.html("").removeData().remove(),i=null,e.opts.imageResize&&(E.remove(),E=null)},!0),e.helpers.isMobile()||e.events.$on(t(e.o_win),"resize",function(){o&&!o.hasClass("fr-uploading")?me(!0):o&&(x(),$(),Ee(!1))}),e.opts.imageResize){Q=i.get(0).ownerDocument,e.events.$on(i,e._mousedown,".fr-handler",D),e.events.$on(t(Q),e._mousemove,G),e.events.$on(t(Q.defaultView||Q.parentWindow),e._mouseup,k),e.events.$on(E,"mouseleave",k);var ve=1,se=null,Ae=0;e.events.on("keydown",function(we){if(o){var Me=-1!=navigator.userAgent.indexOf("Mac OS X")?we.metaKey:we.ctrlKey,Ge=we.which;(Ge!==se||200<we.timeStamp-Ae)&&(ve=1),(Ge==t.FE.KEYCODE.EQUALS||e.browser.mozilla&&Ge==t.FE.KEYCODE.FF_EQUALS)&&Me&&!we.altKey?ve=j.call(this,we,1,1,ve):(Ge==t.FE.KEYCODE.HYPHEN||e.browser.mozilla&&Ge==t.FE.KEYCODE.FF_HYPHEN)&&Me&&!we.altKey?ve=j.call(this,we,2,-1,ve):e.keys.ctrlKey(we)||Ge!=t.FE.KEYCODE.ENTER||(o.before("<br>"),Re(o)),se=Ge,Ae=we.timeStamp}},!0),e.events.on("keyup",function(){ve=1})}}(),!o)return!1;var N=e.$wp||e.$sc;N.append(i),i.data("instance",e);var h=N.scrollTop()-("static"!=N.css("position")?N.offset().top:0),I=N.scrollLeft()-("static"!=N.css("position")?N.offset().left:0);I-=e.helpers.getPX(N.css("border-left-width")),h-=e.helpers.getPX(N.css("border-top-width")),e.$el.is("img")&&e.$sc.is("body")&&(I=h=0);var H=oe();xe()&&(H=H.find(".fr-img-wrap")),i.css("top",(e.opts.iframe?H.offset().top:H.offset().top+h)-1).css("left",(e.opts.iframe?H.offset().left:H.offset().left+I)-1).css("width",H.get(0).getBoundingClientRect().width).css("height",H.get(0).getBoundingClientRect().height).addClass("fr-active")}function q(N){return'<div class="fr-handler fr-h'+N+'"></div>'}function v(N){xe()?o.parents(".fr-img-caption").css("width",N):o.css("width",N)}function D(N){if(!e.core.sameInstance(i))return!0;if(N.preventDefault(),N.stopPropagation(),e.$el.find("img.fr-error").left)return!1;e.undo.canDo()||e.undo.saveStep();var h=N.pageX||N.originalEvent.touches[0].pageX;if("mousedown"==N.type){var I=e.$oel.get(0).ownerDocument,H=I.defaultView||I.parentWindow,Q=!1;try{Q=H.location!=H.parent.location&&!(H.$&&H.$.FE)}catch{}Q&&H.frameElement&&(h+=e.helpers.getPX(t(H.frameElement).offset().left)+H.frameElement.clientLeft)}(y=t(this)).data("start-x",h),y.data("start-width",o.width()),y.data("start-height",o.height());var ve=o.width();if(e.opts.imageResizeWithPercent){var se=o.parentsUntil(e.$el,e.html.blockTagsQuery()).get(0)||e.el;ve=(ve/t(se).outerWidth()*100).toFixed(2)+"%"}v(ve),E.show(),e.popups.hideAll(),Je()}function G(N){if(!e.core.sameInstance(i))return!0;var h;if(y&&o){if(N.preventDefault(),e.$el.find("img.fr-error").left)return!1;var I=N.pageX||(N.originalEvent.touches?N.originalEvent.touches[0].pageX:null);if(!I)return!1;var H=I-y.data("start-x"),Q=y.data("start-width");if((y.hasClass("fr-hnw")||y.hasClass("fr-hsw"))&&(H=0-H),e.opts.imageResizeWithPercent){var ve=o.parentsUntil(e.$el,e.html.blockTagsQuery()).get(0)||e.el;Q=((Q+H)/t(ve).outerWidth()*100).toFixed(2),e.opts.imageRoundPercent&&(Q=Math.round(Q)),v(Q+"%"),(h=xe()?(e.helpers.getPX(o.parents(".fr-img-caption").css("width"))/t(ve).outerWidth()*100).toFixed(2):(e.helpers.getPX(o.css("width"))/t(ve).outerWidth()*100).toFixed(2))===Q||e.opts.imageRoundPercent||v(h+"%"),o.css("height","").removeAttr("height")}else Q+H>=e.opts.imageMinWidth&&(v(Q+H),h=xe()?e.helpers.getPX(o.parents(".fr-img-caption").css("width")):e.helpers.getPX(o.css("width"))),h!==Q+H&&v(h),((o.attr("style")||"").match(/(^height:)|(; *height:)/)||o.attr("height"))&&(o.css("height",y.data("start-height")*o.width()/y.data("start-width")),o.removeAttr("height"));x(),e.events.trigger("image.resize",[ne()])}}function k(N){if(!e.core.sameInstance(i))return!0;if(y&&o){if(N&&N.stopPropagation(),e.$el.find("img.fr-error").left)return!1;y=null,E.hide(),x(),u(),e.undo.saveStep(),e.events.trigger("image.resizeEnd",[ne()])}}function te(N,h,I){e.edit.on(),o&&o.addClass("fr-error"),function(H){Ee();var Q=e.popups.get("image.insert").find(".fr-image-progress-bar-layer");Q.addClass("fr-error");var ve=Q.find("h3");ve.text(H),e.events.disableBlur(),ve.focus()}(e.language.translate("Something went wrong. Please try again.")),!o&&I&&fe(I),e.events.trigger("image.error",[{code:N,message:a[N]},h,I])}function J(N){if(N)return e.$wp&&e.events.$on(e.$wp,"scroll.image-edit",function(){o&&e.popups.isVisible("image.edit")&&(e.events.disableBlur(),u())}),!0;var h="";if(0<e.opts.imageEditButtons.length){h+='<div class="fr-buttons">',h+=e.button.buildList(e.opts.imageEditButtons);var I={buttons:h+="</div>"};return e.popups.create("image.edit",I)}return!1}function Ee(N){var h=e.popups.get("image.insert");if(h||(h=Se()),h.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),h.find(".fr-image-progress-bar-layer").addClass("fr-active"),h.find(".fr-buttons").hide(),o){var I=oe();e.popups.setContainer("image.insert",e.$sc);var H=I.offset().left+I.width()/2,Q=I.offset().top+I.height();e.popups.show("image.insert",H,Q,I.outerHeight())}void 0===N&&pe(e.language.translate("Uploading"),0)}function ye(N){var h=e.popups.get("image.insert");if(h&&(h.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),h.find(".fr-image-progress-bar-layer").removeClass("fr-active"),h.find(".fr-buttons").show(),N||e.$el.find("img.fr-error").length)){if(e.events.focus(),e.$el.find("img.fr-error").length&&(e.$el.find("img.fr-error").remove(),e.undo.saveStep(),e.undo.run(),e.undo.dropRedo()),!e.$wp&&o){var I=o;me(!0),e.selection.setAfter(I.get(0)),e.selection.restore()}e.popups.hide("image.insert")}}function pe(N,h){var I=e.popups.get("image.insert");if(I){var H=I.find(".fr-image-progress-bar-layer");H.find("h3").text(N+(h?" "+h+"%":"")),H.removeClass("fr-error"),h?(H.find("div").removeClass("fr-indeterminate"),H.find("div > span").css("width",h+"%")):H.find("div").addClass("fr-indeterminate")}}function Re(N){_e.call(N.get(0))}function qe(){var N=t(this);e.popups.hide("image.insert"),N.removeClass("fr-uploading"),N.next().is("br")&&N.next().remove(),Re(N),e.events.trigger("image.loaded",[N])}function Oe(N,h,I,H,Q){e.edit.off(),pe(e.language.translate("Loading image")),h&&(N=e.helpers.sanitizeURL(N));var ve=new Image;ve.onload=function(){var se,Ae;if(H){e.undo.canDo()||H.hasClass("fr-uploading")||e.undo.saveStep();var we=H.data("fr-old-src");H.data("fr-image-pasted")&&(we=null),e.$wp?((se=H.clone().removeData("fr-old-src").removeClass("fr-uploading").removeAttr("data-fr-image-pasted")).off("load"),we&&H.attr("src",we),H.replaceWith(se)):se=H;for(var Me=se.get(0).attributes,Ge=0;Ge<Me.length;Ge++){var tt=Me[Ge];0===tt.nodeName.indexOf("data-")&&se.removeAttr(tt.nodeName)}if(void 0!==I)for(Ae in I)I.hasOwnProperty(Ae)&&"link"!=Ae&&se.attr("data-"+Ae,I[Ae]);se.on("load",qe),se.attr("src",N),e.edit.on(),S(!1),e.undo.saveStep(),e.events.disableBlur(),e.$el.blur(),e.events.trigger(we?"image.replaced":"image.inserted",[se,Q])}else se=He(N,I,qe),S(!1),e.undo.saveStep(),e.events.disableBlur(),e.$el.blur(),e.events.trigger("image.inserted",[se,Q])},ve.onerror=function(){te(f)},Ee(e.language.translate("Loading image")),ve.src=N}function de(N){pe(e.language.translate("Loading image"));var h=this.status,I=this.response,H=this.responseXML,Q=this.responseText;try{if(e.opts.imageUploadToS3)if(201==h){var ve=function(Ae){try{var we=t(Ae).find("Location").text(),Me=t(Ae).find("Key").text();return!1===e.events.trigger("image.uploadedToS3",[we,Me,Ae],!0)?(e.edit.on(),!1):we}catch{return te(_,Ae),!1}}(H);ve&&Oe(ve,!1,[],N,I||H)}else te(_,I||H,N);else if(200<=h&&h<300){var se=function(Ae){try{if(!1===e.events.trigger("image.uploaded",[Ae],!0))return e.edit.on(),!1;var we=JSON.parse(Ae);return we.link?we:(te(R,Ae),!1)}catch{return te(_,Ae),!1}}(Q);se&&Oe(se.link,!1,se,N,I||Q)}else te(T,I||Q,N)}catch{te(_,I||Q,N)}}function $e(){te(_,this.response||this.responseText||this.responseXML)}function le(N){if(N.lengthComputable){var h=N.loaded/N.total*100|0;pe(e.language.translate("Uploading"),h)}}function He(N,h,I){var H,Q="";if(h&&void 0!==h)for(H in h)h.hasOwnProperty(H)&&"link"!=H&&(Q+=" data-"+H+'="'+h[H]+'"');var ve=e.opts.imageDefaultWidth;ve&&"auto"!=ve&&(ve+=e.opts.imageResizeWithPercent?"%":"px");var se=t('<img src="'+N+'"'+Q+(ve?' style="width: '+ve+';"':"")+">");et(se,e.opts.imageDefaultDisplay,e.opts.imageDefaultAlign),se.on("load",I),se.on("error",function(){t(this).addClass("fr-error"),te(l)}),e.edit.on(),e.events.focus(!0),e.selection.restore(),e.undo.saveStep(),e.opts.imageSplitHTML?e.markers.split():e.markers.insert(),e.html.wrap();var Ae=e.$el.find(".fr-marker");return Ae.length?(Ae.parent().is("hr")&&Ae.parent().after(Ae),e.node.isLastSibling(Ae)&&Ae.parent().hasClass("fr-deletable")&&Ae.insertAfter(Ae.parent()),Ae.replaceWith(se)):e.$el.append(se),e.selection.clear(),se}function ce(){e.edit.on(),ye(!0)}function Be(N,h){if(void 0!==N&&0<N.length){if(!1===e.events.trigger("image.beforeUpload",[N,h]))return!1;var I,H=N[0];if((null===e.opts.imageUploadURL||e.opts.imageUploadURL==L)&&!e.opts.imageUploadToS3)return se=H,Ae=h||o,(we=new FileReader).addEventListener("load",function(){var Me=we.result;if(we.result.indexOf("svg+xml")<0){for(var Ge=atob(we.result.split(",")[1]),tt=[],Xe=0;Xe<Ge.length;Xe++)tt.push(Ge.charCodeAt(Xe));Me=window.URL.createObjectURL(new Blob([new Uint8Array(tt)],{type:se.type})),e.image.insert(Me,!1,null,Ae)}},!1),Ee(),we.readAsDataURL(se),!1;if(H.name||(H.name=(new Date).getTime()+"."+(H.type||"image/jpeg").replace(/image\//g,"")),H.size>e.opts.imageMaxSize)return te(A),!1;if(e.opts.imageAllowedTypes.indexOf(H.type.replace(/image\//g,""))<0)return te(c),!1;if(e.drag_support.formdata&&(I=e.drag_support.formdata?new FormData:null),I){var Q;if(!1!==e.opts.imageUploadToS3)for(Q in I.append("key",e.opts.imageUploadToS3.keyStart+(new Date).getTime()+"-"+(H.name||"untitled")),I.append("success_action_status","201"),I.append("X-Requested-With","xhr"),I.append("Content-Type",H.type),e.opts.imageUploadToS3.params)e.opts.imageUploadToS3.params.hasOwnProperty(Q)&&I.append(Q,e.opts.imageUploadToS3.params[Q]);for(Q in e.opts.imageUploadParams)e.opts.imageUploadParams.hasOwnProperty(Q)&&I.append(Q,e.opts.imageUploadParams[Q]);I.append(e.opts.imageUploadParam,H,H.name);var ve=e.opts.imageUploadURL;e.opts.imageUploadToS3&&(ve=e.opts.imageUploadToS3.uploadURL?e.opts.imageUploadToS3.uploadURL:"https://"+e.opts.imageUploadToS3.region+".amazonaws.com/"+e.opts.imageUploadToS3.bucket),function(Me,Ge,tt,Xe){function gt(){var pt=t(this);pt.off("load"),pt.addClass("fr-uploading"),pt.next().is("br")&&pt.next().remove(),e.placeholder.refresh(),Re(pt),x(),Ee(),e.edit.off(),Me.onload=function(){de.call(Me,pt)},Me.onerror=$e,Me.upload.onprogress=le,Me.onabort=ce,pt.off("abortUpload").on("abortUpload",function(){4!=Me.readyState&&Me.abort()}),Me.send(Ge)}var ct=new FileReader;ct.addEventListener("load",function(){var pt=ct.result;if(ct.result.indexOf("svg+xml")<0){for(var At=atob(ct.result.split(",")[1]),Et=[],Ft=0;Ft<At.length;Ft++)Et.push(At.charCodeAt(Ft));pt=window.URL.createObjectURL(new Blob([new Uint8Array(Et)],{type:"image/jpeg"}))}Xe?(Xe.on("load",gt),Xe.one("error",function(){Xe.off("load"),Xe.attr("src",Xe.data("fr-old-src")),te(l)}),e.edit.on(),e.undo.saveStep(),Xe.data("fr-old-src",Xe.attr("src")),Xe.attr("src",pt)):He(pt,null,gt)},!1),ct.readAsDataURL(tt)}(e.core.getXHR(ve,e.opts.imageUploadMethod),I,H,h||o)}}var se,Ae,we}function je(N){if(N.is("img")&&0<N.parents(".fr-img-caption").length)return N.parents(".fr-img-caption")}function ae(N){var h=N.originalEvent.dataTransfer;if(h&&h.files&&h.files.length){var I=h.files[0];if(I&&I.type&&-1!==I.type.indexOf("image")&&0<=e.opts.imageAllowedTypes.indexOf(I.type.replace(/image\//g,""))){if(!e.opts.imageUpload)return N.preventDefault(),N.stopPropagation(),!1;e.markers.remove(),e.markers.insertAtPoint(N.originalEvent),e.$el.find(".fr-marker").replaceWith(t.FE.MARKERS),0===e.$el.find(".fr-marker").length&&e.selection.setAtEnd(e.el),e.popups.hideAll();var H=e.popups.get("image.insert");H||(H=Se()),e.popups.setContainer("image.insert",e.$sc);var Q=N.originalEvent.pageX,ve=N.originalEvent.pageY;return e.opts.iframe&&(ve+=e.$iframe.offset().top,Q+=e.$iframe.offset().left),e.popups.show("image.insert",Q,ve),Ee(),0<=e.opts.imageAllowedTypes.indexOf(I.type.replace(/image\//g,""))?(me(!0),Be(h.files)):te(c),N.preventDefault(),N.stopPropagation(),!1}}}function Se(N){if(N)return e.popups.onRefresh("image.insert",s),e.popups.onHide("image.insert",m),!0;var h,I="";e.opts.imageUpload||e.opts.imageInsertButtons.splice(e.opts.imageInsertButtons.indexOf("imageUpload"),1),1<e.opts.imageInsertButtons.length&&(I='<div class="fr-buttons">'+e.button.buildList(e.opts.imageInsertButtons)+"</div>");var H=e.opts.imageInsertButtons.indexOf("imageUpload"),Q=e.opts.imageInsertButtons.indexOf("imageByURL"),ve="";0<=H&&(h=" fr-active",0<=Q&&Q<H&&(h=""),ve='<div class="fr-image-upload-layer'+h+' fr-layer" id="fr-image-upload-layer-'+e.id+'"><strong>'+e.language.translate("Drop image")+"</strong><br>("+e.language.translate("or click")+')<div class="fr-form"><input type="file" accept="image/'+e.opts.imageAllowedTypes.join(", image/").toLowerCase()+'" tabIndex="-1" aria-labelledby="fr-image-upload-layer-'+e.id+'" role="button"></div></div>');var se="";0<=Q&&(h=" fr-active",0<=H&&H<Q&&(h=""),se='<div class="fr-image-by-url-layer'+h+' fr-layer" id="fr-image-by-url-layer-'+e.id+'"><div class="fr-input-line"><input id="fr-image-by-url-layer-text-'+e.id+'" type="text" placeholder="http://" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageInsertByURL" tabIndex="2" role="button">'+e.language.translate("Insert")+"</button></div></div>");var Ae,Me=e.popups.create("image.insert",{buttons:I,upload_layer:ve,by_url_layer:se,progress_bar:'<div class="fr-image-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="imageDismissError" tabIndex="2" role="button">OK</button></div></div>'});return e.$wp&&e.events.$on(e.$wp,"scroll",function(){o&&e.popups.isVisible("image.insert")&&$()}),e.events.$on(Ae=Me,"dragover dragenter",".fr-image-upload-layer",function(){return t(this).addClass("fr-drop"),!1},!0),e.events.$on(Ae,"dragleave dragend",".fr-image-upload-layer",function(){return t(this).removeClass("fr-drop"),!1},!0),e.events.$on(Ae,"drop",".fr-image-upload-layer",function(Ge){Ge.preventDefault(),Ge.stopPropagation(),t(this).removeClass("fr-drop");var tt=Ge.originalEvent.dataTransfer;if(tt&&tt.files){var Xe=Ae.data("instance")||e;Xe.events.disableBlur(),Xe.image.upload(tt.files),Xe.events.enableBlur()}},!0),e.helpers.isIOS()&&e.events.$on(Ae,"touchstart",'.fr-image-upload-layer input[type="file"]',function(){t(this).trigger("click")},!0),e.events.$on(Ae,"change",'.fr-image-upload-layer input[type="file"]',function(){if(this.files){var Ge=Ae.data("instance")||e;Ge.events.disableBlur(),Ae.find("input:focus").blur(),Ge.events.enableBlur(),Ge.image.upload(this.files,o)}t(this).val("")},!0),Me}function ze(){o&&e.popups.get("image.alt").find("input").val(o.attr("alt")||"").trigger("change")}function Ze(){var N=e.popups.get("image.alt");N||(N=Ye()),ye(),e.popups.refresh("image.alt"),e.popups.setContainer("image.alt",e.$sc);var h=oe();xe()&&(h=h.find(".fr-img-wrap"));var I=h.offset().left+h.outerWidth()/2,H=h.offset().top+h.outerHeight();e.popups.show("image.alt",I,H,h.outerHeight())}function Ye(N){if(N)return e.popups.onRefresh("image.alt",ze),!0;var h={buttons:'<div class="fr-buttons">'+e.button.buildList(e.opts.imageAltButtons)+"</div>",alt_layer:'<div class="fr-image-alt-layer fr-layer fr-active" id="fr-image-alt-layer-'+e.id+'"><div class="fr-input-line"><input id="fr-image-alt-layer-text-'+e.id+'" type="text" placeholder="'+e.language.translate("Alternative Text")+'" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetAlt" tabIndex="2" role="button">'+e.language.translate("Update")+"</button></div></div>"},I=e.popups.create("image.alt",h);return e.$wp&&e.events.$on(e.$wp,"scroll.image-alt",function(){o&&e.popups.isVisible("image.alt")&&Ze()}),I}function lt(){var N=e.popups.get("image.size");if(o)if(xe()){var h=o.parent();h.get(0).style.width||(h=o.parent().parent()),N.find('input[name="width"]').val(h.get(0).style.width).trigger("change"),N.find('input[name="height"]').val(h.get(0).style.height).trigger("change")}else N.find('input[name="width"]').val(o.get(0).style.width).trigger("change"),N.find('input[name="height"]').val(o.get(0).style.height).trigger("change")}function Ne(){var N=e.popups.get("image.size");N||(N=Ve()),ye(),e.popups.refresh("image.size"),e.popups.setContainer("image.size",e.$sc);var h=oe();xe()&&(h=h.find(".fr-img-wrap"));var I=h.offset().left+h.outerWidth()/2,H=h.offset().top+h.outerHeight();e.popups.show("image.size",I,H,h.outerHeight())}function Ve(N){if(N)return e.popups.onRefresh("image.size",lt),!0;var h={buttons:'<div class="fr-buttons">'+e.button.buildList(e.opts.imageSizeButtons)+"</div>",size_layer:'<div class="fr-image-size-layer fr-layer fr-active" id="fr-image-size-layer-'+e.id+'"><div class="fr-image-group"><div class="fr-input-line"><input id="fr-image-size-layer-width-'+e.id+'" type="text" name="width" placeholder="'+e.language.translate("Width")+'" tabIndex="1"></div><div class="fr-input-line"><input id="fr-image-size-layer-height'+e.id+'" type="text" name="height" placeholder="'+e.language.translate("Height")+'" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetSize" tabIndex="2" role="button">'+e.language.translate("Update")+"</button></div></div>"},I=e.popups.create("image.size",h);return e.$wp&&e.events.$on(e.$wp,"scroll.image-size",function(){o&&e.popups.isVisible("image.size")&&Ne()}),I}function j(N,h,I,H){return N.pageX=h,D.call(this,N),N.pageX=N.pageX+I*Math.floor(Math.pow(1.1,H)),G.call(this,N),k.call(this,N),++H}function fe(N){(N=N||oe())&&!1!==e.events.trigger("image.beforeRemove",[N])&&(e.popups.hideAll(),X(),me(!0),e.undo.canDo()||e.undo.saveStep(),N.get(0)==e.el?N.removeAttr("src"):(N.get(0).parentNode&&"A"==N.get(0).parentNode.tagName?(e.selection.setBefore(N.get(0).parentNode)||e.selection.setAfter(N.get(0).parentNode)||N.parent().after(t.FE.MARKERS),t(N.get(0).parentNode).remove()):(e.selection.setBefore(N.get(0))||e.selection.setAfter(N.get(0))||N.after(t.FE.MARKERS),N.remove()),e.html.fillEmptyBlocks(),e.selection.restore()),e.undo.saveStep())}function M(N){var h=N.which;if(o&&(h==t.FE.KEYCODE.BACKSPACE||h==t.FE.KEYCODE.DELETE))return N.preventDefault(),N.stopPropagation(),fe(),!1;if(o&&h==t.FE.KEYCODE.ESC){var I=o;return me(!0),e.selection.setAfter(I.get(0)),e.selection.restore(),N.preventDefault(),!1}if(o&&(h==t.FE.KEYCODE.ARROW_LEFT||h==t.FE.KEYCODE.ARROW_RIGHT)){var H=o.get(0);return me(!0),h==t.FE.KEYCODE.ARROW_LEFT?e.selection.setBefore(H):e.selection.setAfter(H),e.selection.restore(),N.preventDefault(),!1}return o&&h!=t.FE.KEYCODE.F10&&!e.keys.isBrowserAction(N)?(N.preventDefault(),N.stopPropagation(),!1):void 0}function U(N){if(N&&"IMG"==N.tagName){if(e.node.hasClass(N,"fr-uploading")||e.node.hasClass(N,"fr-error")?N.parentNode.removeChild(N):e.node.hasClass(N,"fr-draggable")&&N.classList.remove("fr-draggable"),N.parentNode&&N.parentNode.parentNode&&e.node.hasClass(N.parentNode.parentNode,"fr-img-caption")){var h=N.parentNode.parentNode;h.removeAttribute("contenteditable"),h.removeAttribute("draggable"),h.classList.remove("fr-draggable");var I=N.nextSibling;I&&I.removeAttribute("contenteditable")}}else if(N&&N.nodeType==Node.ELEMENT_NODE)for(var H=N.querySelectorAll("img.fr-uploading, img.fr-error, img.fr-draggable"),Q=0;Q<H.length;Q++)U(H[Q])}function K(N){if(!1===e.events.trigger("image.beforePasteUpload",[N]))return!1;o=t(N),x(),u(),$(),Ee(),o.one("load",function(){x(),Ee()});for(var h=atob(t(N).attr("src").split(",")[1]),I=[],H=0;H<h.length;H++)I.push(h.charCodeAt(H));Be([new Blob([new Uint8Array(I)],{type:t(N).attr("src").split(",")[0].replace(/data\:/g,"").replace(/;base64/g,"")})],o)}function P(){e.opts.imagePaste?e.$el.find("img[data-fr-image-pasted]").each(function(N,h){if(e.opts.imagePasteProcess){var I=e.opts.imageDefaultWidth;I&&"auto"!=I&&(I+=e.opts.imageResizeWithPercent?"%":"px"),t(h).css("width",I).removeClass("fr-dii fr-dib fr-fir fr-fil"),et(t(h),e.opts.imageDefaultDisplay,e.opts.imageDefaultAlign)}if(0===h.src.indexOf("data:"))K(h);else if(0===h.src.indexOf("blob:")||0===h.src.indexOf("http")&&e.opts.imageUploadRemoteUrls&&e.opts.imageCORSProxy){var H=new Image;H.crossOrigin="Anonymous",H.onload=function(){var Q=e.o_doc.createElement("CANVAS"),ve=Q.getContext("2d");Q.height=this.naturalHeight,Q.width=this.naturalWidth,ve.drawImage(this,0,0),h.src=Q.toDataURL("image/png"),K(h)},H.src=(0===h.src.indexOf("blob:")?"":e.opts.imageCORSProxy+"/")+h.src}else 0!==h.src.indexOf("http")||0===h.src.indexOf("https://mail.google.com/mail")?(e.selection.save(),t(h).remove(),e.selection.restore()):t(h).removeAttr("data-fr-image-pasted")}):e.$el.find("img[data-fr-image-pasted]").remove()}function Y(N){var h=N.target.result,I=e.opts.imageDefaultWidth;I&&"auto"!=I&&(I+=e.opts.imageResizeWithPercent?"%":"px"),e.undo.saveStep(),e.html.insert('<img data-fr-image-pasted="true" src="'+h+'"'+(I?' style="width: '+I+';"':"")+">");var H=e.$el.find('img[data-fr-image-pasted="true"]');H&&et(H,e.opts.imageDefaultDisplay,e.opts.imageDefaultAlign),e.events.trigger("paste.after")}function V(N){if(N&&N.clipboardData&&N.clipboardData.items){var h=null;if(N.clipboardData.getData("text/rtf"))h=N.clipboardData.items[0].getAsFile();else for(var I=0;I<N.clipboardData.items.length&&!(h=N.clipboardData.items[I].getAsFile());I++);if(h)return H=h,(Q=new FileReader).onload=Y,Q.readAsDataURL(H),!1}var H,Q}function he(N){return N.replace(/<img /gi,'<img data-fr-image-pasted="true" ')}function _e(N){if("false"==t(this).parents("[contenteditable]:not(.fr-element):not(.fr-img-caption):not(body):first").attr("contenteditable")||N&&"touchend"==N.type&&p)return!0;if(N&&e.edit.isDisabled())return N.stopPropagation(),N.preventDefault(),!1;for(var h=0;h<t.FE.INSTANCES.length;h++)t.FE.INSTANCES[h]!=e&&t.FE.INSTANCES[h].events.trigger("image.hideResizer");e.toolbar.disable(),N&&(N.stopPropagation(),N.preventDefault()),e.helpers.isMobile()&&(e.events.disableBlur(),e.$el.blur(),e.events.enableBlur()),e.opts.iframe&&e.size.syncIframe(),o=t(this),X(),x(),u(),e.popups.areVisible()&&e.events.disableBlur(),e.win.getSelection?(e.win.getSelection().removeAllRanges(),e.win.getSelection().addRange(e.doc.createRange())):e.selection.clear(),e.helpers.isIOS()&&(e.events.disableBlur(),e.$el.blur()),e.button.bulkRefresh(),e.events.trigger("video.hideResizer")}function me(N){o&&(Le||!0===N)&&(e.toolbar.enable(),i.removeClass("fr-active"),e.popups.hide("image.edit"),o=null,Je(),y=null,E&&E.hide())}a[f]="Image cannot be loaded from the passed link.",a[R]="No link in upload response.",a[T]="Error during file upload.",a[_]="Parsing response failed.",a[A]="File is too large.",a[c]="Image file type is invalid.",a[7]="Files can be uploaded only to same domain in IE 8 and IE 9.";var Le=!(a[l]="Image file is corrupted.");function Qe(){Le=!0}function Je(){Le=!1}function et(N,h,I){!e.opts.htmlUntouched&&e.opts.useClasses?(N.removeClass("fr-fil fr-fir fr-dib fr-dii"),I&&N.addClass("fr-fi"+I[0]),h&&N.addClass("fr-di"+h[0])):"inline"==h?(N.css({display:"inline-block",verticalAlign:"bottom",margin:e.opts.imageDefaultMargin}),N.css("center"==I?{float:"none",marginBottom:"",marginTop:"",maxWidth:"calc(100% - "+2*e.opts.imageDefaultMargin+"px)",textAlign:"center"}:"left"==I?{float:"left",marginLeft:0,maxWidth:"calc(100% - "+e.opts.imageDefaultMargin+"px)",textAlign:"left"}:{float:"right",marginRight:0,maxWidth:"calc(100% - "+e.opts.imageDefaultMargin+"px)",textAlign:"right"})):"block"==h&&(N.css({display:"block",float:"none",verticalAlign:"top",margin:e.opts.imageDefaultMargin+"px auto",textAlign:"center"}),"left"==I?N.css({marginLeft:0,textAlign:"left"}):"right"==I&&N.css({marginRight:0,textAlign:"right"}))}function nt(N){if(void 0===N&&(N=oe()),N){if(N.hasClass("fr-fil"))return"left";if(N.hasClass("fr-fir"))return"right";if(N.hasClass("fr-dib")||N.hasClass("fr-dii"))return"center";var h=N.css("float");if(N.css("float","none"),"block"==N.css("display")){if(N.css("float",""),N.css("float")!=h&&N.css("float",h),0===parseInt(N.css("margin-left"),10))return"left";if(0===parseInt(N.css("margin-right"),10))return"right"}else{if(N.css("float",""),N.css("float")!=h&&N.css("float",h),"left"==N.css("float"))return"left";if("right"==N.css("float"))return"right"}}return"center"}function rt(N){void 0===N&&(N=oe());var h=N.css("float");return N.css("float","none"),"block"==N.css("display")?(N.css("float",""),N.css("float")!=h&&N.css("float",h),"block"):(N.css("float",""),N.css("float")!=h&&N.css("float",h),"inline")}function $(){var N=e.popups.get("image.insert");N||(N=Se()),e.popups.isVisible("image.insert")||(ye(),e.popups.refresh("image.insert"),e.popups.setContainer("image.insert",e.$sc));var h=oe();xe()&&(h=h.find(".fr-img-wrap"));var I=h.offset().left+h.outerWidth()/2,H=h.offset().top+h.outerHeight();e.popups.show("image.insert",I,H,h.outerHeight(!0))}function X(){if(o){e.events.disableBlur(),e.selection.clear();var N=e.doc.createRange();N.selectNode(o.get(0)),e.browser.msie&&N.collapse(!0),e.selection.get().addRange(N),e.events.enableBlur()}}function ne(){return o}function oe(){return xe()?o.parents(".fr-img-caption:first"):o}function xe(){return!!o&&0<o.parents(".fr-img-caption").length}return{_init:function(){var N;e.events.$on(e.$el,e._mousedown,"IMG"==e.el.tagName?null:'img:not([contenteditable="false"])',function(h){if("false"==t(this).parents("[contenteditable]:not(.fr-element):not(.fr-img-caption):not(body):first").attr("contenteditable"))return!0;e.helpers.isMobile()||e.selection.clear(),w=!0,e.popups.areVisible()&&e.events.disableBlur(),e.browser.msie&&(e.events.disableBlur(),e.$el.attr("contenteditable",!1)),e.draggable||"touchstart"==h.type||h.preventDefault(),h.stopPropagation()}),e.events.$on(e.$el,e._mouseup,"IMG"==e.el.tagName?null:'img:not([contenteditable="false"])',function(h){if("false"==t(this).parents("[contenteditable]:not(.fr-element):not(.fr-img-caption):not(body):first").attr("contenteditable"))return!0;w&&(w=!1,h.stopPropagation(),e.browser.msie&&(e.$el.attr("contenteditable",!0),e.events.enableBlur()))}),e.events.on("keyup",function(h){if(h.shiftKey&&""===e.selection.text().replace(/\n/g,"")&&e.keys.isArrow(h.which)){var I=e.selection.element(),H=e.selection.endElement();I&&"IMG"==I.tagName?Re(t(I)):H&&"IMG"==H.tagName&&Re(t(H))}},!0),e.events.on("drop",ae),e.events.on("element.beforeDrop",je),e.events.on("mousedown window.mousedown",Qe),e.events.on("window.touchmove",Je),e.events.on("mouseup window.mouseup",function(){if(o)return me(),!1;Je()}),e.events.on("commands.mousedown",function(h){0<h.parents(".fr-toolbar").length&&me()}),e.events.on("image.resizeEnd",function(){e.opts.iframe&&e.size.syncIframe()}),e.events.on("blur image.hideResizer commands.undo commands.redo element.dropped",function(){me(!(w=!1))}),e.events.on("modals.hide",function(){o&&(X(),e.selection.clear())}),e.events.on("image.resizeEnd",function(){e.win.getSelection&&Re(o)}),"IMG"==e.el.tagName&&e.$el.addClass("fr-view"),e.events.$on(e.$el,e.helpers.isMobile()&&!e.helpers.isWindowsPhone()?"touchend":"click","IMG"==e.el.tagName?null:'img:not([contenteditable="false"])',_e),e.helpers.isMobile()&&(e.events.$on(e.$el,"touchstart","IMG"==e.el.tagName?null:'img:not([contenteditable="false"])',function(){p=!1}),e.events.$on(e.$el,"touchmove",function(){p=!0})),e.$wp?(e.events.on("window.keydown keydown",M,!0),e.events.on("keyup",function(h){if(o&&h.which==t.FE.KEYCODE.ENTER)return!1},!0),e.events.$on(e.$el,"keydown",function(){var h=e.selection.element();h.nodeType===Node.TEXT_NODE&&(h=h.parentNode),e.node.hasClass(h,"fr-inner")||(e.node.hasClass(h,"fr-img-caption")||(h=t(h).parents(".fr-img-caption").get(0)),t(h).after(t.FE.INVISIBLE_SPACE+t.FE.MARKERS),e.selection.restore())})):e.events.$on(e.$win,"keydown",M),e.events.on("toolbar.esc",function(){if(o){if(e.$wp)e.events.disableBlur(),e.events.focus();else{var h=o;me(!0),e.selection.setAfter(h.get(0)),e.selection.restore()}return!1}},!0),e.events.on("toolbar.focusEditor",function(){if(o)return!1},!0),e.events.on("window.cut window.copy",function(h){if(o&&e.popups.isVisible("image.edit")&&!e.popups.get("image.edit").find(":focus").length){var I=oe();xe()?(I.before(t.FE.START_MARKER),I.after(t.FE.END_MARKER),e.selection.restore(),e.paste.saveCopiedText(I.get(0).outerHTML,I.text())):(X(),e.paste.saveCopiedText(o.get(0).outerHTML,o.attr("alt"))),"copy"==h.type?setTimeout(function(){Re(o)}):(me(!0),e.undo.saveStep(),setTimeout(function(){e.undo.saveStep()},0))}},!0),e.browser.msie&&e.events.on("keydown",function(h){if(!e.selection.isCollapsed()||!o)return!0;var I=h.which;I==t.FE.KEYCODE.C&&e.keys.ctrlKey(h)?e.events.trigger("window.copy"):I==t.FE.KEYCODE.X&&e.keys.ctrlKey(h)&&e.events.trigger("window.cut")}),e.events.$on(t(e.o_win),"keydown",function(h){if(o&&h.which==t.FE.KEYCODE.BACKSPACE)return h.preventDefault(),!1}),e.events.$on(e.$win,"keydown",function(h){var I=h.which;o&&o.hasClass("fr-uploading")&&I==t.FE.KEYCODE.ESC&&o.trigger("abortUpload")}),e.events.on("destroy",function(){o&&o.hasClass("fr-uploading")&&o.trigger("abortUpload")}),e.events.on("paste.before",V),e.events.on("paste.beforeCleanup",he),e.events.on("paste.after",P),e.events.on("html.set",n),e.events.on("html.inserted",n),n(),e.events.on("destroy",function(){O=[]}),e.events.on("html.processGet",U),e.opts.imageOutputSize&&e.events.on("html.beforeGet",function(){N=e.el.querySelectorAll("img");for(var h=0;h<N.length;h++){var I=N[h].style.width||t(N[h]).width(),H=N[h].style.height||t(N[h]).height();I&&N[h].setAttribute("width",(""+I).replace(/px/,"")),H&&N[h].setAttribute("height",(""+H).replace(/px/,""))}}),e.opts.iframe&&e.events.on("image.loaded",e.size.syncIframe),e.$wp&&(S(),e.events.on("contentChanged",S)),e.events.$on(t(e.o_win),"orientationchange.image",function(){setTimeout(function(){o&&Re(o)},100)}),J(!0),Se(!0),Ve(!0),Ye(!0),e.events.on("node.remove",function(h){if("IMG"==h.get(0).tagName)return fe(h),!1})},showInsertPopup:function(){var N=e.$tb.find('.fr-command[data-cmd="insertImage"]'),h=e.popups.get("image.insert");if(h||(h=Se()),ye(),!h.hasClass("fr-active"))if(e.popups.refresh("image.insert"),e.popups.setContainer("image.insert",e.$tb),N.is(":visible")){var I=N.offset().left+N.outerWidth()/2,H=N.offset().top+(e.opts.toolbarBottom?10:N.outerHeight()-10);e.popups.show("image.insert",I,H,N.outerHeight())}else e.position.forSelection(h),e.popups.show("image.insert")},showLayer:function(N){var h,I,H=e.popups.get("image.insert");if(o||e.opts.toolbarInline){if(o){var Q=oe();xe()&&(Q=Q.find(".fr-img-wrap")),I=Q.offset().top+Q.outerHeight(),h=Q.offset().left+Q.outerWidth()/2}}else{var ve=e.$tb.find('.fr-command[data-cmd="insertImage"]');h=ve.offset().left+ve.outerWidth()/2,I=ve.offset().top+(e.opts.toolbarBottom?10:ve.outerHeight()-10)}!o&&e.opts.toolbarInline&&(I=H.offset().top-e.helpers.getPX(H.css("margin-top")),H.hasClass("fr-above")&&(I+=H.outerHeight())),H.find(".fr-layer").removeClass("fr-active"),H.find(".fr-"+N+"-layer").addClass("fr-active"),e.popups.show("image.insert",h,I,o?o.outerHeight():0),e.accessibility.focusPopup(H)},refreshUploadButton:function(N){e.popups.get("image.insert").find(".fr-image-upload-layer").hasClass("fr-active")&&N.addClass("fr-active").attr("aria-pressed",!0)},refreshByURLButton:function(N){e.popups.get("image.insert").find(".fr-image-by-url-layer").hasClass("fr-active")&&N.addClass("fr-active").attr("aria-pressed",!0)},upload:Be,insertByURL:function(){var N=e.popups.get("image.insert").find(".fr-image-by-url-layer input");if(0<N.val().length){Ee(),pe(e.language.translate("Loading image"));var h=N.val();if(e.opts.imageUploadRemoteUrls&&e.opts.imageCORSProxy&&e.opts.imageUpload){var I=new XMLHttpRequest;I.onload=function(){200==this.status?Be([new Blob([this.response],{type:this.response.type||"image/png"})],o):te(f)},I.onerror=function(){Oe(h,!0,[],o)},I.open("GET",e.opts.imageCORSProxy+"/"+h,!0),I.responseType="blob",I.send()}else Oe(h,!0,[],o);N.val(""),N.blur()}},align:function(N){var h=oe();h.removeClass("fr-fir fr-fil"),!e.opts.htmlUntouched&&e.opts.useClasses?"left"==N?h.addClass("fr-fil"):"right"==N&&h.addClass("fr-fir"):et(h,rt(),N),X(),x(),u(),e.selection.clear()},refreshAlign:function(N){o&&N.find("> *:first").replaceWith(e.icon.create("image-align-"+nt()))},refreshAlignOnShow:function(N,h){o&&h.find('.fr-command[data-param1="'+nt()+'"]').addClass("fr-active").attr("aria-selected",!0)},display:function(N){var h=oe();h.removeClass("fr-dii fr-dib"),!e.opts.htmlUntouched&&e.opts.useClasses?"inline"==N?h.addClass("fr-dii"):"block"==N&&h.addClass("fr-dib"):et(h,N,nt()),X(),x(),u(),e.selection.clear()},refreshDisplayOnShow:function(N,h){o&&h.find('.fr-command[data-param1="'+rt()+'"]').addClass("fr-active").attr("aria-selected",!0)},replace:$,back:function(){o?(e.events.disableBlur(),t(".fr-popup input:focus").blur(),Re(o)):(e.events.disableBlur(),e.selection.restore(),e.events.enableBlur(),e.popups.hide("image.insert"),e.toolbar.showInline())},get:ne,getEl:oe,insert:Oe,showProgressBar:Ee,remove:fe,hideProgressBar:ye,applyStyle:function(N,h,I){if(void 0===h&&(h=e.opts.imageStyles),void 0===I&&(I=e.opts.imageMultipleStyles),!o)return!1;var H=oe();if(!I){var Q=Object.keys(h);Q.splice(Q.indexOf(N),1),H.removeClass(Q.join(" "))}"object"==typeof h[N]?(H.removeAttr("style"),H.css(h[N].style)):H.toggleClass(N),Re(o)},showAltPopup:Ze,showSizePopup:Ne,setAlt:function(N){if(o){var h=e.popups.get("image.alt");o.attr("alt",N||h.find("input").val()||""),h.find("input:focus").blur(),Re(o)}},setSize:function(N,h){if(o){var I=e.popups.get("image.size");N=N||I.find('input[name="width"]').val()||"",h=h||I.find('input[name="height"]').val()||"";var H=/^[\d]+((px)|%)*$/g;o.removeAttr("width").removeAttr("height"),N.match(H)?o.css("width",N):o.css("width",""),h.match(H)?o.css("height",h):o.css("height",""),xe()&&(o.parent().removeAttr("width").removeAttr("height"),N.match(H)?o.parent().css("width",N):o.parent().css("width",""),h.match(H)?o.parent().css("height",h):o.parent().css("height","")),I&&I.find("input:focus").blur(),Re(o)}},toggleCaption:function(){var N;if(o&&!xe()){(N=o).parent().is("a")&&(N=o.parent());var h=N.width();N.wrap("<span "+(e.browser.mozilla?"":'contenteditable="false"')+'class="fr-img-caption '+o.attr("class")+'" draggable="false"></span>'),N.wrap('<span class="fr-img-wrap"></span>'),N.after('<span class="fr-inner"'+(e.browser.mozilla?"":' contenteditable="true"')+">"+t.FE.START_MARKER+"Image caption"+t.FE.END_MARKER+"</span>"),o.removeAttr("class").removeAttr("style").removeAttr("width"),o.parents(".fr-img-caption").css("width",h+"px"),me(!0),e.selection.restore()}else N=oe(),o.insertAfter(N),o.attr("class",N.attr("class").replace("fr-img-caption","")).attr("style",N.attr("style")),N.remove(),Re(o)},hasCaption:xe,exitEdit:me,edit:Re}},t.FE.DefineIcon("insertImage",{NAME:"image"}),t.FE.RegisterShortcut(t.FE.KEYCODE.P,"insertImage",null,"P"),t.FE.RegisterCommand("insertImage",{title:"Insert Image",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("image.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("image.insert")):this.image.showInsertPopup()},plugin:"image"}),t.FE.DefineIcon("imageUpload",{NAME:"upload"}),t.FE.RegisterCommand("imageUpload",{title:"Upload Image",undo:!1,focus:!1,toggle:!0,callback:function(){this.image.showLayer("image-upload")},refresh:function(e){this.image.refreshUploadButton(e)}}),t.FE.DefineIcon("imageByURL",{NAME:"link"}),t.FE.RegisterCommand("imageByURL",{title:"By URL",undo:!1,focus:!1,toggle:!0,callback:function(){this.image.showLayer("image-by-url")},refresh:function(e){this.image.refreshByURLButton(e)}}),t.FE.RegisterCommand("imageInsertByURL",{title:"Insert Image",undo:!0,refreshAfterCallback:!1,callback:function(){this.image.insertByURL()},refresh:function(e){this.image.get()?e.text(this.language.translate("Replace")):e.text(this.language.translate("Insert"))}}),t.FE.DefineIcon("imageDisplay",{NAME:"star"}),t.FE.RegisterCommand("imageDisplay",{title:"Display",type:"dropdown",options:{inline:"Inline",block:"Break Text"},callback:function(e,o){this.image.display(o)},refresh:function(e){this.opts.imageTextNear||e.addClass("fr-hidden")},refreshOnShow:function(e,o){this.image.refreshDisplayOnShow(e,o)}}),t.FE.DefineIcon("image-align",{NAME:"align-left"}),t.FE.DefineIcon("image-align-left",{NAME:"align-left"}),t.FE.DefineIcon("image-align-right",{NAME:"align-right"}),t.FE.DefineIcon("image-align-center",{NAME:"align-justify"}),t.FE.DefineIcon("imageAlign",{NAME:"align-justify"}),t.FE.RegisterCommand("imageAlign",{type:"dropdown",title:"Align",options:{left:"Align Left",center:"None",right:"Align Right"},html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',o=t.FE.COMMANDS.imageAlign.options;for(var i in o)o.hasOwnProperty(i)&&(e+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="imageAlign" data-param1="'+i+'" title="'+this.language.translate(o[i])+'">'+this.icon.create("image-align-"+i)+'<span class="fr-sr-only">'+this.language.translate(o[i])+"</span></a></li>");return e+"</ul>"},callback:function(e,o){this.image.align(o)},refresh:function(e){this.image.refreshAlign(e)},refreshOnShow:function(e,o){this.image.refreshAlignOnShow(e,o)}}),t.FE.DefineIcon("imageReplace",{NAME:"exchange",FA5NAME:"exchange-alt"}),t.FE.RegisterCommand("imageReplace",{title:"Replace",undo:!1,focus:!1,popup:!0,refreshAfterCallback:!1,callback:function(){this.image.replace()}}),t.FE.DefineIcon("imageRemove",{NAME:"trash"}),t.FE.RegisterCommand("imageRemove",{title:"Remove",callback:function(){this.image.remove()}}),t.FE.DefineIcon("imageBack",{NAME:"arrow-left"}),t.FE.RegisterCommand("imageBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.image.back()},refresh:function(e){this.image.get()||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),t.FE.RegisterCommand("imageDismissError",{title:"OK",undo:!1,callback:function(){this.image.hideProgressBar(!0)}}),t.FE.DefineIcon("imageStyle",{NAME:"magic"}),t.FE.RegisterCommand("imageStyle",{title:"Style",type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',o=this.opts.imageStyles;for(var i in o)if(o.hasOwnProperty(i)){var y=o[i];"object"==typeof y&&(y=y.title),e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="imageStyle" data-param1="'+i+'">'+this.language.translate(y)+"</a></li>"}return e+"</ul>"},callback:function(e,o){this.image.applyStyle(o)},refreshOnShow:function(e,o){var i=this.image.getEl();i&&o.find(".fr-command").each(function(){var y=t(this).data("param1"),E=i.hasClass(y);t(this).toggleClass("fr-active",E).attr("aria-selected",E)})}}),t.FE.DefineIcon("imageAlt",{NAME:"info"}),t.FE.RegisterCommand("imageAlt",{undo:!1,focus:!1,popup:!0,title:"Alternative Text",callback:function(){this.image.showAltPopup()}}),t.FE.RegisterCommand("imageSetAlt",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.image.setAlt()}}),t.FE.DefineIcon("imageSize",{NAME:"arrows-alt"}),t.FE.RegisterCommand("imageSize",{undo:!1,focus:!1,popup:!0,title:"Change Size",callback:function(){this.image.showSizePopup()}}),t.FE.RegisterCommand("imageSetSize",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.image.setSize()}}),t.FE.DefineIcon("imageCaption",{NAME:"commenting",FA5NAME:"comment-alt"}),t.FE.RegisterCommand("imageCaption",{undo:!0,focus:!1,title:"Image Caption",refreshAfterCallback:!0,callback:function(){this.image.toggleCaption()},refresh:function(e){this.image.get()&&e.toggleClass("fr-active",this.image.hasCaption())}}),t.extend(t.FE.DEFAULTS,{imageManagerLoadURL:"https://i.froala.com/load-files",imageManagerLoadMethod:"get",imageManagerLoadParams:{},imageManagerPreloader:null,imageManagerDeleteURL:"",imageManagerDeleteMethod:"post",imageManagerDeleteParams:{},imageManagerPageSize:12,imageManagerScrollOffset:20,imageManagerToggleTags:!0}),t.FE.PLUGINS.imageManager=function(e){var o,i,y,E,O,p,L,w,f,R,T,_="image_manager",A=10,s=14,u=15,S={};function x(){var le=t(window).outerWidth();return le<768?2:le<1200?3:4}function q(){O.empty();for(var le=0;le<T;le++)O.append('<div class="fr-list-column"></div>')}function v(){if(f<L.length&&(O.outerHeight()<=y.outerHeight()+e.opts.imageManagerScrollOffset||y.scrollTop()+e.opts.imageManagerScrollOffset>O.outerHeight()-y.outerHeight())){w++;for(var le=e.opts.imageManagerPageSize*(w-1);le<Math.min(L.length,e.opts.imageManagerPageSize*w);le++)D(L[le])}}function D(le){var He=new Image,ce=t('<div class="fr-image-container fr-empty fr-image-'+R+++'" data-loading="'+e.language.translate("Loading")+'.." data-deleting="'+e.language.translate("Deleting")+'..">');J(!1),He.onload=function(){ce.height(Math.floor(ce.width()/He.width*He.height));var Be=t("<img/>");if(le.thumb)Be.attr("src",le.thumb);else{if(Re(s,le),!le.url)return Re(u,le),!1;Be.attr("src",le.url)}if(le.url&&Be.attr("data-url",le.url),le.tag)if(i.find(".fr-modal-more.fr-not-available").removeClass("fr-not-available"),i.find(".fr-modal-tags").show(),0<=le.tag.indexOf(",")){for(var je=le.tag.split(","),ae=0;ae<je.length;ae++)je[ae]=je[ae].trim(),0===p.find('a[title="'+je[ae]+'"]').length&&p.append('<a role="button" title="'+je[ae]+'">'+je[ae]+"</a>");Be.attr("data-tag",je.join())}else 0===p.find('a[title="'+le.tag.trim()+'"]').length&&p.append('<a role="button" title="'+le.tag.trim()+'">'+le.tag.trim()+"</a>"),Be.attr("data-tag",le.tag.trim());for(var Se in le.name&&Be.attr("alt",le.name),le)le.hasOwnProperty(Se)&&"thumb"!=Se&&"url"!=Se&&"tag"!=Se&&Be.attr("data-"+Se,le[Se]);ce.append(Be).append(t(e.icon.create("imageManagerDelete")).addClass("fr-delete-img").attr("title",e.language.translate("Delete"))).append(t(e.icon.create("imageManagerInsert")).addClass("fr-insert-img").attr("title",e.language.translate("Insert"))),p.find(".fr-selected-tag").each(function(ze,Ze){$e(Be,Ze.text)||ce.hide()}),Be.on("load",function(){ce.removeClass("fr-empty"),ce.height("auto"),f++,te(k(parseInt(Be.parent().attr("class").match(/fr-image-(\d+)/)[1],10)+1)),J(!1),f%e.opts.imageManagerPageSize==0&&v()}),e.events.trigger("imageManager.imageLoaded",[Be])},He.onerror=function(){f++,ce.remove(),te(k(parseInt(ce.attr("class").match(/fr-image-(\d+)/)[1],10)+1)),Re(A,le),f%e.opts.imageManagerPageSize==0&&v()},He.src=le.thumb||le.url,G().append(ce)}function G(){var le,He;return O.find(".fr-list-column").each(function(ce,Be){var je=t(Be);(0===ce||je.outerHeight()<He)&&(He=je.outerHeight(),le=je)}),le}function k(le){void 0===le&&(le=0);for(var He=[],ce=R-1;le<=ce;ce--){var Be=O.find(".fr-image-"+ce);Be.length&&(He.push(Be),t('<div id="fr-image-hidden-container">').append(Be),O.find(".fr-image-"+ce).remove())}return He}function te(le){for(var He=le.length-1;0<=He;He--)G().append(le[He])}function J(le){if(void 0===le&&(le=!0),!o.is(":visible"))return!0;var He=x();if(He!=T){T=He;var ce=k();q(),te(ce)}e.modals.resize(_),le&&v()}function Ee(le){var He={},ce=le.data();for(var Be in ce)ce.hasOwnProperty(Be)&&"url"!=Be&&"tag"!=Be&&(He[Be]=ce[Be]);return He}function ye(le){var He=t(le.currentTarget).siblings("img"),ce=o.data("instance")||e,Be=o.data("current-image");if(e.modals.hide(_),ce.image.showProgressBar(),Be)Be.data("fr-old-src",Be.attr("src")),Be.trigger("click");else{ce.events.focus(!0),ce.selection.restore();var je=ce.position.getBoundingRect(),ae=je.left+je.width/2+t(e.doc).scrollLeft(),Se=je.top+je.height+t(e.doc).scrollTop();ce.popups.setContainer("image.insert",e.$sc),ce.popups.show("image.insert",ae,Se)}ce.image.insert(He.data("url"),!1,Ee(He),Be)}function pe(le){var He=t(le.currentTarget).siblings("img"),ce=e.language.translate("Are you sure? Image will be deleted.");confirm(ce)&&(e.opts.imageManagerDeleteURL?!1!==e.events.trigger("imageManager.beforeDeleteImage",[He])&&(He.parent().addClass("fr-image-deleting"),t.ajax({method:e.opts.imageManagerDeleteMethod,url:e.opts.imageManagerDeleteURL,data:t.extend(t.extend({src:He.attr("src")},Ee(He)),e.opts.imageManagerDeleteParams),crossDomain:e.opts.requestWithCORS,xhrFields:{withCredentials:e.opts.requestWithCredentials},headers:e.opts.requestHeaders}).done(function(Be){e.events.trigger("imageManager.imageDeleted",[Be]);var je=k(parseInt(He.parent().attr("class").match(/fr-image-(\d+)/)[1],10)+1);He.parent().remove(),te(je),o.find("#fr-modal-tags > a").each(function(){0===o.find('#fr-image-list [data-tag*="'+t(this).text()+'"]').length&&t(this).removeClass("fr-selected-tag").hide()}),Oe(),J(!0)}).fail(function(Be){Re(21,Be.response||Be.responseText)})):Re(22))}function Re(le,He){10<=le&&le<20?E.hide():20<=le&&le<30&&t(".fr-image-deleting").removeClass("fr-image-deleting"),e.events.trigger("imageManager.error",[{code:le,message:S[le]},He])}function qe(){var le=i.find(".fr-modal-head-line").outerHeight(),He=p.outerHeight();i.toggleClass("fr-show-tags"),i.hasClass("fr-show-tags")?(i.css("height",le+He),p.find("a").css("opacity",1)):(i.css("height",le),p.find("a").css("opacity",0))}function Oe(){var le=p.find(".fr-selected-tag");0<le.length?(O.find("img").parent().show(),le.each(function(He,ce){O.find("img").each(function(Be,je){var ae=t(je);$e(ae,ce.text)||ae.parent().hide()})})):O.find("img").parent().show(),te(k()),v()}function de(le){le.preventDefault();var He=t(le.currentTarget);He.toggleClass("fr-selected-tag"),e.opts.imageManagerToggleTags&&He.siblings("a").removeClass("fr-selected-tag"),Oe()}function $e(le,He){for(var ce=(le.attr("data-tag")||"").split(","),Be=0;Be<ce.length;Be++)if(ce[Be]==He)return!0;return!1}return S[A]="Image cannot be loaded from the passed link.",S[11]="Error during load images request.",S[12]="Missing imageManagerLoadURL option.",S[13]="Parsing load response failed.",S[s]="Missing image thumb.",S[u]="Missing image URL.",S[21]="Error during delete image request.",S[22]="Missing imageManagerDeleteURL option.",{require:["image"],_init:function(){if(!e.$wp&&"IMG"!=e.el.tagName)return!1},show:function(){if(!o){var le,He='<div class="fr-modal-head-line"><i class="fa fa-bars fr-modal-more fr-not-available" id="fr-modal-more-'+e.sid+'" title="'+e.language.translate("Tags")+'"></i><h4 data-text="true">'+e.language.translate("Manage Images")+"</h4></div>";He+='<div class="fr-modal-tags" id="fr-modal-tags"></div>',le=e.opts.imageManagerPreloader?'<img class="fr-preloader" id="fr-preloader" alt="'+e.language.translate("Loading")+'.." src="'+e.opts.imageManagerPreloader+'" style="display: none;">':'<span class="fr-preloader" id="fr-preloader" style="display: none;">'+e.language.translate("Loading")+"</span>";var ce=e.modals.create(_,He,le+='<div class="fr-image-list" id="fr-image-list"></div>');o=ce.$modal,i=ce.$head,y=ce.$body}o.data("current-image",e.image.get()),e.modals.show(_),E||(E=o.find("#fr-preloader"),O=o.find("#fr-image-list"),p=o.find("#fr-modal-tags"),T=x(),q(),i.css("height",i.find(".fr-modal-head-line").outerHeight()),e.events.$on(t(e.o_win),"resize",function(){J(!!L)}),e.helpers.isMobile()&&(e.events.bindClick(O,"div.fr-image-container",function(Be){o.find(".fr-mobile-selected").removeClass("fr-mobile-selected"),t(Be.currentTarget).addClass("fr-mobile-selected")}),o.on(e._mousedown,function(){o.find(".fr-mobile-selected").removeClass("fr-mobile-selected")})),e.events.bindClick(O,".fr-insert-img",ye),e.events.bindClick(O,".fr-delete-img",pe),o.on(e._mousedown+" "+e._mouseup,function(Be){Be.stopPropagation()}),o.on(e._mousedown,"*",function(){e.events.disableBlur()}),y.on("scroll",v),e.events.bindClick(o,"i#fr-modal-more-"+e.sid,qe),e.events.bindClick(p,"a",de)),E.show(),O.find(".fr-list-column").empty(),e.opts.imageManagerLoadURL?t.ajax({url:e.opts.imageManagerLoadURL,method:e.opts.imageManagerLoadMethod,data:e.opts.imageManagerLoadParams,dataType:"json",crossDomain:e.opts.requestWithCORS,xhrFields:{withCredentials:e.opts.requestWithCredentials},headers:e.opts.requestHeaders}).done(function(Be,je,ae){e.events.trigger("imageManager.imagesLoaded",[Be]),function(Se,ze){try{O.find(".fr-list-column").empty(),R=f=w=0,L=Se,v()}catch{Re(13,ze)}}(Be,ae.response),E.hide()}).fail(function(){var Be=this.xhr();Re(11,Be.response||Be.responseText)}):Re(12)},hide:function(){e.modals.hide(_)}}},!t.FE.PLUGINS.image)throw new Error("Image manager plugin requires image plugin.");t.FE.DEFAULTS.imageInsertButtons.push("imageManager"),t.FE.RegisterCommand("imageManager",{title:"Browse",undo:!1,focus:!1,modal:!0,callback:function(){this.imageManager.show()},plugin:"imageManager"}),t.FE.DefineIcon("imageManager",{NAME:"folder"}),t.FE.DefineIcon("imageManagerInsert",{NAME:"plus"}),t.FE.DefineIcon("imageManagerDelete",{NAME:"trash"}),t.extend(t.FE.DEFAULTS,{inlineClasses:{"fr-class-code":"Code","fr-class-highlighted":"Highlighted","fr-class-transparency":"Transparent"}}),t.FE.PLUGINS.inlineClass=function(e){return{apply:function(o){e.format.toggle("span",{class:o})},refreshOnShow:function(o,i){i.find(".fr-command").each(function(){var y=t(this).data("param1"),E=e.format.is("span",{class:y});t(this).toggleClass("fr-active",E).attr("aria-selected",E)})}}},t.FE.RegisterCommand("inlineClass",{type:"dropdown",title:"Inline Class",html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',o=this.opts.inlineClasses;for(var i in o)o.hasOwnProperty(i)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="inlineClass" data-param1="'+i+'" title="'+o[i]+'">'+o[i]+"</a></li>");return e+"</ul>"},callback:function(e,o){this.inlineClass.apply(o)},refreshOnShow:function(e,o){this.inlineClass.refreshOnShow(e,o)},plugin:"inlineClass"}),t.FE.DefineIcon("inlineClass",{NAME:"tag"}),t.extend(t.FE.DEFAULTS,{inlineStyles:{"Big Red":"font-size: 20px; color: red;","Small Blue":"font-size: 14px; color: blue;"}}),t.FE.PLUGINS.inlineStyle=function(e){return{apply:function(o){if(""!==e.selection.text())for(var i=o.split(";"),y=0;y<i.length;y++){var E=i[y].split(":");i[y].length&&2==E.length&&e.format.applyStyle(E[0].trim(),E[1].trim())}else e.html.insert('<span style="'+o+'">'+t.FE.INVISIBLE_SPACE+t.FE.MARKERS+"</span>")}}},t.FE.RegisterCommand("inlineStyle",{type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',o=this.opts.inlineStyles;for(var i in o)o.hasOwnProperty(i)&&(e+='<li role="presentation"><span style="'+o[i]+'" role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="inlineStyle" data-param1="'+o[i]+'" title="'+this.language.translate(i)+'">'+this.language.translate(i)+"</a></span></li>");return e+"</ul>"},title:"Inline Style",callback:function(e,o){this.inlineStyle.apply(o)},plugin:"inlineStyle"}),t.FE.DefineIcon("inlineStyle",{NAME:"paint-brush"}),t.extend(t.FE.DEFAULTS,{lineBreakerTags:["table","hr","form","dl","span.fr-video",".fr-embedly"],lineBreakerOffset:15,lineBreakerHorizontalOffset:10}),t.FE.PLUGINS.lineBreaker=function(e){var o,i,y;function E(l,a){var s,u,m,n,S,x,q,v;if(null==l)S=(n=a.parent()).offset().top,s=(q=a.offset().top)-Math.min((q-S)/2,e.opts.lineBreakerOffset),m=n.outerWidth(),u=n.offset().left;else if(null==a)(x=(n=l.parent()).offset().top+n.outerHeight())<(v=l.offset().top+l.outerHeight())&&(x=(n=t(n).parent()).offset().top+n.outerHeight()),s=v+Math.min(Math.abs(x-v)/2,e.opts.lineBreakerOffset),m=n.outerWidth(),u=n.offset().left;else{n=l.parent();var D=l.offset().top+l.height(),G=a.offset().top;if(G<D)return!1;s=(D+G)/2,m=n.outerWidth(),u=n.offset().left}e.opts.iframe&&(u+=e.$iframe.offset().left-e.helpers.scrollLeft(),s+=e.$iframe.offset().top-e.helpers.scrollTop()),e.$box.append(o),o.css("top",s-e.win.pageYOffset),o.css("left",u-e.win.pageXOffset),o.css("width",m),o.data("tag1",l),o.data("tag2",a),o.addClass("fr-visible").data("instance",e)}function O(l){if(l){var a=t(l);if(0===e.$el.find(a).length)return null;if(l.nodeType!=Node.TEXT_NODE&&a.is(e.opts.lineBreakerTags.join(",")))return a;if(0<a.parents(e.opts.lineBreakerTags.join(",")).length)return l=a.parents(e.opts.lineBreakerTags.join(",")).get(0),0!==e.$el.find(l).length&&t(l).is(e.opts.lineBreakerTags.join(","))?t(l):null}return null}function p(l,a){var s=e.doc.elementFromPoint(l,a);return s&&!t(s).closest(".fr-line-breaker").length&&!e.node.isElement(s)&&s!=e.$wp.get(0)&&function(u){if(typeof u.inFroalaWrapper<"u")return u.inFroalaWrapper;for(var m=u;u.parentNode&&u.parentNode!==e.$wp.get(0);)u=u.parentNode;return m.inFroalaWrapper=u.parentNode==e.$wp.get(0),m.inFroalaWrapper}(s)?s:null}function L(l,a,s){for(var u=s,m=null;u<=e.opts.lineBreakerOffset&&!m;)(m=p(l,a-u))||(m=p(l,a+u)),u+=s;return m}function w(l,a,s){for(var u=null,m=100;!u&&l>e.$box.offset().left&&l<e.$box.offset().left+e.$box.outerWidth()&&0<m;)(u=p(l,a))||(u=L(l,a,5)),"left"==s?l-=e.opts.lineBreakerHorizontalOffset:l+=e.opts.lineBreakerHorizontalOffset,m-=e.opts.lineBreakerHorizontalOffset;return u}function f(l){var a=y=null,s=null,u=e.doc.elementFromPoint(l.pageX-e.win.pageXOffset,l.pageY-e.win.pageYOffset);u&&("HTML"==u.tagName||"BODY"==u.tagName||e.node.isElement(u)||0<=(u.getAttribute("class")||"").indexOf("fr-line-breaker"))?((s=L(l.pageX-e.win.pageXOffset,l.pageY-e.win.pageYOffset,1))||(s=w(l.pageX-e.win.pageXOffset-e.opts.lineBreakerHorizontalOffset,l.pageY-e.win.pageYOffset,"left")),s||(s=w(l.pageX-e.win.pageXOffset+e.opts.lineBreakerHorizontalOffset,l.pageY-e.win.pageYOffset,"right")),a=O(s)):a=O(u),a?function(m,n){var S,x,q=m.offset().top,v=m.offset().top+m.outerHeight();if(Math.abs(v-n)<=e.opts.lineBreakerOffset||Math.abs(n-q)<=e.opts.lineBreakerOffset)if(Math.abs(v-n)<Math.abs(n-q)){for(var D=(x=m.get(0)).nextSibling;D&&D.nodeType==Node.TEXT_NODE&&0===D.textContent.length;)D=D.nextSibling;if(!D)return E(m,null);if(S=O(D))return E(m,S)}else{if(!(x=m.get(0)).previousSibling)return E(null,m);if(S=O(x.previousSibling))return E(S,m)}o.removeClass("fr-visible").removeData("instance")}(a,l.pageY):e.core.sameInstance(o)&&o.removeClass("fr-visible").removeData("instance")}function R(l){return!(o.hasClass("fr-visible")&&!e.core.sameInstance(o))&&(e.popups.areVisible()||e.el.querySelector(".fr-selected-cell")?(o.removeClass("fr-visible"),!0):void(!1!==i||e.edit.isDisabled()||(y&&clearTimeout(y),y=setTimeout(f,30,l))))}function T(){y&&clearTimeout(y),o&&o.hasClass("fr-visible")&&o.removeClass("fr-visible").removeData("instance")}function _(){i=!0,T()}function A(){i=!1}function c(l){l.preventDefault();var a=o.data("instance")||e;o.removeClass("fr-visible").removeData("instance");var s=o.data("tag1"),u=o.data("tag2"),m=e.html.defaultTag();null==s?m&&"TD"!=u.parent().get(0).tagName&&0===u.parents(m).length?u.before("<"+m+">"+t.FE.MARKERS+"<br></"+m+">"):u.before(t.FE.MARKERS+"<br>"):m&&"TD"!=s.parent().get(0).tagName&&0===s.parents(m).length?s.after("<"+m+">"+t.FE.MARKERS+"<br></"+m+">"):s.after(t.FE.MARKERS+"<br>"),a.selection.restore()}return{_init:function(){if(!e.$wp)return!1;e.shared.$line_breaker||(e.shared.$line_breaker=t('<div class="fr-line-breaker"><a class="fr-floating-btn" role="button" tabIndex="-1" title="'+e.language.translate("Break")+'"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><rect x="21" y="11" width="2" height="8"/><rect x="14" y="17" width="7" height="2"/><path d="M14.000,14.000 L14.000,22.013 L9.000,18.031 L14.000,14.000 Z"/></svg></a></div>')),o=e.shared.$line_breaker,e.events.on("shared.destroy",function(){o.html("").removeData().remove(),o=null},!0),e.events.on("destroy",function(){o.removeData("instance").removeClass("fr-visible").appendTo("body:first"),clearTimeout(y)},!0),e.events.$on(o,"mousemove",function(l){l.stopPropagation()},!0),e.events.bindClick(o,"a",c),i=!1,e.events.$on(e.$win,"mousemove",R),e.events.$on(t(e.win),"scroll",T),e.events.on("popups.show.table.edit",T),e.events.on("commands.after",T),e.events.$on(t(e.win),"mousedown",_),e.events.$on(t(e.win),"mouseup",A)}}},t.extend(t.FE.DEFAULTS,{lineHeights:{Default:"",Single:"1",1.15:"1.15",1.5:"1.5",Double:"2"}}),t.FE.PLUGINS.lineHeight=function(e){return{_init:function(){},apply:function(o){e.selection.save(),e.html.wrap(!0,!0,!0,!0),e.selection.restore();var i=e.selection.blocks();e.selection.save();for(var y=0;y<i.length;y++)t(i[y]).css("line-height",o),""===t(i[y]).attr("style")&&t(i[y]).removeAttr("style");e.html.unwrap(),e.selection.restore()},refreshOnShow:function(o,i){var y=e.selection.blocks();if(y.length){var E=t(y[0]);i.find(".fr-command").each(function(){var O=t(this).data("param1"),p=0<=(E.attr("style")||"").indexOf("line-height: "+O+";");t(this).toggleClass("fr-active",p).attr("aria-selected",p)})}}}},t.FE.RegisterCommand("lineHeight",{type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',o=this.opts.lineHeights;for(var i in o)o.hasOwnProperty(i)&&(e+='<li role="presentation"><a class="fr-command '+i+'" tabIndex="-1" role="option" data-cmd="lineHeight" data-param1="'+o[i]+'" title="'+this.language.translate(i)+'">'+this.language.translate(i)+"</a></li>");return e+"</ul>"},title:"Line Height",callback:function(e,o){this.lineHeight.apply(o)},refreshOnShow:function(e,o){this.lineHeight.refreshOnShow(e,o)},plugin:"lineHeight"}),t.FE.DefineIcon("lineHeight",{NAME:"arrows-v",FA5NAME:"arrows-alt-v"}),t.extend(t.FE.POPUP_TEMPLATES,{"link.edit":"[_BUTTONS_]","link.insert":"[_BUTTONS_][_INPUT_LAYER_]"}),t.extend(t.FE.DEFAULTS,{linkEditButtons:["linkOpen","linkStyle","linkEdit","linkRemove"],linkInsertButtons:["linkBack","|","linkList"],linkAttributes:{},linkAutoPrefix:"http://",linkStyles:{"fr-green":"Green","fr-strong":"Thick"},linkMultipleStyles:!0,linkConvertEmailAddress:!0,linkAlwaysBlank:!1,linkAlwaysNoFollow:!1,linkNoOpener:!0,linkNoReferrer:!0,linkList:[{text:"Froala",href:"https://froala.com",target:"_blank"},{text:"Google",href:"https://google.com",target:"_blank"},{displayText:"Facebook",href:"https://facebook.com"}],linkText:!0}),t.FE.PLUGINS.link=function(e){function o(){var _=e.image?e.image.get():null;if(!_&&e.$wp){var A=e.selection.ranges(0).commonAncestorContainer;try{A&&(A.contains&&A.contains(e.el)||!e.el.contains(A)||e.el==A)&&(A=null)}catch{A=null}if(A&&"A"===A.tagName)return A;var c=e.selection.element(),l=e.selection.endElement();"A"==c.tagName||e.node.isElement(c)||(c=t(c).parentsUntil(e.$el,"a:first").get(0)),"A"==l.tagName||e.node.isElement(l)||(l=t(l).parentsUntil(e.$el,"a:first").get(0));try{l&&(l.contains&&l.contains(e.el)||!e.el.contains(l)||e.el==l)&&(l=null)}catch{l=null}try{c&&(c.contains&&c.contains(e.el)||!e.el.contains(c)||e.el==c)&&(c=null)}catch{c=null}return l&&l==c&&"A"==l.tagName?(e.browser.msie||e.helpers.isMobile())&&(e.selection.info(c).atEnd||e.selection.info(c).atStart)?null:c:null}return"A"==e.el.tagName?e.el:_&&_.get(0).parentNode&&"A"==_.get(0).parentNode.tagName?_.get(0).parentNode:void 0}function i(){var _,A,c,l,a=e.image?e.image.get():null,s=[];if(a)"A"==a.get(0).parentNode.tagName&&s.push(a.get(0).parentNode);else if(e.win.getSelection){var u=e.win.getSelection();if(u.getRangeAt&&u.rangeCount){l=e.doc.createRange();for(var m=0;m<u.rangeCount;++m)if((A=(_=u.getRangeAt(m)).commonAncestorContainer)&&1!=A.nodeType&&(A=A.parentNode),A&&"a"==A.nodeName.toLowerCase())s.push(A);else{c=A.getElementsByTagName("a");for(var n=0;n<c.length;++n)l.selectNodeContents(c[n]),l.compareBoundaryPoints(_.END_TO_START,_)<1&&-1<l.compareBoundaryPoints(_.START_TO_END,_)&&s.push(c[n])}}}else if(e.doc.selection&&"Control"!=e.doc.selection.type)if("a"==(A=(_=e.doc.selection.createRange()).parentElement()).nodeName.toLowerCase())s.push(A);else{c=A.getElementsByTagName("a"),l=e.doc.body.createTextRange();for(var S=0;S<c.length;++S)l.moveToElementText(c[S]),-1<l.compareEndPoints("StartToEnd",_)&&l.compareEndPoints("EndToStart",_)<1&&s.push(c[S])}return s}function y(_){if(e.core.hasFocus()){if(O(),_&&"keyup"===_.type&&(_.altKey||_.which==t.FE.KEYCODE.ALT))return!0;setTimeout(function(){if(!_||_&&(1==_.which||"mouseup"!=_.type)){var A=o(),c=e.image?e.image.get():null;if(A&&!c){if(e.image){var l=e.node.contents(A);if(1==l.length&&"IMG"==l[0].tagName){var a=e.selection.ranges(0);return 0===a.startOffset&&0===a.endOffset?t(A).before(t.FE.MARKERS):t(A).after(t.FE.MARKERS),e.selection.restore(),!1}}_&&_.stopPropagation(),E(A)}}},e.helpers.isIOS()?100:0)}}function E(_){var A=e.popups.get("link.edit");A||(A=function(){var s="";1<=e.opts.linkEditButtons.length&&("A"==e.el.tagName&&0<=e.opts.linkEditButtons.indexOf("linkRemove")&&e.opts.linkEditButtons.splice(e.opts.linkEditButtons.indexOf("linkRemove"),1),s='<div class="fr-buttons">'+e.button.buildList(e.opts.linkEditButtons)+"</div>");var m=e.popups.create("link.edit",{buttons:s});return e.$wp&&e.events.$on(e.$wp,"scroll.link-edit",function(){o()&&e.popups.isVisible("link.edit")&&E(o())}),m}());var c=t(_);e.popups.isVisible("link.edit")||e.popups.refresh("link.edit"),e.popups.setContainer("link.edit",e.$sc);var l=c.offset().left+t(_).outerWidth()/2,a=c.offset().top+c.outerHeight();e.popups.show("link.edit",l,a,c.outerHeight())}function O(){e.popups.hide("link.edit")}function p(){}function L(){var _=e.popups.get("link.insert"),A=o();if(A){var c,l,a=t(A),s=_.find('input.fr-link-attr[type="text"]'),u=_.find('input.fr-link-attr[type="checkbox"]');for(c=0;c<s.length;c++)(l=t(s[c])).val(a.attr(l.attr("name")||""));for(u.prop("checked",!1),c=0;c<u.length;c++)l=t(u[c]),a.attr(l.attr("name"))==l.data("checked")&&l.prop("checked",!0);_.find('input.fr-link-attr[type="text"][name="text"]').val(a.text())}else _.find('input.fr-link-attr[type="text"]').val(""),_.find('input.fr-link-attr[type="checkbox"]').prop("checked",!1),_.find('input.fr-link-attr[type="text"][name="text"]').val(e.selection.text());_.find("input.fr-link-attr").trigger("change"),e.image&&e.image.get()?_.find('.fr-link-attr[name="text"]').parent().hide():_.find('.fr-link-attr[name="text"]').parent().show()}function w(_){if(_)return e.popups.onRefresh("link.insert",L),e.popups.onHide("link.insert",p),!0;var A="";1<=e.opts.linkInsertButtons.length&&(A='<div class="fr-buttons">'+e.button.buildList(e.opts.linkInsertButtons)+"</div>");var c="",l=0;for(var a in c='<div class="fr-link-insert-layer fr-layer fr-active" id="fr-link-insert-layer-'+e.id+'">',c+='<div class="fr-input-line"><input id="fr-link-insert-layer-url-'+e.id+'" name="href" type="text" class="fr-link-attr" placeholder="'+e.language.translate("URL")+'" tabIndex="'+ ++l+'"></div>',e.opts.linkText&&(c+='<div class="fr-input-line"><input id="fr-link-insert-layer-text-'+e.id+'" name="text" type="text" class="fr-link-attr" placeholder="'+e.language.translate("Text")+'" tabIndex="'+ ++l+'"></div>'),e.opts.linkAttributes)e.opts.linkAttributes.hasOwnProperty(a)&&(c+='<div class="fr-input-line"><input name="'+a+'" type="text" class="fr-link-attr" placeholder="'+e.language.translate(e.opts.linkAttributes[a])+'" tabIndex="'+ ++l+'"></div>');e.opts.linkAlwaysBlank||(c+='<div class="fr-checkbox-line"><span class="fr-checkbox"><input name="target" class="fr-link-attr" data-checked="_blank" type="checkbox" id="fr-link-target-'+e.id+'" tabIndex="'+ ++l+'"><span><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg></span></span><label for="fr-link-target-'+e.id+'">'+e.language.translate("Open in new tab")+"</label></div>");var u={buttons:A,input_layer:c+='<div class="fr-action-buttons"><button class="fr-command fr-submit" role="button" data-cmd="linkInsert" href="#" tabIndex="'+ ++l+'" type="button">'+e.language.translate("Insert")+"</button></div></div>"},m=e.popups.create("link.insert",u);return e.$wp&&e.events.$on(e.$wp,"scroll.link-insert",function(){e.image&&e.image.get()&&e.popups.isVisible("link.insert")&&T(),e.popups.isVisible("link.insert")&&R()}),m}function f(_,A,c){if(void 0===c&&(c={}),!1===e.events.trigger("link.beforeInsert",[_,A,c]))return!1;var l=e.image?e.image.get():null;l||"A"==e.el.tagName?"A"==e.el.tagName&&e.$el.focus():(e.selection.restore(),e.popups.hide("link.insert"));var a=_;if(e.opts.linkConvertEmailAddress&&e.helpers.isEmail(_)&&!/^mailto:.*/i.test(_)&&(_="mailto:"+_),""===e.opts.linkAutoPrefix||new RegExp("^("+t.FE.LinkProtocols.join("|")+"):.","i").test(_)||/^data:image.*/i.test(_)||/^(https?:|ftps?:|file:|)\/\//i.test(_)||/^([A-Za-z]:(\\){1,2}|[A-Za-z]:((\\){1,2}[^\\]+)+)(\\)?$/i.test(_)||["/","{","[","#","(","."].indexOf((_||"")[0])<0&&(_=e.opts.linkAutoPrefix+e.helpers.sanitizeURL(_)),_=e.helpers.sanitizeURL(_),e.opts.linkAlwaysBlank&&(c.target="_blank"),e.opts.linkAlwaysNoFollow&&(c.rel="nofollow"),e.helpers.isEmail(a)&&(c.target=null,c.rel=null),"_blank"==c.target?(e.opts.linkNoOpener&&(c.rel?c.rel+=" noopener":c.rel="noopener"),e.opts.linkNoReferrer&&(c.rel?c.rel+=" noreferrer":c.rel="noreferrer")):null==c.target&&(c.rel=c.rel?c.rel.replace(/noopener/,"").replace(/noreferrer/,""):null),A=A||"",_===e.opts.linkAutoPrefix)return e.popups.get("link.insert").find('input[name="href"]').addClass("fr-error"),e.events.trigger("link.bad",[a]),!1;var s,u=o();if(u){if((s=t(u)).attr("href",_),0<A.length&&s.text()!=A&&!l){for(var m=s.get(0);1===m.childNodes.length&&m.childNodes[0].nodeType==Node.ELEMENT_NODE;)m=m.childNodes[0];t(m).text(A)}l||s.prepend(t.FE.START_MARKER).append(t.FE.END_MARKER),s.attr(c),l||e.selection.restore()}else{l?l.wrap('<a href="'+_+'"></a>'):(e.format.remove("a"),e.selection.isCollapsed()?(e.html.insert('<a href="'+_+'">'+t.FE.START_MARKER+(A=0===A.length?a:A).replace(/&/g,"&amp;")+t.FE.END_MARKER+"</a>"),e.selection.restore()):0<A.length&&A!=e.selection.text().replace(/\n/g,"")?(e.selection.remove(),e.html.insert('<a href="'+_+'">'+t.FE.START_MARKER+A.replace(/&/g,"&amp;")+t.FE.END_MARKER+"</a>"),e.selection.restore()):(function(){if(!e.selection.isCollapsed()){e.selection.save();for(var q=e.$el.find(".fr-marker").addClass("fr-unprocessed").toArray();q.length;){var v=t(q.pop());v.removeClass("fr-unprocessed");var D=e.node.deepestParent(v.get(0));if(D){for(var G=v.get(0),k="",te="";e.node.isBlock(G=G.parentNode)||(k+=e.node.closeTagString(G),te=e.node.openTagString(G)+te),G!=D;);var J=e.node.openTagString(v.get(0))+v.html()+e.node.closeTagString(v.get(0));v.replaceWith('<span id="fr-break"></span>');var Ee=D.outerHTML;Ee=Ee.replace(/<span id="fr-break"><\/span>/g,k+J+te),D.outerHTML=Ee}q=e.$el.find(".fr-marker.fr-unprocessed").toArray()}e.html.cleanEmptyTags(),e.selection.restore()}}(),e.format.apply("a",{href:_})));for(var n=i(),S=0;S<n.length;S++)(s=t(n[S])).attr(c),s.removeAttr("_moz_dirty");1==n.length&&e.$wp&&!l&&(t(n[0]).prepend(t.FE.START_MARKER).append(t.FE.END_MARKER),e.selection.restore())}if(l){var x=e.popups.get("link.insert");x&&x.find("input:focus").blur(),e.image.edit(l)}else y()}function R(){O();var _=o();if(_){var A=e.popups.get("link.insert");A||(A=w()),e.popups.isVisible("link.insert")||(e.popups.refresh("link.insert"),e.selection.save(),e.helpers.isMobile()&&(e.events.disableBlur(),e.$el.blur(),e.events.enableBlur())),e.popups.setContainer("link.insert",e.$sc);var c=(e.image?e.image.get():null)||t(_),l=c.offset().left+c.outerWidth()/2,a=c.offset().top+c.outerHeight();e.popups.show("link.insert",l,a,c.outerHeight())}}function T(){var _=e.image?e.image.getEl():null;if(_){var A=e.popups.get("link.insert");e.image.hasCaption()&&(_=_.find(".fr-img-wrap")),A||(A=w()),L(),e.popups.setContainer("link.insert",e.$sc);var c=_.offset().left+_.outerWidth()/2,l=_.offset().top+_.outerHeight();e.popups.show("link.insert",c,l,_.outerHeight())}}return{_init:function(){e.events.on("keyup",function(_){_.which!=t.FE.KEYCODE.ESC&&y(_)}),e.events.on("window.mouseup",y),e.events.$on(e.$el,"click","a",function(_){e.edit.isDisabled()&&_.preventDefault()}),e.helpers.isMobile()&&e.events.$on(e.$doc,"selectionchange",y),w(!0),"A"==e.el.tagName&&e.$el.addClass("fr-view"),e.events.on("toolbar.esc",function(){if(e.popups.isVisible("link.edit"))return e.events.disableBlur(),e.events.focus(),!1},!0)},remove:function(){var _=o(),A=e.image?e.image.get():null;if(!1===e.events.trigger("link.beforeRemove",[_]))return!1;A&&_?(A.unwrap(),e.image.edit(A)):_&&(e.selection.save(),t(_).replaceWith(t(_).html()),e.selection.restore(),O())},showInsertPopup:function(){var _=e.$tb.find('.fr-command[data-cmd="insertLink"]'),A=e.popups.get("link.insert");if(A||(A=w()),!A.hasClass("fr-active"))if(e.popups.refresh("link.insert"),e.popups.setContainer("link.insert",e.$tb||e.$sc),_.is(":visible")){var c=_.offset().left+_.outerWidth()/2,l=_.offset().top+(e.opts.toolbarBottom?10:_.outerHeight()-10);e.popups.show("link.insert",c,l,_.outerHeight())}else e.position.forSelection(A),e.popups.show("link.insert")},usePredefined:function(_){var A,c,l=e.opts.linkList[_],a=e.popups.get("link.insert"),s=a.find('input.fr-link-attr[type="text"]'),u=a.find('input.fr-link-attr[type="checkbox"]');for(c=0;c<s.length;c++)l[(A=t(s[c])).attr("name")]?A.val(l[A.attr("name")]):"text"!=A.attr("name")&&A.val("");for(c=0;c<u.length;c++)(A=t(u[c])).prop("checked",A.data("checked")==l[A.attr("name")]);e.accessibility.focusPopup(a)},insertCallback:function(){var _,A,c=e.popups.get("link.insert"),l=c.find('input.fr-link-attr[type="text"]'),a=c.find('input.fr-link-attr[type="checkbox"]'),s=(l.filter('[name="href"]').val()||"").trim(),u=l.filter('[name="text"]').val(),m={};for(A=0;A<l.length;A++)_=t(l[A]),["href","text"].indexOf(_.attr("name"))<0&&(m[_.attr("name")]=_.val());for(A=0;A<a.length;A++)(_=t(a[A])).is(":checked")?m[_.attr("name")]=_.data("checked"):m[_.attr("name")]=_.data("unchecked")||null;var n=e.helpers.scrollTop();f(s,u,m),t(e.o_win).scrollTop(n)},insert:f,update:R,get:o,allSelected:i,back:function(){e.image&&e.image.get()?e.image.back():(e.events.disableBlur(),e.selection.restore(),e.events.enableBlur(),o()&&e.$wp?(e.selection.restore(),O(),y()):"A"==e.el.tagName?(e.$el.focus(),y()):(e.popups.hide("link.insert"),e.toolbar.showInline()))},imageLink:T,applyStyle:function(_,A,c){void 0===c&&(c=e.opts.linkMultipleStyles),void 0===A&&(A=e.opts.linkStyles);var l=o();if(!l)return!1;if(!c){var a=Object.keys(A);a.splice(a.indexOf(_),1),t(l).removeClass(a.join(" "))}t(l).toggleClass(_),y()}}},t.FE.DefineIcon("insertLink",{NAME:"link"}),t.FE.RegisterShortcut(t.FE.KEYCODE.K,"insertLink",null,"K"),t.FE.RegisterCommand("insertLink",{title:"Insert Link",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("link.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("link.insert")):this.link.showInsertPopup()},plugin:"link"}),t.FE.DefineIcon("linkOpen",{NAME:"external-link",FA5NAME:"external-link-alt"}),t.FE.RegisterCommand("linkOpen",{title:"Open Link",undo:!1,refresh:function(e){this.link.get()?e.removeClass("fr-hidden"):e.addClass("fr-hidden")},callback:function(){var e=this.link.get();e&&(-1!==e.href.indexOf("mailto:")?this.o_win.open(e.href).close():this.o_win.open(e.href,"_blank","noopener"),this.popups.hide("link.edit"))},plugin:"link"}),t.FE.DefineIcon("linkEdit",{NAME:"edit"}),t.FE.RegisterCommand("linkEdit",{title:"Edit Link",undo:!1,refreshAfterCallback:!1,popup:!0,callback:function(){this.link.update()},refresh:function(e){this.link.get()?e.removeClass("fr-hidden"):e.addClass("fr-hidden")},plugin:"link"}),t.FE.DefineIcon("linkRemove",{NAME:"unlink"}),t.FE.RegisterCommand("linkRemove",{title:"Unlink",callback:function(){this.link.remove()},refresh:function(e){this.link.get()?e.removeClass("fr-hidden"):e.addClass("fr-hidden")},plugin:"link"}),t.FE.DefineIcon("linkBack",{NAME:"arrow-left"}),t.FE.RegisterCommand("linkBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.link.back()},refresh:function(e){var o=this.link.get()&&this.doc.hasFocus();this.image&&this.image.get()||o||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))},plugin:"link"}),t.FE.DefineIcon("linkList",{NAME:"search"}),t.FE.RegisterCommand("linkList",{title:"Choose Link",type:"dropdown",focus:!1,undo:!1,refreshAfterCallback:!1,html:function(){for(var e='<ul class="fr-dropdown-list" role="presentation">',o=this.opts.linkList,i=0;i<o.length;i++)e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="linkList" data-param1="'+i+'">'+(o[i].displayText||o[i].text)+"</a></li>";return e+"</ul>"},callback:function(e,o){this.link.usePredefined(o)},plugin:"link"}),t.FE.RegisterCommand("linkInsert",{focus:!1,refreshAfterCallback:!1,callback:function(){this.link.insertCallback()},refresh:function(e){this.link.get()?e.text(this.language.translate("Update")):e.text(this.language.translate("Insert"))},plugin:"link"}),t.FE.DefineIcon("imageLink",{NAME:"link"}),t.FE.RegisterCommand("imageLink",{title:"Insert Link",undo:!1,focus:!1,popup:!0,callback:function(){this.link.imageLink()},refresh:function(e){var o;this.link.get()?((o=e.prev()).hasClass("fr-separator")&&o.removeClass("fr-hidden"),e.addClass("fr-hidden")):((o=e.prev()).hasClass("fr-separator")&&o.addClass("fr-hidden"),e.removeClass("fr-hidden"))},plugin:"link"}),t.FE.DefineIcon("linkStyle",{NAME:"magic"}),t.FE.RegisterCommand("linkStyle",{title:"Style",type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',o=this.opts.linkStyles;for(var i in o)o.hasOwnProperty(i)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="linkStyle" data-param1="'+i+'">'+this.language.translate(o[i])+"</a></li>");return e+"</ul>"},callback:function(e,o){this.link.applyStyle(o)},refreshOnShow:function(e,o){var i=this.link.get();if(i){var y=t(i);o.find(".fr-command").each(function(){var E=t(this).data("param1"),O=y.hasClass(E);t(this).toggleClass("fr-active",O).attr("aria-selected",O)})}},refresh:function(e){this.link.get()?e.removeClass("fr-hidden"):e.addClass("fr-hidden")},plugin:"link"}),t.extend(t.FE.DEFAULTS,{listAdvancedTypes:!0}),t.FE.PLUGINS.lists=function(e){function o(w){return'<span class="fr-open-'+w.toLowerCase()+'"></span>'}function i(w){return'<span class="fr-close-'+w.toLowerCase()+'"></span>'}function E(w){var f,R;for(f=w.length-1;0<=f;f--)for(R=f-1;0<=R;R--)if(t(w[R]).find(w[f]).length||w[R]==w[f]){w.splice(f,1);break}var T=[];for(f=0;f<w.length;f++){var _=t(w[f]),A=w[f].parentNode,c=_.attr("class");if(_.before(i(A.tagName)),"LI"==A.parentNode.tagName)_.before(i("LI")),_.after(o("LI"));else{var l="";c&&(l+=' class="'+c+'"');var a="rtl"==e.opts.direction||"rtl"==_.css("direction")?"margin-right":"margin-left";e.helpers.getPX(t(A).css(a))&&0<=(t(A).attr("style")||"").indexOf(a+":")&&(l+=' style="'+a+":"+e.helpers.getPX(t(A).css(a))+'px;"'),e.html.defaultTag()&&0===_.find(e.html.blockTagsQuery()).length&&_.wrapInner("<"+e.html.defaultTag()+l+"></"+e.html.defaultTag()+">"),e.node.isEmpty(_.get(0),!0)||0!==_.find(e.html.blockTagsQuery()).length||_.append("<br>"),_.append(o("LI")),_.prepend(i("LI"))}_.after(o(A.tagName)),"LI"==A.parentNode.tagName&&(A=A.parentNode.parentNode),T.indexOf(A)<0&&T.push(A)}for(f=0;f<T.length;f++){var s=t(T[f]),u=s.html();u=(u=u.replace(/<span class="fr-close-([a-z]*)"><\/span>/g,"</$1>")).replace(/<span class="fr-open-([a-z]*)"><\/span>/g,"<$1>"),s.replaceWith(e.node.openTagString(s.get(0))+u+e.node.closeTagString(s.get(0)))}e.$el.find("li:empty").remove(),e.$el.find("ul:empty, ol:empty").remove(),e.clean.lists(),e.html.wrap()}function O(w){e.selection.save();for(var f=0;f<w.length;f++){var R=w[f].previousSibling;if(R){var T=t(w[f]).find("> ul, > ol").last().get(0);if(T){for(var _=t("<li>").prependTo(t(T)),A=e.node.contents(w[f])[0];A&&!e.node.isList(A);){var c=A.nextSibling;_.append(A),A=c}t(R).append(t(T)),t(w[f]).remove()}else{var l=t(R).find("> ul, > ol").last().get(0);if(l)t(l).append(t(w[f]));else{var a=t("<"+w[f].parentNode.tagName+">");t(R).append(a),a.append(t(w[f]))}}}}e.clean.lists(),e.selection.restore()}function p(w){e.selection.save(),E(w),e.selection.restore()}function L(w){if("indent"==w||"outdent"==w){for(var f=!1,R=e.selection.blocks(),T=[],_=0;_<R.length;_++)"LI"==R[_].tagName?(f=!0,T.push(R[_])):"LI"==R[_].parentNode.tagName&&(f=!0,T.push(R[_].parentNode));f&&("indent"==w?O(T):p(T))}}return{_init:function(){e.events.on("commands.after",L),e.events.on("keydown",function(w){if(w.which==t.FE.KEYCODE.TAB){for(var f=e.selection.blocks(),R=[],T=0;T<f.length;T++)"LI"==f[T].tagName?R.push(f[T]):"LI"==f[T].parentNode.tagName&&R.push(f[T].parentNode);if(1<R.length||R.length&&(e.selection.info(R[0]).atStart||e.node.isEmpty(R[0])))return w.preventDefault(),w.stopPropagation(),w.shiftKey?p(R):O(R),!1}},!0)},format:function(w,f){var R,T;for(e.selection.save(),e.html.wrap(!0,!0,!0,!0),e.selection.restore(),T=e.selection.blocks(),R=0;R<T.length;R++)"LI"!=T[R].tagName&&"LI"==T[R].parentNode.tagName&&(T[R]=T[R].parentNode);if(e.selection.save(),function(_,A){for(var c=!0,l=0;l<_.length;l++){if("LI"!=_[l].tagName)return!1;_[l].parentNode.tagName!=A&&(c=!1)}return c}(T,w)?f||E(T):function y(w,f){!function(s,u){for(var m=[],n=0;n<s.length;n++){var S=s[n].parentNode;"LI"==s[n].tagName&&S.tagName!=u&&m.indexOf(S)<0&&m.push(S)}for(n=m.length-1;0<=n;n--){var x=t(m[n]);x.replaceWith("<"+u.toLowerCase()+" "+e.node.attributes(x.get(0))+">"+x.html()+"</"+u.toLowerCase()+">")}}(w,f);var R,T=e.html.defaultTag(),_=null;w.length&&(R="rtl"==e.opts.direction||"rtl"==t(w[0]).css("direction")?"margin-right":"margin-left");for(var A=0;A<w.length;A++)if("LI"!=w[A].tagName){var c=e.helpers.getPX(t(w[A]).css(R))||0;(w[A].style.marginLeft=null)===_&&(_=c);var l=0<_?"<"+f+' style="'+R+": "+_+'px;">':"<"+f+">",a="</"+f+">";for(c-=_;0<c/e.opts.indentMargin;)l+="<"+f+">",a+=a,c-=e.opts.indentMargin;T&&w[A].tagName.toLowerCase()==T?t(w[A]).replaceWith(l+"<li"+e.node.attributes(w[A])+">"+t(w[A]).html()+"</li>"+a):t(w[A]).wrap(l+"<li></li>"+a)}e.clean.lists()}(T,w),e.html.unwrap(),e.selection.restore(),f=f||"default"){for(T=e.selection.blocks(),R=0;R<T.length;R++)"LI"!=T[R].tagName&&"LI"==T[R].parentNode.tagName&&(T[R]=T[R].parentNode);for(R=0;R<T.length;R++)"LI"==T[R].tagName&&(t(T[R].parentNode).css("list-style-type",f),0===(t(T[R].parentNode).attr("style")||"").length&&t(T[R].parentNode).removeAttr("style"))}},refresh:function(w,f){var R=t(e.selection.element());if(R.get(0)!=e.el){var T=R.get(0);(T="LI"!=T.tagName&&T.firstElementChild&&"LI"!=T.firstElementChild.tagName?R.parents("li").get(0):"LI"==T.tagName||T.firstElementChild?T.firstElementChild&&"LI"==T.firstElementChild.tagName?R.get(0).firstChild:R.get(0):R.parents("li").get(0))&&T.parentNode.tagName==f&&e.el.contains(T.parentNode)&&w.addClass("fr-active")}}}},t.FE.RegisterCommand("formatUL",{title:"Unordered List",type:"button",hasOptions:function(){return this.opts.listAdvancedTypes},options:{default:"Default",circle:"Circle",disc:"Disc",square:"Square"},refresh:function(e){this.lists.refresh(e,"UL")},callback:function(e,o){this.lists.format("UL",o)},plugin:"lists"}),t.FE.RegisterCommand("formatOL",{title:"Ordered List",hasOptions:function(){return this.opts.listAdvancedTypes},options:{default:"Default","lower-alpha":"Lower Alpha","lower-greek":"Lower Greek","lower-roman":"Lower Roman","upper-alpha":"Upper Alpha","upper-roman":"Upper Roman"},refresh:function(e){this.lists.refresh(e,"OL")},callback:function(e,o){this.lists.format("OL",o)},plugin:"lists"}),t.FE.DefineIcon("formatUL",{NAME:"list-ul"}),t.FE.DefineIcon("formatOL",{NAME:"list-ol"}),t.extend(t.FE.DEFAULTS,{paragraphFormat:{N:"Normal",H1:"Heading 1",H2:"Heading 2",H3:"Heading 3",H4:"Heading 4",PRE:"Code"},paragraphFormatSelection:!1,paragraphDefaultSelection:"Paragraph Format"}),t.FE.PLUGINS.paragraphFormat=function(e){function o(i,y){var E=e.html.defaultTag();if(y&&y.toLowerCase()!=E)if(0<i.find("ul, ol").length){var O=t("<"+y+">");i.prepend(O);for(var p=e.node.contents(i.get(0))[0];p&&["UL","OL"].indexOf(p.tagName)<0;){var L=p.nextSibling;O.append(p),p=L}}else i.html("<"+y+">"+i.html()+"</"+y+">")}return{apply:function(i){"N"==i&&(i=e.html.defaultTag()),e.selection.save(),e.html.wrap(!0,!0,!e.opts.paragraphFormat.BLOCKQUOTE,!0,!0),e.selection.restore();var y,E,O,p,L,w,f,R,T=e.selection.blocks();e.selection.save(),e.$el.find("pre").attr("skip",!0);for(var _=0;_<T.length;_++)if(T[_].tagName!=i&&!e.node.isList(T[_])){var A=t(T[_]);"LI"==T[_].tagName?o(A,i):"LI"==T[_].parentNode.tagName&&T[_]?(w=A,f=i,R=e.html.defaultTag(),f&&f.toLowerCase()!=R||(f='div class="fr-temp-div"'),w.replaceWith(t("<"+f+">").html(w.html()))):0<=["TD","TH"].indexOf(T[_].parentNode.tagName)?(O=A,p=i,L=e.html.defaultTag(),p||(p='div class="fr-temp-div"'+(e.node.isEmpty(O.get(0),!0)?' data-empty="true"':"")),p.toLowerCase()==L?(e.node.isEmpty(O.get(0),!0)||O.append("<br/>"),O.replaceWith(O.html())):O.replaceWith(t("<"+p+">").html(O.html()))):(y=A,(E=i)||(E='div class="fr-temp-div"'+(e.node.isEmpty(y.get(0),!0)?' data-empty="true"':"")),y.replaceWith(t("<"+E+" "+e.node.attributes(y.get(0))+">").html(y.html()).removeAttr("data-empty")))}e.$el.find('pre:not([skip="true"]) + pre:not([skip="true"])').each(function(){t(this).prev().append("<br>"+t(this).html()),t(this).remove()}),e.$el.find("pre").removeAttr("skip"),e.html.unwrap(),e.selection.restore()},refreshOnShow:function(i,y){var E=e.selection.blocks();if(E.length){var O=E[0],p="N",L=e.html.defaultTag();O.tagName.toLowerCase()!=L&&O!=e.el&&(p=O.tagName),y.find('.fr-command[data-param1="'+p+'"]').addClass("fr-active").attr("aria-selected",!0)}else y.find('.fr-command[data-param1="N"]').addClass("fr-active").attr("aria-selected",!0)},refresh:function(i){if(e.opts.paragraphFormatSelection){var y=e.selection.blocks();if(y.length){var E=y[0],O="N",p=e.html.defaultTag();E.tagName.toLowerCase()!=p&&E!=e.el&&(O=E.tagName),0<=["LI","TD","TH"].indexOf(O)&&(O="N"),i.find("> span").text(e.language.translate(e.opts.paragraphFormat[O]))}else i.find("> span").text(e.language.translate(e.opts.paragraphFormat.N))}}}},t.FE.RegisterCommand("paragraphFormat",{type:"dropdown",displaySelection:function(e){return e.opts.paragraphFormatSelection},defaultSelection:function(e){return e.language.translate(e.opts.paragraphDefaultSelection)},displaySelectionWidth:125,html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',o=this.opts.paragraphFormat;for(var i in o)if(o.hasOwnProperty(i)){var y=this.shortcuts.get("paragraphFormat."+i);y=y?'<span class="fr-shortcut">'+y+"</span>":"",e+='<li role="presentation"><'+("N"==i?this.html.defaultTag()||"DIV":i)+' style="padding: 0 !important; margin: 0 !important;" role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="paragraphFormat" data-param1="'+i+'" title="'+this.language.translate(o[i])+'">'+this.language.translate(o[i])+"</a></"+("N"==i?this.html.defaultTag()||"DIV":i)+"></li>"}return e+"</ul>"},title:"Paragraph Format",callback:function(e,o){this.paragraphFormat.apply(o)},refresh:function(e){this.paragraphFormat.refresh(e)},refreshOnShow:function(e,o){this.paragraphFormat.refreshOnShow(e,o)},plugin:"paragraphFormat"}),t.FE.DefineIcon("paragraphFormat",{NAME:"paragraph"}),t.extend(t.FE.DEFAULTS,{paragraphStyles:{"fr-text-gray":"Gray","fr-text-bordered":"Bordered","fr-text-spaced":"Spaced","fr-text-uppercase":"Uppercase"},paragraphMultipleStyles:!0}),t.FE.PLUGINS.paragraphStyle=function(e){return{_init:function(){},apply:function(o,i,y){void 0===i&&(i=e.opts.paragraphStyles),void 0===y&&(y=e.opts.paragraphMultipleStyles);var E="";y||((E=Object.keys(i)).splice(E.indexOf(o),1),E=E.join(" ")),e.selection.save(),e.html.wrap(!0,!0,!0,!0),e.selection.restore();var O=e.selection.blocks();e.selection.save();for(var p=t(O[0]).hasClass(o),L=0;L<O.length;L++)t(O[L]).removeClass(E).toggleClass(o,!p),t(O[L]).hasClass("fr-temp-div")&&t(O[L]).removeClass("fr-temp-div"),""===t(O[L]).attr("class")&&t(O[L]).removeAttr("class");e.html.unwrap(),e.selection.restore()},refreshOnShow:function(o,i){var y=e.selection.blocks();if(y.length){var E=t(y[0]);i.find(".fr-command").each(function(){var O=t(this).data("param1"),p=E.hasClass(O);t(this).toggleClass("fr-active",p).attr("aria-selected",p)})}}}},t.FE.RegisterCommand("paragraphStyle",{type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',o=this.opts.paragraphStyles;for(var i in o)o.hasOwnProperty(i)&&(e+='<li role="presentation"><a class="fr-command '+i+'" tabIndex="-1" role="option" data-cmd="paragraphStyle" data-param1="'+i+'" title="'+this.language.translate(o[i])+'">'+this.language.translate(o[i])+"</a></li>");return e+"</ul>"},title:"Paragraph Style",callback:function(e,o){this.paragraphStyle.apply(o)},refreshOnShow:function(e,o){this.paragraphStyle.refreshOnShow(e,o)},plugin:"paragraphStyle"}),t.FE.DefineIcon("paragraphStyle",{NAME:"magic"}),t.extend(t.FE.DEFAULTS,{html2pdf:window.html2pdf}),t.FE.PLUGINS.print=function(e){return{run:function(){!function(o){var i=e.$el.html(),y=null;e.shared.print_iframe?y=e.shared.print_iframe:((y=document.createElement("iframe")).name="fr-print",y.style.position="fixed",y.style.top="0",y.style.left="-9999px",y.style.height="100%",y.style.width="0",y.style.overflow="hidden",y.style["z-index"]="2147483647",y.style.tabIndex="-1",e.events.on("shared.destroy",function(){y.remove()}),e.shared.print_iframe=y);try{document.body.removeChild(y)}catch{}document.body.appendChild(y);var E=function(){setTimeout(function(){e.events.disableBlur(),window.frames["fr-print"].focus(),window.frames["fr-print"].print(),e.$win.get(0).focus(),e.events.disableBlur(),e.events.focus()},0),y.removeEventListener("load",E)};y.addEventListener("load",E);var O=y.contentWindow;O.document.open(),O.document.write("<!DOCTYPE html><html "+(e.opts.documentReady?'style="margin: 0; padding: 0;"':"")+"><head><title>"+document.title+"</title>"),Array.prototype.forEach.call(document.querySelectorAll("style"),function(L){L=L.cloneNode(!0),O.document.write(L.outerHTML)});var p=document.querySelectorAll("link[rel=stylesheet]");Array.prototype.forEach.call(p,function(L){var w=document.createElement("link");w.rel=L.rel,w.href=L.href,w.media="print",w.type="text/css",w.media="all",O.document.write(w.outerHTML)}),O.document.write('</head><body style="text-align: '+("rtl"==e.opts.direction?"right":"left")+"; direction: "+e.opts.direction+"; "+(e.opts.documentReady?" padding: 2cm; width: 17cm; margin: 0;":"")+'"><div class="fr-view">'),O.document.write(i),O.document.write("</div></body></html>"),O.document.close()}()},toPDF:function(){e.opts.html2pdf&&(e.$el.css("text-align","left"),e.opts.html2pdf().set({margin:[10,20],html2canvas:{useCORS:!0}}).from(e.el).save(),setTimeout(function(){e.$el.css("text-align","")},100))}}},t.FE.DefineIcon("print",{NAME:"print"}),t.FE.RegisterCommand("print",{title:"Print",undo:!1,focus:!1,plugin:"print",callback:function(){this.print.run()}}),t.FE.DefineIcon("getPDF",{NAME:"file-pdf-o",FA5NAME:"file-pdf"}),t.FE.RegisterCommand("getPDF",{title:"Download PDF",type:"button",focus:!1,undo:!1,callback:function(){this.print.toPDF()}}),t.extend(t.FE.DEFAULTS,{quickInsertButtons:["image","video","embedly","table","ul","ol","hr"],quickInsertTags:["p","div","h1","h2","h3","h4","h5","h6","pre","blockquote"],quickInsertEnabled:!0}),t.FE.QUICK_INSERT_BUTTONS={},t.FE.DefineIcon("quickInsert",{PATH:'<path d="M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z"/>',template:"svg"}),t.FE.RegisterQuickInsertButton=function(e,o){t.FE.QUICK_INSERT_BUTTONS[e]=t.extend({undo:!0},o)},t.FE.RegisterQuickInsertButton("image",{icon:"insertImage",requiredPlugin:"image",title:"Insert Image",undo:!1,callback:function(){var e=this;e.shared.$qi_image_input||(e.shared.$qi_image_input=t('<input accept="image/*" name="quickInsertImage'+this.id+'" style="display: none;" type="file">'),t("body:first").append(e.shared.$qi_image_input),e.events.$on(e.shared.$qi_image_input,"change",function(){var o=t(this).data("inst");this.files&&(o.quickInsert.hide(),o.image.upload(this.files)),t(this).val("")},!0)),e.$qi_image_input=e.shared.$qi_image_input,e.helpers.isMobile()&&e.selection.save(),e.events.disableBlur(),e.$qi_image_input.data("inst",e).trigger("click")}}),t.FE.RegisterQuickInsertButton("video",{icon:"insertVideo",requiredPlugin:"video",title:"Insert Video",undo:!1,callback:function(){var e=prompt(this.language.translate("Paste the URL of the video you want to insert."));e&&this.video.insertByURL(e)}}),t.FE.RegisterQuickInsertButton("embedly",{icon:"embedly",requiredPlugin:"embedly",title:"Embed URL",undo:!1,callback:function(){var e=prompt(this.language.translate("Paste the URL of any web content you want to insert."));e&&this.embedly.add(e)}}),t.FE.RegisterQuickInsertButton("table",{icon:"insertTable",requiredPlugin:"table",title:"Insert Table",callback:function(){this.table.insert(2,2)}}),t.FE.RegisterQuickInsertButton("ol",{icon:"formatOL",requiredPlugin:"lists",title:"Ordered List",callback:function(){this.lists.format("OL")}}),t.FE.RegisterQuickInsertButton("ul",{icon:"formatUL",requiredPlugin:"lists",title:"Unordered List",callback:function(){this.lists.format("UL")}}),t.FE.RegisterQuickInsertButton("hr",{icon:"insertHR",title:"Insert Horizontal Line",callback:function(){this.commands.insertHR()}}),t.FE.PLUGINS.quickInsert=function(e){var o,i;function y(f){var R,T,_;R=f.offset().top-e.$box.offset().top,T=0-o.outerWidth(),e.opts.enter!=t.FE.ENTER_BR?_=(o.outerHeight()-f.outerHeight())/2:(t("<span>"+t.FE.INVISIBLE_SPACE+"</span>").insertAfter(f),_=(o.outerHeight()-f.next().outerHeight())/2,f.next().remove()),e.opts.iframe&&(R+=e.$iframe.offset().top-e.helpers.scrollTop()),o.hasClass("fr-on")&&0<=R&&i.css("top",R-_),0<=R&&R-_<=e.$box.outerHeight()-f.outerHeight()?(o.hasClass("fr-hidden")&&(o.hasClass("fr-on")&&L(),o.removeClass("fr-hidden")),o.css("top",R-_)):o.hasClass("fr-visible")&&(o.addClass("fr-hidden"),w()),o.css("left",T)}function O(){if(e.core.hasFocus()){var f=e.selection.element();if(e.opts.enter==t.FE.ENTER_BR||e.node.isBlock(f)||(f=e.node.blockParent(f)),e.opts.enter==t.FE.ENTER_BR&&!e.node.isBlock(f)){var R=e.node.deepestParent(f);R&&(f=R)}f&&(e.opts.enter!=t.FE.ENTER_BR&&e.node.isEmpty(f)&&0<=e.opts.quickInsertTags.indexOf(f.tagName.toLowerCase())||e.opts.enter==t.FE.ENTER_BR&&("BR"==f.tagName&&(!f.previousSibling||"BR"==f.previousSibling.tagName||e.node.isBlock(f.previousSibling))||e.node.isEmpty(f)&&(!f.previousSibling||"BR"==f.previousSibling.tagName||e.node.isBlock(f.previousSibling))&&(!f.nextSibling||"BR"==f.nextSibling.tagName||e.node.isBlock(f.nextSibling))))?o&&o.data("tag").is(t(f))&&o.hasClass("fr-on")?w():e.selection.isCollapsed()&&function E(f){o||(e.shared.$quick_insert||(e.shared.$quick_insert=t('<div class="fr-quick-insert"><a class="fr-floating-btn" role="button" tabIndex="-1" title="'+e.language.translate("Quick Insert")+'">'+e.icon.create("quickInsert")+"</a></div>")),o=e.shared.$quick_insert,e.tooltip.bind(e.$box,".fr-quick-insert > a.fr-floating-btn"),e.events.on("destroy",function(){o.removeClass("fr-on").appendTo(t("body:first")).css("left",-9999).css("top",-9999),i&&(w(),i.appendTo(t("body:first")))},!0),e.events.on("shared.destroy",function(){o.html("").removeData().remove(),o=null,i&&(i.html("").removeData().remove(),i=null)},!0),e.events.on("commands.before",p),e.events.on("commands.after",function(){e.popups.areVisible()||O()}),e.events.bindClick(e.$box,".fr-quick-insert > a",L),e.events.bindClick(e.$box,".fr-qi-helper > a.fr-btn",function(R){var T=t(R.currentTarget).data("cmd");if(!1===e.events.trigger("quickInsert.commands.before",[T]))return!1;t.FE.QUICK_INSERT_BUTTONS[T].callback.apply(e,[R.currentTarget]),t.FE.QUICK_INSERT_BUTTONS[T].undo&&e.undo.saveStep(),e.events.trigger("quickInsert.commands.after",[T]),e.quickInsert.hide()}),e.events.$on(e.$wp,"scroll",function(){o.hasClass("fr-visible")&&y(o.data("tag"))})),o.hasClass("fr-on")&&w(),e.$box.append(o),y(f),o.data("tag",f),o.addClass("fr-visible")}(t(f)):p()}}function p(){o&&(o.hasClass("fr-on")&&w(),o.removeClass("fr-visible fr-on"),o.css("left",-9999).css("top",-9999))}function L(f){if(f&&f.preventDefault(),o.hasClass("fr-on")&&!o.hasClass("fr-hidden"))w();else{if(!e.shared.$qi_helper){for(var R=e.opts.quickInsertButtons,T='<div class="fr-qi-helper">',_=0,A=0;A<R.length;A++){var c=t.FE.QUICK_INSERT_BUTTONS[R[A]];c&&(!c.requiredPlugin||t.FE.PLUGINS[c.requiredPlugin]&&0<=e.opts.pluginsEnabled.indexOf(c.requiredPlugin))&&(T+='<a class="fr-btn fr-floating-btn" role="button" title="'+e.language.translate(c.title)+'" tabIndex="-1" data-cmd="'+R[A]+'" style="transition-delay: '+.025*_+++'s;">'+e.icon.create(c.icon)+"</a>")}e.shared.$qi_helper=t(T+="</div>"),e.tooltip.bind(e.shared.$qi_helper,"> a.fr-btn"),e.events.$on(e.shared.$qi_helper,"mousedown",function(l){l.preventDefault()},!0)}(i=e.shared.$qi_helper).appendTo(e.$box),setTimeout(function(){i.css("top",parseFloat(o.css("top"))),i.css("left",parseFloat(o.css("left"))+o.outerWidth()),i.find("a").addClass("fr-size-1"),o.addClass("fr-on")},10)}}function w(){var f=e.$box.find(".fr-qi-helper");f.length&&(f.find("a").removeClass("fr-size-1"),f.css("left",-9999),o.hasClass("fr-hidden")||o.removeClass("fr-on"))}return{_init:function(){if(!e.$wp||!e.opts.quickInsertEnabled)return!1;e.popups.onShow("image.edit",p),e.events.on("mouseup",O),e.helpers.isMobile()&&e.events.$on(t(e.o_doc),"selectionchange",O),e.events.on("blur",p),e.events.on("keyup",O),e.events.on("keydown",function(){setTimeout(function(){O()},0)})},hide:p}},t.FE.PLUGINS.quote=function(e){function o(i){for(;i.parentNode&&i.parentNode!=e.el;)i=i.parentNode;return i}return{apply:function(i){e.selection.save(),e.html.wrap(!0,!0,!0,!0),e.selection.restore(),"increase"==i?function(){var y,E=e.selection.blocks();for(y=0;y<E.length;y++)E[y]=o(E[y]);e.selection.save();var O=t("<blockquote>");for(O.insertBefore(E[0]),y=0;y<E.length;y++)O.append(E[y]);e.html.unwrap(),e.selection.restore()}():"decrease"==i&&function(){var y,E=e.selection.blocks();for(y=0;y<E.length;y++)"BLOCKQUOTE"!=E[y].tagName&&(E[y]=t(E[y]).parentsUntil(e.$el,"BLOCKQUOTE").get(0));for(e.selection.save(),y=0;y<E.length;y++)E[y]&&t(E[y]).replaceWith(E[y].innerHTML);e.html.unwrap(),e.selection.restore()}()}}},t.FE.RegisterShortcut(t.FE.KEYCODE.SINGLE_QUOTE,"quote","increase","'"),t.FE.RegisterShortcut(t.FE.KEYCODE.SINGLE_QUOTE,"quote","decrease","'",!0),t.FE.RegisterCommand("quote",{title:"Quote",type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',o={increase:"Increase",decrease:"Decrease"};for(var i in o)if(o.hasOwnProperty(i)){var y=this.shortcuts.get("quote."+i);e+='<li role="presentation"><a class="fr-command fr-title fr-active '+i+'" tabIndex="-1" role="option" data-cmd="quote" data-param1="'+i+'" title="'+o[i]+" ("+y+')">'+this.language.translate(o[i])+"</a></li>"}return e+"</ul>"},callback:function(e,o){this.quote.apply(o)},plugin:"quote"}),t.FE.DefineIcon("quote",{NAME:"quote-left"}),t.extend(t.FE.DEFAULTS,{saveInterval:1e4,saveURL:null,saveParams:{},saveParam:"body",saveMethod:"POST"}),t.FE.PLUGINS.save=function(e){var o=null,i=null,y=!1,E=1,O=2,p={};function L(R,T){e.events.trigger("save.error",[{code:R,message:p[R]},T])}function w(R){void 0===R&&(R=e.html.get());var T=R,_=e.events.trigger("save.before",[R]);if(!1===_)return!1;if("string"==typeof _&&(R=_),e.opts.saveURL){var A={};for(var c in e.opts.saveParams)if(e.opts.saveParams.hasOwnProperty(c)){var l=e.opts.saveParams[c];A[c]="function"==typeof l?l.call(this):l}var a={};a[e.opts.saveParam]=R,t.ajax({type:e.opts.saveMethod,url:e.opts.saveURL,data:t.extend(a,A),crossDomain:e.opts.requestWithCORS,xhrFields:{withCredentials:e.opts.requestWithCredentials},headers:e.opts.requestHeaders}).done(function(s){i=T,e.events.trigger("save.after",[s])}).fail(function(s){L(O,s.response||s.responseText)})}else L(E)}function f(){clearTimeout(o),o=setTimeout(function(){var R=e.html.get();(i!=R||y)&&(y=!1,w(i=R))},e.opts.saveInterval)}return p[E]="Missing saveURL option.",p[O]="Something went wrong during save.",{_init:function(){e.opts.saveInterval&&(i=e.html.get(),e.events.on("contentChanged",f),e.events.on("keydown destroy",function(){clearTimeout(o)}))},save:w,reset:function(){f(),y=!1},force:function(){y=!0}}},t.FE.DefineIcon("save",{NAME:"floppy-o",FA5NAME:"save"}),t.FE.RegisterCommand("save",{title:"Save",undo:!1,focus:!1,refreshAfterCallback:!1,callback:function(){this.save.save()},plugin:"save"}),t.extend(t.FE.DEFAULTS,{specialCharactersSets:[{title:"Latin",list:[{char:"&iexcl;",desc:"INVERTED EXCLAMATION MARK"},{char:"&cent;",desc:"CENT SIGN"},{char:"&pound;",desc:"POUND SIGN"},{char:"&curren;",desc:"CURRENCY SIGN"},{char:"&yen;",desc:"YEN SIGN"},{char:"&brvbar;",desc:"BROKEN BAR"},{char:"&sect;",desc:"SECTION SIGN"},{char:"&uml;",desc:"DIAERESIS"},{char:"&copy;",desc:"COPYRIGHT SIGN"},{char:"&trade;",desc:"TRADEMARK SIGN"},{char:"&ordf;",desc:"FEMININE ORDINAL INDICATOR"},{char:"&laquo;",desc:"LEFT-POINTING DOUBLE ANGLE QUOTATION MARK"},{char:"&not;",desc:"NOT SIGN"},{char:"&reg;",desc:"REGISTERED SIGN"},{char:"&macr;",desc:"MACRON"},{char:"&deg;",desc:"DEGREE SIGN"},{char:"&plusmn;",desc:"PLUS-MINUS SIGN"},{char:"&sup2;",desc:"SUPERSCRIPT TWO"},{char:"&sup3;",desc:"SUPERSCRIPT THREE"},{char:"&acute;",desc:"ACUTE ACCENT"},{char:"&micro;",desc:"MICRO SIGN"},{char:"&para;",desc:"PILCROW SIGN"},{char:"&middot;",desc:"MIDDLE DOT"},{char:"&cedil;",desc:"CEDILLA"},{char:"&sup1;",desc:"SUPERSCRIPT ONE"},{char:"&ordm;",desc:"MASCULINE ORDINAL INDICATOR"},{char:"&raquo;",desc:"RIGHT-POINTING DOUBLE ANGLE QUOTATION MARK"},{char:"&frac14;",desc:"VULGAR FRACTION ONE QUARTER"},{char:"&frac12;",desc:"VULGAR FRACTION ONE HALF"},{char:"&frac34;",desc:"VULGAR FRACTION THREE QUARTERS"},{char:"&iquest;",desc:"INVERTED QUESTION MARK"},{char:"&Agrave;",desc:"LATIN CAPITAL LETTER A WITH GRAVE"},{char:"&Aacute;",desc:"LATIN CAPITAL LETTER A WITH ACUTE"},{char:"&Acirc;",desc:"LATIN CAPITAL LETTER A WITH CIRCUMFLEX"},{char:"&Atilde;",desc:"LATIN CAPITAL LETTER A WITH TILDE"},{char:"&Auml;",desc:"LATIN CAPITAL LETTER A WITH DIAERESIS "},{char:"&Aring;",desc:"LATIN CAPITAL LETTER A WITH RING ABOVE"},{char:"&AElig;",desc:"LATIN CAPITAL LETTER AE"},{char:"&Ccedil;",desc:"LATIN CAPITAL LETTER C WITH CEDILLA"},{char:"&Egrave;",desc:"LATIN CAPITAL LETTER E WITH GRAVE"},{char:"&Eacute;",desc:"LATIN CAPITAL LETTER E WITH ACUTE"},{char:"&Ecirc;",desc:"LATIN CAPITAL LETTER E WITH CIRCUMFLEX"},{char:"&Euml;",desc:"LATIN CAPITAL LETTER E WITH DIAERESIS"},{char:"&Igrave;",desc:"LATIN CAPITAL LETTER I WITH GRAVE"},{char:"&Iacute;",desc:"LATIN CAPITAL LETTER I WITH ACUTE"},{char:"&Icirc;",desc:"LATIN CAPITAL LETTER I WITH CIRCUMFLEX"},{char:"&Iuml;",desc:"LATIN CAPITAL LETTER I WITH DIAERESIS"},{char:"&ETH;",desc:"LATIN CAPITAL LETTER ETH"},{char:"&Ntilde;",desc:"LATIN CAPITAL LETTER N WITH TILDE"},{char:"&Ograve;",desc:"LATIN CAPITAL LETTER O WITH GRAVE"},{char:"&Oacute;",desc:"LATIN CAPITAL LETTER O WITH ACUTE"},{char:"&Ocirc;",desc:"LATIN CAPITAL LETTER O WITH CIRCUMFLEX"},{char:"&Otilde;",desc:"LATIN CAPITAL LETTER O WITH TILDE"},{char:"&Ouml;",desc:"LATIN CAPITAL LETTER O WITH DIAERESIS"},{char:"&times;",desc:"MULTIPLICATION SIGN"},{char:"&Oslash;",desc:"LATIN CAPITAL LETTER O WITH STROKE"},{char:"&Ugrave;",desc:"LATIN CAPITAL LETTER U WITH GRAVE"},{char:"&Uacute;",desc:"LATIN CAPITAL LETTER U WITH ACUTE"},{char:"&Ucirc;",desc:"LATIN CAPITAL LETTER U WITH CIRCUMFLEX"},{char:"&Uuml;",desc:"LATIN CAPITAL LETTER U WITH DIAERESIS"},{char:"&Yacute;",desc:"LATIN CAPITAL LETTER Y WITH ACUTE"},{char:"&THORN;",desc:"LATIN CAPITAL LETTER THORN"},{char:"&szlig;",desc:"LATIN SMALL LETTER SHARP S"},{char:"&agrave;",desc:"LATIN SMALL LETTER A WITH GRAVE"},{char:"&aacute;",desc:"LATIN SMALL LETTER A WITH ACUTE "},{char:"&acirc;",desc:"LATIN SMALL LETTER A WITH CIRCUMFLEX"},{char:"&atilde;",desc:"LATIN SMALL LETTER A WITH TILDE"},{char:"&auml;",desc:"LATIN SMALL LETTER A WITH DIAERESIS"},{char:"&aring;",desc:"LATIN SMALL LETTER A WITH RING ABOVE"},{char:"&aelig;",desc:"LATIN SMALL LETTER AE"},{char:"&ccedil;",desc:"LATIN SMALL LETTER C WITH CEDILLA"},{char:"&egrave;",desc:"LATIN SMALL LETTER E WITH GRAVE"},{char:"&eacute;",desc:"LATIN SMALL LETTER E WITH ACUTE"},{char:"&ecirc;",desc:"LATIN SMALL LETTER E WITH CIRCUMFLEX"},{char:"&euml;",desc:"LATIN SMALL LETTER E WITH DIAERESIS"},{char:"&igrave;",desc:"LATIN SMALL LETTER I WITH GRAVE"},{char:"&iacute;",desc:"LATIN SMALL LETTER I WITH ACUTE"},{char:"&icirc;",desc:"LATIN SMALL LETTER I WITH CIRCUMFLEX"},{char:"&iuml;",desc:"LATIN SMALL LETTER I WITH DIAERESIS"},{char:"&eth;",desc:"LATIN SMALL LETTER ETH"},{char:"&ntilde;",desc:"LATIN SMALL LETTER N WITH TILDE"},{char:"&ograve;",desc:"LATIN SMALL LETTER O WITH GRAVE"},{char:"&oacute;",desc:"LATIN SMALL LETTER O WITH ACUTE"},{char:"&ocirc;",desc:"LATIN SMALL LETTER O WITH CIRCUMFLEX"},{char:"&otilde;",desc:"LATIN SMALL LETTER O WITH TILDE"},{char:"&ouml;",desc:"LATIN SMALL LETTER O WITH DIAERESIS"},{char:"&divide;",desc:"DIVISION SIGN"},{char:"&oslash;",desc:"LATIN SMALL LETTER O WITH STROKE"},{char:"&ugrave;",desc:"LATIN SMALL LETTER U WITH GRAVE"},{char:"&uacute;",desc:"LATIN SMALL LETTER U WITH ACUTE"},{char:"&ucirc;",desc:"LATIN SMALL LETTER U WITH CIRCUMFLEX"},{char:"&uuml;",desc:"LATIN SMALL LETTER U WITH DIAERESIS"},{char:"&yacute;",desc:"LATIN SMALL LETTER Y WITH ACUTE"},{char:"&thorn;",desc:"LATIN SMALL LETTER THORN"},{char:"&yuml;",desc:"LATIN SMALL LETTER Y WITH DIAERESIS"}]},{title:"Greek",list:[{char:"&Alpha;",desc:"GREEK CAPITAL LETTER ALPHA"},{char:"&Beta;",desc:"GREEK CAPITAL LETTER BETA"},{char:"&Gamma;",desc:"GREEK CAPITAL LETTER GAMMA"},{char:"&Delta;",desc:"GREEK CAPITAL LETTER DELTA"},{char:"&Epsilon;",desc:"GREEK CAPITAL LETTER EPSILON"},{char:"&Zeta;",desc:"GREEK CAPITAL LETTER ZETA"},{char:"&Eta;",desc:"GREEK CAPITAL LETTER ETA"},{char:"&Theta;",desc:"GREEK CAPITAL LETTER THETA"},{char:"&Iota;",desc:"GREEK CAPITAL LETTER IOTA"},{char:"&Kappa;",desc:"GREEK CAPITAL LETTER KAPPA"},{char:"&Lambda;",desc:"GREEK CAPITAL LETTER LAMBDA"},{char:"&Mu;",desc:"GREEK CAPITAL LETTER MU"},{char:"&Nu;",desc:"GREEK CAPITAL LETTER NU"},{char:"&Xi;",desc:"GREEK CAPITAL LETTER XI"},{char:"&Omicron;",desc:"GREEK CAPITAL LETTER OMICRON"},{char:"&Pi;",desc:"GREEK CAPITAL LETTER PI"},{char:"&Rho;",desc:"GREEK CAPITAL LETTER RHO"},{char:"&Sigma;",desc:"GREEK CAPITAL LETTER SIGMA"},{char:"&Tau;",desc:"GREEK CAPITAL LETTER TAU"},{char:"&Upsilon;",desc:"GREEK CAPITAL LETTER UPSILON"},{char:"&Phi;",desc:"GREEK CAPITAL LETTER PHI"},{char:"&Chi;",desc:"GREEK CAPITAL LETTER CHI"},{char:"&Psi;",desc:"GREEK CAPITAL LETTER PSI"},{char:"&Omega;",desc:"GREEK CAPITAL LETTER OMEGA"},{char:"&alpha;",desc:"GREEK SMALL LETTER ALPHA"},{char:"&beta;",desc:"GREEK SMALL LETTER BETA"},{char:"&gamma;",desc:"GREEK SMALL LETTER GAMMA"},{char:"&delta;",desc:"GREEK SMALL LETTER DELTA"},{char:"&epsilon;",desc:"GREEK SMALL LETTER EPSILON"},{char:"&zeta;",desc:"GREEK SMALL LETTER ZETA"},{char:"&eta;",desc:"GREEK SMALL LETTER ETA"},{char:"&theta;",desc:"GREEK SMALL LETTER THETA"},{char:"&iota;",desc:"GREEK SMALL LETTER IOTA"},{char:"&kappa;",desc:"GREEK SMALL LETTER KAPPA"},{char:"&lambda;",desc:"GREEK SMALL LETTER LAMBDA"},{char:"&mu;",desc:"GREEK SMALL LETTER MU"},{char:"&nu;",desc:"GREEK SMALL LETTER NU"},{char:"&xi;",desc:"GREEK SMALL LETTER XI"},{char:"&omicron;",desc:"GREEK SMALL LETTER OMICRON"},{char:"&pi;",desc:"GREEK SMALL LETTER PI"},{char:"&rho;",desc:"GREEK SMALL LETTER RHO"},{char:"&sigmaf;",desc:"GREEK SMALL LETTER FINAL SIGMA"},{char:"&sigma;",desc:"GREEK SMALL LETTER SIGMA"},{char:"&tau;",desc:"GREEK SMALL LETTER TAU"},{char:"&upsilon;",desc:"GREEK SMALL LETTER UPSILON"},{char:"&phi;",desc:"GREEK SMALL LETTER PHI"},{char:"&chi;",desc:"GREEK SMALL LETTER CHI"},{char:"&psi;",desc:"GREEK SMALL LETTER PSI"},{char:"&omega;",desc:"GREEK SMALL LETTER OMEGA"},{char:"&thetasym;",desc:"GREEK THETA SYMBOL"},{char:"&upsih;",desc:"GREEK UPSILON WITH HOOK SYMBOL"},{char:"&straightphi;",desc:"GREEK PHI SYMBOL"},{char:"&piv;",desc:"GREEK PI SYMBOL"},{char:"&Gammad;",desc:"GREEK LETTER DIGAMMA"},{char:"&gammad;",desc:"GREEK SMALL LETTER DIGAMMA"},{char:"&varkappa;",desc:"GREEK KAPPA SYMBOL"},{char:"&varrho;",desc:"GREEK RHO SYMBOL"},{char:"&straightepsilon;",desc:"GREEK LUNATE EPSILON SYMBOL"},{char:"&backepsilon;",desc:"GREEK REVERSED LUNATE EPSILON SYMBOL"}]},{title:"Cyrillic",list:[{char:"&#x400",desc:"CYRILLIC CAPITAL LETTER IE WITH GRAVE"},{char:"&#x401",desc:"CYRILLIC CAPITAL LETTER IO"},{char:"&#x402",desc:"CYRILLIC CAPITAL LETTER DJE"},{char:"&#x403",desc:"CYRILLIC CAPITAL LETTER GJE"},{char:"&#x404",desc:"CYRILLIC CAPITAL LETTER UKRAINIAN IE"},{char:"&#x405",desc:"CYRILLIC CAPITAL LETTER DZE"},{char:"&#x406",desc:"CYRILLIC CAPITAL LETTER BYELORUSSIAN-UKRAINIAN I"},{char:"&#x407",desc:"CYRILLIC CAPITAL LETTER YI"},{char:"&#x408",desc:"CYRILLIC CAPITAL LETTER JE"},{char:"&#x409",desc:"CYRILLIC CAPITAL LETTER LJE"},{char:"&#x40A",desc:"CYRILLIC CAPITAL LETTER NJE"},{char:"&#x40B",desc:"CYRILLIC CAPITAL LETTER TSHE"},{char:"&#x40C",desc:"CYRILLIC CAPITAL LETTER KJE"},{char:"&#x40D",desc:"CYRILLIC CAPITAL LETTER I WITH GRAVE"},{char:"&#x40E",desc:"CYRILLIC CAPITAL LETTER SHORT U"},{char:"&#x40F",desc:"CYRILLIC CAPITAL LETTER DZHE"},{char:"&#x410",desc:"CYRILLIC CAPITAL LETTER A"},{char:"&#x411",desc:"CYRILLIC CAPITAL LETTER BE"},{char:"&#x412",desc:"CYRILLIC CAPITAL LETTER VE"},{char:"&#x413",desc:"CYRILLIC CAPITAL LETTER GHE"},{char:"&#x414",desc:"CYRILLIC CAPITAL LETTER DE"},{char:"&#x415",desc:"CYRILLIC CAPITAL LETTER IE"},{char:"&#x416",desc:"CYRILLIC CAPITAL LETTER ZHE"},{char:"&#x417",desc:"CYRILLIC CAPITAL LETTER ZE"},{char:"&#x418",desc:"CYRILLIC CAPITAL LETTER I"},{char:"&#x419",desc:"CYRILLIC CAPITAL LETTER SHORT I"},{char:"&#x41A",desc:"CYRILLIC CAPITAL LETTER KA"},{char:"&#x41B",desc:"CYRILLIC CAPITAL LETTER EL"},{char:"&#x41C",desc:"CYRILLIC CAPITAL LETTER EM"},{char:"&#x41D",desc:"CYRILLIC CAPITAL LETTER EN"},{char:"&#x41E",desc:"CYRILLIC CAPITAL LETTER O"},{char:"&#x41F",desc:"CYRILLIC CAPITAL LETTER PE"},{char:"&#x420",desc:"CYRILLIC CAPITAL LETTER ER"},{char:"&#x421",desc:"CYRILLIC CAPITAL LETTER ES"},{char:"&#x422",desc:"CYRILLIC CAPITAL LETTER TE"},{char:"&#x423",desc:"CYRILLIC CAPITAL LETTER U"},{char:"&#x424",desc:"CYRILLIC CAPITAL LETTER EF"},{char:"&#x425",desc:"CYRILLIC CAPITAL LETTER HA"},{char:"&#x426",desc:"CYRILLIC CAPITAL LETTER TSE"},{char:"&#x427",desc:"CYRILLIC CAPITAL LETTER CHE"},{char:"&#x428",desc:"CYRILLIC CAPITAL LETTER SHA"},{char:"&#x429",desc:"CYRILLIC CAPITAL LETTER SHCHA"},{char:"&#x42A",desc:"CYRILLIC CAPITAL LETTER HARD SIGN"},{char:"&#x42B",desc:"CYRILLIC CAPITAL LETTER YERU"},{char:"&#x42C",desc:"CYRILLIC CAPITAL LETTER SOFT SIGN"},{char:"&#x42D",desc:"CYRILLIC CAPITAL LETTER E"},{char:"&#x42E",desc:"CYRILLIC CAPITAL LETTER YU"},{char:"&#x42F",desc:"CYRILLIC CAPITAL LETTER YA"},{char:"&#x430",desc:"CYRILLIC SMALL LETTER A"},{char:"&#x431",desc:"CYRILLIC SMALL LETTER BE"},{char:"&#x432",desc:"CYRILLIC SMALL LETTER VE"},{char:"&#x433",desc:"CYRILLIC SMALL LETTER GHE"},{char:"&#x434",desc:"CYRILLIC SMALL LETTER DE"},{char:"&#x435",desc:"CYRILLIC SMALL LETTER IE"},{char:"&#x436",desc:"CYRILLIC SMALL LETTER ZHE"},{char:"&#x437",desc:"CYRILLIC SMALL LETTER ZE"},{char:"&#x438",desc:"CYRILLIC SMALL LETTER I"},{char:"&#x439",desc:"CYRILLIC SMALL LETTER SHORT I"},{char:"&#x43A",desc:"CYRILLIC SMALL LETTER KA"},{char:"&#x43B",desc:"CYRILLIC SMALL LETTER EL"},{char:"&#x43C",desc:"CYRILLIC SMALL LETTER EM"},{char:"&#x43D",desc:"CYRILLIC SMALL LETTER EN"},{char:"&#x43E",desc:"CYRILLIC SMALL LETTER O"},{char:"&#x43F",desc:"CYRILLIC SMALL LETTER PE"},{char:"&#x440",desc:"CYRILLIC SMALL LETTER ER"},{char:"&#x441",desc:"CYRILLIC SMALL LETTER ES"},{char:"&#x442",desc:"CYRILLIC SMALL LETTER TE"},{char:"&#x443",desc:"CYRILLIC SMALL LETTER U"},{char:"&#x444",desc:"CYRILLIC SMALL LETTER EF"},{char:"&#x445",desc:"CYRILLIC SMALL LETTER HA"},{char:"&#x446",desc:"CYRILLIC SMALL LETTER TSE"},{char:"&#x447",desc:"CYRILLIC SMALL LETTER CHE"},{char:"&#x448",desc:"CYRILLIC SMALL LETTER SHA"},{char:"&#x449",desc:"CYRILLIC SMALL LETTER SHCHA"},{char:"&#x44A",desc:"CYRILLIC SMALL LETTER HARD SIGN"},{char:"&#x44B",desc:"CYRILLIC SMALL LETTER YERU"},{char:"&#x44C",desc:"CYRILLIC SMALL LETTER SOFT SIGN"},{char:"&#x44D",desc:"CYRILLIC SMALL LETTER E"},{char:"&#x44E",desc:"CYRILLIC SMALL LETTER YU"},{char:"&#x44F",desc:"CYRILLIC SMALL LETTER YA"},{char:"&#x450",desc:"CYRILLIC SMALL LETTER IE WITH GRAVE"},{char:"&#x451",desc:"CYRILLIC SMALL LETTER IO"},{char:"&#x452",desc:"CYRILLIC SMALL LETTER DJE"},{char:"&#x453",desc:"CYRILLIC SMALL LETTER GJE"},{char:"&#x454",desc:"CYRILLIC SMALL LETTER UKRAINIAN IE"},{char:"&#x455",desc:"CYRILLIC SMALL LETTER DZE"},{char:"&#x456",desc:"CYRILLIC SMALL LETTER BYELORUSSIAN-UKRAINIAN I"},{char:"&#x457",desc:"CYRILLIC SMALL LETTER YI"},{char:"&#x458",desc:"CYRILLIC SMALL LETTER JE"},{char:"&#x459",desc:"CYRILLIC SMALL LETTER LJE"},{char:"&#x45A",desc:"CYRILLIC SMALL LETTER NJE"},{char:"&#x45B",desc:"CYRILLIC SMALL LETTER TSHE"},{char:"&#x45C",desc:"CYRILLIC SMALL LETTER KJE"},{char:"&#x45D",desc:"CYRILLIC SMALL LETTER I WITH GRAVE"},{char:"&#x45E",desc:"CYRILLIC SMALL LETTER SHORT U"},{char:"&#x45F",desc:"CYRILLIC SMALL LETTER DZHE"}]},{title:"Punctuation",list:[{char:"&ndash;",desc:"EN DASH"},{char:"&mdash;",desc:"EM DASH"},{char:"&lsquo;",desc:"LEFT SINGLE QUOTATION MARK"},{char:"&rsquo;",desc:"RIGHT SINGLE QUOTATION MARK"},{char:"&sbquo;",desc:"SINGLE LOW-9 QUOTATION MARK"},{char:"&ldquo;",desc:"LEFT DOUBLE QUOTATION MARK"},{char:"&rdquo;",desc:"RIGHT DOUBLE QUOTATION MARK"},{char:"&bdquo;",desc:"DOUBLE LOW-9 QUOTATION MARK"},{char:"&dagger;",desc:"DAGGER"},{char:"&Dagger;",desc:"DOUBLE DAGGER"},{char:"&bull;",desc:"BULLET"},{char:"&hellip;",desc:"HORIZONTAL ELLIPSIS"},{char:"&permil;",desc:"PER MILLE SIGN"},{char:"&prime;",desc:"PRIME"},{char:"&Prime;",desc:"DOUBLE PRIME"},{char:"&lsaquo;",desc:"SINGLE LEFT-POINTING ANGLE QUOTATION MARK"},{char:"&rsaquo;",desc:"SINGLE RIGHT-POINTING ANGLE QUOTATION MARK"},{char:"&oline;",desc:"OVERLINE"},{char:"&frasl;",desc:"FRACTION SLASH"}]},{title:"Currency",list:[{char:"&#x20A0",desc:"EURO-CURRENCY SIGN"},{char:"&#x20A1",desc:"COLON SIGN"},{char:"&#x20A2",desc:"CRUZEIRO SIGN"},{char:"&#x20A3",desc:"FRENCH FRANC SIGN"},{char:"&#x20A4",desc:"LIRA SIGN"},{char:"&#x20A5",desc:"MILL SIGN"},{char:"&#x20A6",desc:"NAIRA SIGN"},{char:"&#x20A7",desc:"PESETA SIGN"},{char:"&#x20A8",desc:"RUPEE SIGN"},{char:"&#x20A9",desc:"WON SIGN"},{char:"&#x20AA",desc:"NEW SHEQEL SIGN"},{char:"&#x20AB",desc:"DONG SIGN"},{char:"&#x20AC",desc:"EURO SIGN"},{char:"&#x20AD",desc:"KIP SIGN"},{char:"&#x20AE",desc:"TUGRIK SIGN"},{char:"&#x20AF",desc:"DRACHMA SIGN"},{char:"&#x20B0",desc:"GERMAN PENNY SYMBOL"},{char:"&#x20B1",desc:"PESO SIGN"},{char:"&#x20B2",desc:"GUARANI SIGN"},{char:"&#x20B3",desc:"AUSTRAL SIGN"},{char:"&#x20B4",desc:"HRYVNIA SIGN"},{char:"&#x20B5",desc:"CEDI SIGN"},{char:"&#x20B6",desc:"LIVRE TOURNOIS SIGN"},{char:"&#x20B7",desc:"SPESMILO SIGN"},{char:"&#x20B8",desc:"TENGE SIGN"},{char:"&#x20B9",desc:"INDIAN RUPEE SIGN"}]},{title:"Arrows",list:[{char:"&#x2190",desc:"LEFTWARDS ARROW"},{char:"&#x2191",desc:"UPWARDS ARROW"},{char:"&#x2192",desc:"RIGHTWARDS ARROW"},{char:"&#x2193",desc:"DOWNWARDS ARROW"},{char:"&#x2194",desc:"LEFT RIGHT ARROW"},{char:"&#x2195",desc:"UP DOWN ARROW"},{char:"&#x2196",desc:"NORTH WEST ARROW"},{char:"&#x2197",desc:"NORTH EAST ARROW"},{char:"&#x2198",desc:"SOUTH EAST ARROW"},{char:"&#x2199",desc:"SOUTH WEST ARROW"},{char:"&#x219A",desc:"LEFTWARDS ARROW WITH STROKE"},{char:"&#x219B",desc:"RIGHTWARDS ARROW WITH STROKE"},{char:"&#x219C",desc:"LEFTWARDS WAVE ARROW"},{char:"&#x219D",desc:"RIGHTWARDS WAVE ARROW"},{char:"&#x219E",desc:"LEFTWARDS TWO HEADED ARROW"},{char:"&#x219F",desc:"UPWARDS TWO HEADED ARROW"},{char:"&#x21A0",desc:"RIGHTWARDS TWO HEADED ARROW"},{char:"&#x21A1",desc:"DOWNWARDS TWO HEADED ARROW"},{char:"&#x21A2",desc:"LEFTWARDS ARROW WITH TAIL"},{char:"&#x21A3",desc:"RIGHTWARDS ARROW WITH TAIL"},{char:"&#x21A4",desc:"LEFTWARDS ARROW FROM BAR"},{char:"&#x21A5",desc:"UPWARDS ARROW FROM BAR"},{char:"&#x21A6",desc:"RIGHTWARDS ARROW FROM BAR"},{char:"&#x21A7",desc:"DOWNWARDS ARROW FROM BAR"},{char:"&#x21A8",desc:"UP DOWN ARROW WITH BASE"},{char:"&#x21A9",desc:"LEFTWARDS ARROW WITH HOOK"},{char:"&#x21AA",desc:"RIGHTWARDS ARROW WITH HOOK"},{char:"&#x21AB",desc:"LEFTWARDS ARROW WITH LOOP"},{char:"&#x21AC",desc:"RIGHTWARDS ARROW WITH LOOP"},{char:"&#x21AD",desc:"LEFT RIGHT WAVE ARROW"},{char:"&#x21AE",desc:"LEFT RIGHT ARROW WITH STROKE"},{char:"&#x21AF",desc:"DOWNWARDS ZIGZAG ARROW"},{char:"&#x21B0",desc:"UPWARDS ARROW WITH TIP LEFTWARDS"},{char:"&#x21B1",desc:"UPWARDS ARROW WITH TIP RIGHTWARDS"},{char:"&#x21B2",desc:"DOWNWARDS ARROW WITH TIP LEFTWARDS"},{char:"&#x21B3",desc:"DOWNWARDS ARROW WITH TIP RIGHTWARDS"},{char:"&#x21B4",desc:"RIGHTWARDS ARROW WITH CORNER DOWNWARDS"},{char:"&#x21B5",desc:"DOWNWARDS ARROW WITH CORNER LEFTWARDS"},{char:"&#x21B6",desc:"ANTICLOCKWISE TOP SEMICIRCLE ARROW"},{char:"&#x21B7",desc:"CLOCKWISE TOP SEMICIRCLE ARROW"},{char:"&#x21B8",desc:"NORTH WEST ARROW TO LONG BAR"},{char:"&#x21B9",desc:"LEFTWARDS ARROW TO BAR OVER RIGHTWARDS ARROW TO BAR"},{char:"&#x21BA",desc:"ANTICLOCKWISE OPEN CIRCLE ARROW"},{char:"&#x21BB",desc:"CLOCKWISE OPEN CIRCLE ARROW"},{char:"&#x21BC",desc:"LEFTWARDS HARPOON WITH BARB UPWARDS"},{char:"&#x21BD",desc:"LEFTWARDS HARPOON WITH BARB DOWNWARDS"},{char:"&#x21BE",desc:"UPWARDS HARPOON WITH BARB RIGHTWARDS"},{char:"&#x21BF",desc:"UPWARDS HARPOON WITH BARB LEFTWARDS"},{char:"&#x21C0",desc:"RIGHTWARDS HARPOON WITH BARB UPWARDS"},{char:"&#x21C1",desc:"RIGHTWARDS HARPOON WITH BARB DOWNWARDS"},{char:"&#x21C2",desc:"DOWNWARDS HARPOON WITH BARB RIGHTWARDS"},{char:"&#x21C3",desc:"DOWNWARDS HARPOON WITH BARB LEFTWARDS"},{char:"&#x21C4",desc:"RIGHTWARDS ARROW OVER LEFTWARDS ARROW"},{char:"&#x21C5",desc:"UPWARDS ARROW LEFTWARDS OF DOWNWARDS ARROW"},{char:"&#x21C6",desc:"LEFTWARDS ARROW OVER RIGHTWARDS ARROW"},{char:"&#x21C7",desc:"LEFTWARDS PAIRED ARROWS"},{char:"&#x21C8",desc:"UPWARDS PAIRED ARROWS"},{char:"&#x21C9",desc:"RIGHTWARDS PAIRED ARROWS"},{char:"&#x21CA",desc:"DOWNWARDS PAIRED ARROWS"},{char:"&#x21CB",desc:"LEFTWARDS HARPOON OVER RIGHTWARDS HARPOON"},{char:"&#x21CC",desc:"RIGHTWARDS HARPOON OVER LEFTWARDS HARPOON"},{char:"&#x21CD",desc:"LEFTWARDS DOUBLE ARROW WITH STROKE"},{char:"&#x21CE",desc:"LEFT RIGHT DOUBLE ARROW WITH STROKE"},{char:"&#x21CF",desc:"RIGHTWARDS DOUBLE ARROW WITH STROKE"},{char:"&#x21D0",desc:"LEFTWARDS DOUBLE ARROW"},{char:"&#x21D1",desc:"UPWARDS DOUBLE ARROW"},{char:"&#x21D2",desc:"RIGHTWARDS DOUBLE ARROW"},{char:"&#x21D3",desc:"DOWNWARDS DOUBLE ARROW"},{char:"&#x21D4",desc:"LEFT RIGHT DOUBLE ARROW"},{char:"&#x21D5",desc:"UP DOWN DOUBLE ARROW"},{char:"&#x21D6",desc:"NORTH WEST DOUBLE ARROW"},{char:"&#x21D7",desc:"NORTH EAST DOUBLE ARROW"},{char:"&#x21D8",desc:"SOUTH EAST DOUBLE ARROW"},{char:"&#x21D9",desc:"SOUTH WEST DOUBLE ARROW"},{char:"&#x21DA",desc:"LEFTWARDS TRIPLE ARROW"},{char:"&#x21DB",desc:"RIGHTWARDS TRIPLE ARROW"},{char:"&#x21DC",desc:"LEFTWARDS SQUIGGLE ARROW"},{char:"&#x21DD",desc:"RIGHTWARDS SQUIGGLE ARROW"},{char:"&#x21DE",desc:"UPWARDS ARROW WITH DOUBLE STROKE"},{char:"&#x21DF",desc:"DOWNWARDS ARROW WITH DOUBLE STROKE"},{char:"&#x21E0",desc:"LEFTWARDS DASHED ARROW"},{char:"&#x21E1",desc:"UPWARDS DASHED ARROW"},{char:"&#x21E2",desc:"RIGHTWARDS DASHED ARROW"},{char:"&#x21E3",desc:"DOWNWARDS DASHED ARROW"},{char:"&#x21E4",desc:"LEFTWARDS ARROW TO BAR"},{char:"&#x21E5",desc:"RIGHTWARDS ARROW TO BAR"},{char:"&#x21E6",desc:"LEFTWARDS WHITE ARROW"},{char:"&#x21E7",desc:"UPWARDS WHITE ARROW"},{char:"&#x21E8",desc:"RIGHTWARDS WHITE ARROW"},{char:"&#x21E9",desc:"DOWNWARDS WHITE ARROW"},{char:"&#x21EA",desc:"UPWARDS WHITE ARROW FROM BAR"},{char:"&#x21EB",desc:"UPWARDS WHITE ARROW ON PEDESTAL"},{char:"&#x21EC",desc:"UPWARDS WHITE ARROW ON PEDESTAL WITH HORIZONTAL BAR"},{char:"&#x21ED",desc:"UPWARDS WHITE ARROW ON PEDESTAL WITH VERTICAL BAR"},{char:"&#x21EE",desc:"UPWARDS WHITE DOUBLE ARROW"},{char:"&#x21EF",desc:"UPWARDS WHITE DOUBLE ARROW ON PEDESTAL"},{char:"&#x21F0",desc:"RIGHTWARDS WHITE ARROW FROM WALL"},{char:"&#x21F1",desc:"NORTH WEST ARROW TO CORNER"},{char:"&#x21F2",desc:"SOUTH EAST ARROW TO CORNER"},{char:"&#x21F3",desc:"UP DOWN WHITE ARROW"},{char:"&#x21F4",desc:"RIGHT ARROW WITH SMALL CIRCLE"},{char:"&#x21F5",desc:"DOWNWARDS ARROW LEFTWARDS OF UPWARDS ARROW"},{char:"&#x21F6",desc:"THREE RIGHTWARDS ARROWS"},{char:"&#x21F7",desc:"LEFTWARDS ARROW WITH VERTICAL STROKE"},{char:"&#x21F8",desc:"RIGHTWARDS ARROW WITH VERTICAL STROKE"},{char:"&#x21F9",desc:"LEFT RIGHT ARROW WITH VERTICAL STROKE"},{char:"&#x21FA",desc:"LEFTWARDS ARROW WITH DOUBLE VERTICAL STROKE"},{char:"&#x21FB",desc:"RIGHTWARDS ARROW WITH DOUBLE VERTICAL STROKE"},{char:"&#x21FC",desc:"LEFT RIGHT ARROW WITH DOUBLE VERTICAL STROKE"},{char:"&#x21FD",desc:"LEFTWARDS OPEN-HEADED ARROW"},{char:"&#x21FE",desc:"RIGHTWARDS OPEN-HEADED ARROW"},{char:"&#x21FF",desc:"LEFT RIGHT OPEN-HEADED ARROW"}]},{title:"Math",list:[{char:"&forall;",desc:"FOR ALL"},{char:"&part;",desc:"PARTIAL DIFFERENTIAL"},{char:"&exist;",desc:"THERE EXISTS"},{char:"&empty;",desc:"EMPTY SET"},{char:"&nabla;",desc:"NABLA"},{char:"&isin;",desc:"ELEMENT OF"},{char:"&notin;",desc:"NOT AN ELEMENT OF"},{char:"&ni;",desc:"CONTAINS AS MEMBER"},{char:"&prod;",desc:"N-ARY PRODUCT"},{char:"&sum;",desc:"N-ARY SUMMATION"},{char:"&minus;",desc:"MINUS SIGN"},{char:"&lowast;",desc:"ASTERISK OPERATOR"},{char:"&radic;",desc:"SQUARE ROOT"},{char:"&prop;",desc:"PROPORTIONAL TO"},{char:"&infin;",desc:"INFINITY"},{char:"&ang;",desc:"ANGLE"},{char:"&and;",desc:"LOGICAL AND"},{char:"&or;",desc:"LOGICAL OR"},{char:"&cap;",desc:"INTERSECTION"},{char:"&cup;",desc:"UNION"},{char:"&int;",desc:"INTEGRAL"},{char:"&there4;",desc:"THEREFORE"},{char:"&sim;",desc:"TILDE OPERATOR"},{char:"&cong;",desc:"APPROXIMATELY EQUAL TO"},{char:"&asymp;",desc:"ALMOST EQUAL TO"},{char:"&ne;",desc:"NOT EQUAL TO"},{char:"&equiv;",desc:"IDENTICAL TO"},{char:"&le;",desc:"LESS-THAN OR EQUAL TO"},{char:"&ge;",desc:"GREATER-THAN OR EQUAL TO"},{char:"&sub;",desc:"SUBSET OF"},{char:"&sup;",desc:"SUPERSET OF"},{char:"&nsub;",desc:"NOT A SUBSET OF"},{char:"&sube;",desc:"SUBSET OF OR EQUAL TO"},{char:"&supe;",desc:"SUPERSET OF OR EQUAL TO"},{char:"&oplus;",desc:"CIRCLED PLUS"},{char:"&otimes;",desc:"CIRCLED TIMES"},{char:"&perp;",desc:"UP TACK"}]},{title:"Misc",list:[{char:"&spades;",desc:"BLACK SPADE SUIT"},{char:"&clubs;",desc:"BLACK CLUB SUIT"},{char:"&hearts;",desc:"BLACK HEART SUIT"},{char:"&diams;",desc:"BLACK DIAMOND SUIT"},{char:"&#x2669",desc:"QUARTER NOTE"},{char:"&#x266A",desc:"EIGHTH NOTE"},{char:"&#x266B",desc:"BEAMED EIGHTH NOTES"},{char:"&#x266C",desc:"BEAMED SIXTEENTH NOTES"},{char:"&#x266D",desc:"MUSIC FLAT SIGN"},{char:"&#x266E",desc:"MUSIC NATURAL SIGN"},{char:"&#x2600",desc:"BLACK SUN WITH RAYS"},{char:"&#x2601",desc:"CLOUD"},{char:"&#x2602",desc:"UMBRELLA"},{char:"&#x2603",desc:"SNOWMAN"},{char:"&#x2615",desc:"HOT BEVERAGE"},{char:"&#x2618",desc:"SHAMROCK"},{char:"&#x262F",desc:"YIN YANG"},{char:"&#x2714",desc:"HEAVY CHECK MARK"},{char:"&#x2716",desc:"HEAVY MULTIPLICATION X"},{char:"&#x2744",desc:"SNOWFLAKE"},{char:"&#x275B",desc:"HEAVY SINGLE TURNED COMMA QUOTATION MARK ORNAMENT"},{char:"&#x275C",desc:"HEAVY SINGLE COMMA QUOTATION MARK ORNAMENT"},{char:"&#x275D",desc:"HEAVY DOUBLE TURNED COMMA QUOTATION MARK ORNAMENT"},{char:"&#x275E",desc:"HEAVY DOUBLE COMMA QUOTATION MARK ORNAMENT"},{char:"&#x2764",desc:"HEAVY BLACK HEART"}]}]}),t.FE.PLUGINS.specialCharacters=function(e){var o,i,y="special_characters";function E(O,p){e.events.disableBlur(),O.focus(),p.preventDefault(),p.stopPropagation()}return{_init:function(){},show:function(){if(!o){var O="<h4>"+e.language.translate("Special Characters")+"</h4>",p=function(){for(var w='<div class="fr-special-characters-modal">',f=0;f<e.opts.specialCharactersSets.length;f++){for(var R=e.opts.specialCharactersSets[f],T=R.list,_='<div class="fr-special-characters-list"><p class="fr-special-characters-title">'+e.language.translate(R.title)+"</p>",A=0;A<T.length;A++){var c=T[A];_+='<span class="fr-command fr-special-character" tabIndex="-1" role="button" value="'+c.char+'" title="'+c.desc+'">'+c.char+'<span class="fr-sr-only">'+e.language.translate(c.desc)+"&nbsp;&nbsp;&nbsp;</span></span>"}w+=_+"</div>"}return w+"</div>"}(),L=e.modals.create(y,O,p);o=L.$modal,i=L.$body,e.events.$on(t(e.o_win),"resize",function(){(o.data("instance")||e).modals.resize(y)}),e.events.bindClick(i,".fr-special-character",function(w){var f=o.data("instance")||e,R=t(w.currentTarget);f.specialCharacters.insert(R)}),e.events.$on(i,"keydown",function(w){var f=w.which,R=i.find("span.fr-special-character:focus:first");if(!(R.length||f!=t.FE.KEYCODE.F10||e.keys.ctrlKey(w)||w.shiftKey)&&w.altKey)return E(i.find("span.fr-special-character:first"),w),!1;if(f==t.FE.KEYCODE.TAB||f==t.FE.KEYCODE.ARROW_LEFT||f==t.FE.KEYCODE.ARROW_RIGHT){var T=null,_=null,A=!1;return f==t.FE.KEYCODE.ARROW_LEFT||f==t.FE.KEYCODE.ARROW_RIGHT?(_=f==t.FE.KEYCODE.ARROW_RIGHT,A=!0):_=!w.shiftKey,R.length?(A&&(T=_?R.nextAll("span.fr-special-character:first"):R.prevAll("span.fr-special-character:first")),T&&T.length||(T=_?R.parent().next().find("span.fr-special-character:first"):R.parent().prev().find("span.fr-special-character:"+(A?"last":"first"))).length||(T=i.find("span.fr-special-character:"+(_?"first":"last")))):T=i.find("span.fr-special-character:"+(_?"first":"last")),E(T,w),!1}if(f!=t.FE.KEYCODE.ENTER||!R.length)return!0;(o.data("instance")||e).specialCharacters.insert(R)},!0)}e.modals.show(y),e.modals.resize(y)},hide:function(){e.modals.hide(y)},insert:function(O){e.specialCharacters.hide(),e.undo.saveStep(),e.html.insert(O.attr("value"),!0),e.undo.saveStep()}}},t.FroalaEditor.DefineIcon("specialCharacters",{template:"text",NAME:"&#937;"}),t.FE.RegisterCommand("specialCharacters",{title:"Special Characters",icon:"specialCharacters",undo:!1,focus:!1,modal:!0,callback:function(){this.specialCharacters.show()},plugin:"specialCharacters",showOnMobile:!0}),t.extend(t.FE.POPUP_TEMPLATES,{"table.insert":"[_BUTTONS_][_ROWS_COLUMNS_]","table.edit":"[_BUTTONS_]","table.colors":"[_BUTTONS_][_COLORS_][_CUSTOM_COLOR_]"}),t.extend(t.FE.DEFAULTS,{tableInsertMaxSize:10,tableEditButtons:["tableHeader","tableRemove","|","tableRows","tableColumns","tableStyle","-","tableCells","tableCellBackground","tableCellVerticalAlign","tableCellHorizontalAlign","tableCellStyle"],tableInsertButtons:["tableBack","|"],tableResizer:!0,tableDefaultWidth:"100%",tableResizerOffset:5,tableResizingLimit:30,tableColorsButtons:["tableBack","|"],tableColors:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],tableColorsStep:7,tableCellStyles:{"fr-highlighted":"Highlighted","fr-thick":"Thick"},tableStyles:{"fr-dashed-borders":"Dashed Borders","fr-alternate-rows":"Alternate Rows"},tableCellMultipleStyles:!0,tableMultipleStyles:!0,tableInsertHelper:!0,tableInsertHelperOffset:15}),t.FE.PLUGINS.table=function(e){var o,i,y,E,O,p,L;function w(){var M=S();if(M){var U=e.popups.get("table.edit");if(U||(U=A()),U){e.popups.setContainer("table.edit",e.$sc);var K=te(M);e.popups.show("table.edit",(K.left+K.right)/2,K.bottom,K.bottom-K.top),e.edit.isDisabled()&&(1<j().length&&e.toolbar.disable(),e.$el.removeClass("fr-no-selection"),e.edit.on(),e.button.bulkRefresh(),e.selection.setAtEnd(e.$el.find(".fr-selected-cell:last").get(0)),e.selection.restore())}}}function R(){0===j().length&&e.toolbar.enable()}function T(M){if(M)return e.popups.onHide("table.insert",function(){e.popups.get("table.insert").find('.fr-table-size .fr-select-table-size > span[data-row="1"][data-col="1"]').trigger("mouseenter")}),!0;var U="";0<e.opts.tableInsertButtons.length&&(U='<div class="fr-buttons">'+e.button.buildList(e.opts.tableInsertButtons)+"</div>");var P={buttons:U,rows_columns:function(){for(var V='<div class="fr-table-size"><div class="fr-table-size-info">1 &times; 1</div><div class="fr-select-table-size">',he=1;he<=e.opts.tableInsertMaxSize;he++){for(var _e=1;_e<=e.opts.tableInsertMaxSize;_e++){var me="inline-block";2<he&&!e.helpers.isMobile()&&(me="none");var Le="fr-table-cell ";1==he&&1==_e&&(Le+=" hover"),V+='<span class="fr-command '+Le+'" tabIndex="-1" data-cmd="tableInsert" data-row="'+he+'" data-col="'+_e+'" data-param1="'+he+'" data-param2="'+_e+'" style="display: '+me+';" role="button"><span></span><span class="fr-sr-only">'+he+" &times; "+_e+"&nbsp;&nbsp;&nbsp;</span></span>"}V+='<div class="new-line"></div>'}return V+"</div></div>"}()},Y=e.popups.create("table.insert",P);return e.events.$on(Y,"mouseenter",".fr-table-size .fr-select-table-size .fr-table-cell",function(V){_(t(V.currentTarget))},!0),e.events.$on(Y,"focus","[tabIndex]",function(V){_(t(V.currentTarget))}),e.events.on("popup.tab",function(V){var he=t(V.currentTarget);if(!e.popups.isVisible("table.insert")||!he.is("span, a"))return!0;var _e,me=V.which;if(t.FE.KEYCODE.ARROW_UP==me||t.FE.KEYCODE.ARROW_DOWN==me||t.FE.KEYCODE.ARROW_LEFT==me||t.FE.KEYCODE.ARROW_RIGHT==me){if(he.is("span.fr-table-cell")){var Le=he.parent().find("span.fr-table-cell"),Qe=Le.index(he),Je=e.opts.tableInsertMaxSize,et=Qe%Je,nt=Math.floor(Qe/Je);t.FE.KEYCODE.ARROW_UP==me?nt=Math.max(0,nt-1):t.FE.KEYCODE.ARROW_DOWN==me?nt=Math.min(e.opts.tableInsertMaxSize-1,nt+1):t.FE.KEYCODE.ARROW_LEFT==me?et=Math.max(0,et-1):t.FE.KEYCODE.ARROW_RIGHT==me&&(et=Math.min(e.opts.tableInsertMaxSize-1,et+1));var $=t(Le.get(nt*Je+et));_($),e.events.disableBlur(),$.focus(),_e=!1}}else t.FE.KEYCODE.ENTER==me&&(e.button.exec(he),_e=!1);return!1===_e&&(V.preventDefault(),V.stopPropagation()),_e},!0),Y}function _(M){var U=M.data("row"),K=M.data("col"),P=M.parent();P.siblings(".fr-table-size-info").html(U+" &times; "+K),P.find("> span").removeClass("hover fr-active-item");for(var Y=1;Y<=e.opts.tableInsertMaxSize;Y++)for(var V=0;V<=e.opts.tableInsertMaxSize;V++){var he=P.find('> span[data-row="'+Y+'"][data-col="'+V+'"]');Y<=U&&V<=K?he.addClass("hover"):Y<=U+1||Y<=2&&!e.helpers.isMobile()?he.css("display","inline-block"):2<Y&&!e.helpers.isMobile()&&he.css("display","none")}M.addClass("fr-active-item")}function A(M){if(M)return e.popups.onHide("table.edit",R),!0;if(0<e.opts.tableEditButtons.length){var U={buttons:'<div class="fr-buttons">'+e.button.buildList(e.opts.tableEditButtons)+"</div>"},K=e.popups.create("table.edit",U);return e.events.$on(e.$wp,"scroll.table-edit",function(){e.popups.isVisible("table.edit")&&w()}),K}return!1}function c(){if(0<j().length){var M=fe();e.selection.setBefore(M.get(0))||e.selection.setAfter(M.get(0)),e.selection.restore(),e.popups.hide("table.edit"),M.remove(),e.toolbar.enable()}}function l(M){var U=fe();if(0<U.length){if(0<e.$el.find("th.fr-selected-cell").length&&"above"==M)return;var K,P,Y,V=S(),he=k(V);P="above"==M?he.min_i:he.max_i;var _e="<tr>";for(K=0;K<V[P].length;K++)if("below"==M&&P<V.length-1&&V[P][K]==V[P+1][K]||"above"==M&&0<P&&V[P][K]==V[P-1][K]){if(0===K||0<K&&V[P][K]!=V[P][K-1]){var me=t(V[P][K]);me.attr("rowspan",parseInt(me.attr("rowspan"),10)+1)}}else _e+="<td><br></td>";_e+="</tr>",Y=0<e.$el.find("th.fr-selected-cell").length&&"below"==M?t(U.find("tbody").not(U.find("table tbody"))):t(U.find("tr").not(U.find("table tr")).get(P)),"below"==M?"TBODY"==Y.prop("tagName")?Y.prepend(_e):Y.after(_e):"above"==M&&(Y.before(_e),e.popups.isVisible("table.edit")&&w())}}function a(M,U,K){var P,Y,V,he,_e,me=0,Le=S(K);if(M<(U=Math.min(U,Le[0].length-1)))for(Y=M;Y<=U;Y++)if(!(M<Y&&Le[0][Y]==Le[0][Y-1])&&1<(he=Math.min(parseInt(Le[0][Y].getAttribute("colspan"),10)||1,U-M+1))&&Le[0][Y]==Le[0][Y+1])for(me=he-1,P=1;P<Le.length;P++)if(Le[P][Y]!=Le[P-1][Y]){for(V=Y;V<Y+he;V++)if(1<(_e=parseInt(Le[P][V].getAttribute("colspan"),10)||1)&&Le[P][V]==Le[P][V+1])V+=me=Math.min(me,_e-1);else if(!(me=Math.max(0,me-1)))break;if(!me)break}me&&u(Le,me,"colspan",0,Le.length-1,M,U)}function s(M,U,K){var P,Y,V,he,_e,me=0,Le=S(K);if(M<(U=Math.min(U,Le.length-1)))for(P=M;P<=U;P++)if(!(M<P&&Le[P][0]==Le[P-1][0])&&1<(he=Math.min(parseInt(Le[P][0].getAttribute("rowspan"),10)||1,U-M+1))&&Le[P][0]==Le[P+1][0])for(me=he-1,Y=1;Y<Le[0].length;Y++)if(Le[P][Y]!=Le[P][Y-1]){for(V=P;V<P+he;V++)if(1<(_e=parseInt(Le[V][Y].getAttribute("rowspan"),10)||1)&&Le[V][Y]==Le[V+1][Y])V+=me=Math.min(me,_e-1);else if(!(me=Math.max(0,me-1)))break;if(!me)break}me&&u(Le,me,"rowspan",M,U,0,Le[0].length-1)}function u(M,U,K,P,Y,V,he){var _e,me,Le;for(_e=P;_e<=Y;_e++)for(me=V;me<=he;me++)P<_e&&M[_e][me]==M[_e-1][me]||V<me&&M[_e][me]==M[_e][me-1]||1<(Le=parseInt(M[_e][me].getAttribute(K),10)||1)&&(1<Le-U?M[_e][me].setAttribute(K,Le-U):M[_e][me].removeAttribute(K))}function m(M,U,K,P,Y){s(M,U,Y),a(K,P,Y)}function n(M){e.$el.find(".fr-selected-cell").css("background-color","REMOVE"!=M?e.helpers.HEXtoRGB(M):""),w()}function S(M){var U=[];return null==(M=M||null)&&0<j().length&&(M=fe()),M&&M.find("tr:visible").not(M.find("table tr")).each(function(K,P){var Y=t(P),V=0;Y.find("> th, > td").each(function(he,_e){for(var me=t(_e),Le=parseInt(me.attr("colspan"),10)||1,Qe=parseInt(me.attr("rowspan"),10)||1,Je=K;Je<K+Qe;Je++)for(var et=V;et<V+Le;et++)U[Je]||(U[Je]=[]),U[Je][et]?V++:U[Je][et]=_e;V+=Le})}),U}function x(M,U){for(var K=0;K<U.length;K++)for(var P=0;P<U[K].length;P++)if(U[K][P]==M)return{row:K,col:P}}function q(M,U,K){for(var P=M+1,Y=U+1;P<K.length;){if(K[P][U]!=K[M][U]){P--;break}P++}for(P==K.length&&P--;Y<K[M].length;){if(K[M][Y]!=K[M][U]){Y--;break}Y++}return Y==K[M].length&&Y--,{row:P,col:Y}}function v(){e.el.querySelector(".fr-cell-fixed")&&e.el.querySelector(".fr-cell-fixed").classList.remove("fr-cell-fixed"),e.el.querySelector(".fr-cell-handler")&&e.el.querySelector(".fr-cell-handler").classList.remove("fr-cell-handler")}function D(){var M=e.$el.find(".fr-selected-cell");0<M.length&&M.each(function(){var U=t(this);U.removeClass("fr-selected-cell"),""===U.attr("class")&&U.removeAttr("class")}),v()}function G(){e.events.disableBlur(),e.selection.clear(),e.$el.addClass("fr-no-selection"),e.$el.blur(),e.events.enableBlur()}function k(M){var U=e.$el.find(".fr-selected-cell");if(0<U.length){var K,P=M.length,Y=0,V=M[0].length,he=0;for(K=0;K<U.length;K++){var _e=x(U[K],M),me=q(_e.row,_e.col,M);P=Math.min(_e.row,P),Y=Math.max(me.row,Y),V=Math.min(_e.col,V),he=Math.max(me.col,he)}return{min_i:P,max_i:Y,min_j:V,max_j:he}}return null}function te(M){var U=k(M),K=t(M[U.min_i][U.min_j]),P=t(M[U.min_i][U.max_j]),Y=t(M[U.max_i][U.min_j]);return{left:K.offset().left,right:P.offset().left+P.outerWidth(),top:K.offset().top,bottom:Y.offset().top+Y.outerHeight()}}function J(M,U){if(t(M).is(U))D(),t(M).addClass("fr-selected-cell");else{G(),e.edit.off();var K=S(),P=x(M,K),Y=x(U,K),V=function me(Le,Qe,Je,et,nt){var rt,$,X,ne,oe=Le,xe=Qe,N=Je,h=et;for(rt=oe;rt<=xe;rt++)(1<(parseInt(t(nt[rt][N]).attr("rowspan"),10)||1)||1<(parseInt(t(nt[rt][N]).attr("colspan"),10)||1))&&(ne=q((X=x(nt[rt][N],nt)).row,X.col,nt),oe=Math.min(X.row,oe),xe=Math.max(ne.row,xe),N=Math.min(X.col,N),h=Math.max(ne.col,h)),(1<(parseInt(t(nt[rt][h]).attr("rowspan"),10)||1)||1<(parseInt(t(nt[rt][h]).attr("colspan"),10)||1))&&(ne=q((X=x(nt[rt][h],nt)).row,X.col,nt),oe=Math.min(X.row,oe),xe=Math.max(ne.row,xe),N=Math.min(X.col,N),h=Math.max(ne.col,h));for($=N;$<=h;$++)(1<(parseInt(t(nt[oe][$]).attr("rowspan"),10)||1)||1<(parseInt(t(nt[oe][$]).attr("colspan"),10)||1))&&(ne=q((X=x(nt[oe][$],nt)).row,X.col,nt),oe=Math.min(X.row,oe),xe=Math.max(ne.row,xe),N=Math.min(X.col,N),h=Math.max(ne.col,h)),(1<(parseInt(t(nt[xe][$]).attr("rowspan"),10)||1)||1<(parseInt(t(nt[xe][$]).attr("colspan"),10)||1))&&(ne=q((X=x(nt[xe][$],nt)).row,X.col,nt),oe=Math.min(X.row,oe),xe=Math.max(ne.row,xe),N=Math.min(X.col,N),h=Math.max(ne.col,h));return oe==Le&&xe==Qe&&N==Je&&h==et?{min_i:Le,max_i:Qe,min_j:Je,max_j:et}:me(oe,xe,N,h,nt)}(Math.min(P.row,Y.row),Math.max(P.row,Y.row),Math.min(P.col,Y.col),Math.max(P.col,Y.col),K);D(),M.classList.add("fr-cell-fixed"),U.classList.add("fr-cell-handler");for(var he=V.min_i;he<=V.max_i;he++)for(var _e=V.min_j;_e<=V.max_j;_e++)t(K[he][_e]).addClass("fr-selected-cell")}}function Ee(M){var U=null,K=t(M.target);return"TD"==M.target.tagName||"TH"==M.target.tagName?U=M.target:0<K.closest("td").length?U=K.closest("td").get(0):0<K.closest("th").length&&(U=K.closest("th").get(0)),0===e.$el.find(U).length?null:U}function ye(){D(),e.popups.hide("table.edit")}function pe(M){var U=Ee(M);if("false"==t(U).parents("[contenteditable]:not(.fr-element):not(.fr-img-caption):not(body):first").attr("contenteditable"))return!0;if(0<j().length&&!U&&ye(),!e.edit.isDisabled()||e.popups.isVisible("table.edit"))if(1!=M.which||1==M.which&&e.helpers.isMac()&&M.ctrlKey)(3==M.which||1==M.which&&e.helpers.isMac()&&M.ctrlKey)&&U&&ye();else if(E=!0,U){0<j().length&&!M.shiftKey&&ye(),M.stopPropagation(),e.events.trigger("image.hideResizer"),e.events.trigger("video.hideResizer"),y=!0;var K=U.tagName.toLowerCase();M.shiftKey&&0<e.$el.find(K+".fr-selected-cell").length?t(e.$el.find(K+".fr-selected-cell").closest("table")).is(t(U).closest("table"))?J(O,U):G():((e.keys.ctrlKey(M)||M.shiftKey)&&(1<j().length||0===t(U).find(e.selection.element()).length&&!t(U).is(e.selection.element()))&&G(),O=U,0<e.opts.tableEditButtons.length&&J(O,O))}}function Re(M){if(y||e.$tb.is(M.target)||e.$tb.is(t(M.target).closest(e.$tb.get(0)))||(0<j().length&&e.toolbar.enable(),D()),!(1!=M.which||1==M.which&&e.helpers.isMac()&&M.ctrlKey)&&(E=!1,y&&(y=!1,Ee(M)||1!=j().length?0<j().length&&(e.selection.isCollapsed()?w():D()):D()),L)){L=!1,o.removeClass("fr-moving"),e.$el.removeClass("fr-no-selection"),e.edit.on();var U=parseFloat(o.css("left"))+e.opts.tableResizerOffset+e.$wp.offset().left;e.opts.iframe&&(U-=e.$iframe.offset().left),o.data("release-position",U),o.removeData("max-left"),o.removeData("max-right"),function(){var K=o.data("origin"),P=o.data("release-position");if(K!==P){var Y=o.data("first"),V=o.data("second"),he=o.data("table"),_e=he.outerWidth();if(e.undo.canDo()||e.undo.saveStep(),null!==Y&&null!==V){var me,Le,Qe,Je=S(he),et=[],nt=[],rt=[],$=[];for(me=0;me<Je.length;me++)Le=t(Je[me][Y]),Qe=t(Je[me][V]),et[me]=Le.outerWidth(),rt[me]=Qe.outerWidth(),nt[me]=et[me]/_e*100,$[me]=rt[me]/_e*100;for(me=0;me<Je.length;me++)if(Le=t(Je[me][Y]),Qe=t(Je[me][V]),Je[me][Y]!=Je[me][V]){var X=(nt[me]*(et[me]+P-K)/et[me]).toFixed(4);Le.css("width",X+"%"),Qe.css("width",(nt[me]+$[me]-X).toFixed(4)+"%")}}else{var ne,oe=he.parent(),xe=_e/oe.width()*100,N=(parseInt(he.css("margin-left"),10)||0)/oe.width()*100,h=(parseInt(he.css("margin-right"),10)||0)/oe.width()*100;"rtl"==e.opts.direction&&0===V||"rtl"!=e.opts.direction&&0!==V?(ne=(_e+P-K)/_e*xe,he.css("margin-right","calc(100% - "+Math.round(ne).toFixed(4)+"% - "+Math.round(N).toFixed(4)+"%)")):("rtl"==e.opts.direction&&0!==V||"rtl"!=e.opts.direction&&0===V)&&(ne=(_e-P+K)/_e*xe,he.css("margin-left","calc(100% - "+Math.round(ne).toFixed(4)+"% - "+Math.round(h).toFixed(4)+"%)")),he.css("width",Math.round(ne).toFixed(4)+"%")}e.selection.restore(),e.undo.saveStep(),e.events.trigger("table.resized",[he.get(0)])}o.removeData("origin"),o.removeData("release-position"),o.removeData("first"),o.removeData("second"),o.removeData("table")}(),le()}}function qe(M){if(!0===y&&0<e.opts.tableEditButtons.length){if(t(M.currentTarget).closest("table").is(fe())&&("TD"==M.currentTarget.tagName&&0===e.$el.find("th.fr-selected-cell").length||"TH"==M.currentTarget.tagName&&0===e.$el.find("td.fr-selected-cell").length))return void J(O,M.currentTarget);G()}}function Oe(M,U,K,P){for(var Y,V=U;V!=e.el&&"TD"!=V.tagName&&"TH"!=V.tagName&&("up"==P?Y=V.previousElementSibling:"down"==P&&(Y=V.nextElementSibling),!Y);)V=V.parentNode;"TD"==V.tagName||"TH"==V.tagName?function(he,_e){for(var me=he;me&&"TABLE"!=me.tagName&&me.parentNode!=e.el;)me=me.parentNode;if(me&&"TABLE"==me.tagName){var Le=S(t(me));"up"==_e?de(x(he,Le),me,Le):"down"==_e&&$e(x(he,Le),me,Le)}}(V,P):Y&&("up"==P&&e.selection.setAtEnd(Y),"down"==P&&e.selection.setAtStart(Y))}function de(M,U,K){0<M.row?e.selection.setAtEnd(K[M.row-1][M.col]):Oe(0,U,0,"up")}function $e(M,U,K){var P=parseInt(K[M.row][M.col].getAttribute("rowspan"),10)||1;M.row<K.length-P?e.selection.setAtStart(K[M.row+P][M.col]):Oe(0,U,0,"down")}function le(){o&&(o.find("div").css("opacity",0),o.css("top",0),o.css("left",0),o.css("height",0),o.find("div").css("height",0),o.hide())}function He(){i&&i.removeClass("fr-visible").css("left","-9999px")}function Be(M,U){if(e.$box.find(".fr-line-breaker").is(":visible"))return!1;i||Ne(),e.$box.append(i),i.data("instance",e);var K,P=t(U).find("tr:first"),Y=M.pageX,V=0,he=0;e.opts.iframe&&(V+=e.$iframe.offset().left-e.helpers.scrollLeft(),he+=e.$iframe.offset().top-e.helpers.scrollTop()),P.find("th, td").each(function(){var _e=t(this);return _e.offset().left<=Y&&Y<_e.offset().left+_e.outerWidth()/2?(K=parseInt(i.find("a").css("width"),10),i.css("top",he+_e.offset().top-e.$box.offset().top-K-5),i.css("left",V+_e.offset().left-e.$box.offset().left-K/2),i.data("selected-cell",_e),i.data("position","before"),i.addClass("fr-visible"),!1):_e.offset().left+_e.outerWidth()/2<=Y&&Y<_e.offset().left+_e.outerWidth()?(K=parseInt(i.find("a").css("width"),10),i.css("top",he+_e.offset().top-e.$box.offset().top-K-5),i.css("left",V+_e.offset().left-e.$box.offset().left+_e.outerWidth()-K/2),i.data("selected-cell",_e),i.data("position","after"),i.addClass("fr-visible"),!1):void 0})}function je(M,U){if(e.$box.find(".fr-line-breaker").is(":visible"))return!1;i||Ne(),e.$box.append(i),i.data("instance",e);var K,P=t(U),Y=M.pageY,V=0,he=0;e.opts.iframe&&(V+=e.$iframe.offset().left-e.helpers.scrollLeft(),he+=e.$iframe.offset().top-e.helpers.scrollTop()),P.find("tr").each(function(){var _e=t(this);return _e.offset().top<=Y&&Y<_e.offset().top+_e.outerHeight()/2?(K=parseInt(i.find("a").css("width"),10),i.css("top",he+_e.offset().top-e.$box.offset().top-K/2),i.css("left",V+_e.offset().left-e.$box.offset().left-K-5),i.data("selected-cell",_e.find("td:first")),i.data("position","above"),i.addClass("fr-visible"),!1):_e.offset().top+_e.outerHeight()/2<=Y&&Y<_e.offset().top+_e.outerHeight()?(K=parseInt(i.find("a").css("width"),10),i.css("top",he+_e.offset().top-e.$box.offset().top+_e.outerHeight()-K/2),i.css("left",V+_e.offset().left-e.$box.offset().left-K-5),i.data("selected-cell",_e.find("td:first")),i.data("position","below"),i.addClass("fr-visible"),!1):void 0})}function ae(M){p=null;var U=e.doc.elementFromPoint(M.pageX-e.win.pageXOffset,M.pageY-e.win.pageYOffset);e.opts.tableResizer&&(!e.popups.areVisible()||e.popups.areVisible()&&e.popups.isVisible("table.edit"))&&function ce(M,U){var K=t(U),P=K.closest("table"),Y=P.parent();if(U&&"TD"!=U.tagName&&"TH"!=U.tagName&&(0<K.closest("td").length?U=K.closest("td"):0<K.closest("th").length&&(U=K.closest("th"))),!U||"TD"!=U.tagName&&"TH"!=U.tagName)o&&K.get(0)!=o.get(0)&&K.parent().get(0)!=o.get(0)&&e.core.sameInstance(o)&&le();else{if(K=t(U),0===e.$el.find(K).length)return!1;var V=K.offset().left-1,he=V+K.outerWidth();if(Math.abs(M.pageX-V)<=e.opts.tableResizerOffset||Math.abs(he-M.pageX)<=e.opts.tableResizerOffset){var _e,me,Le,Qe,Je,et=S(P),nt=x(U,et),rt=q(nt.row,nt.col,et),$=P.offset().top,X=P.outerHeight()-1;"rtl"!=e.opts.direction?M.pageX-V<=e.opts.tableResizerOffset?(Le=V,0<nt.col?(Qe=V-ze(nt.col-1,et)+e.opts.tableResizingLimit,Je=V+ze(nt.col,et)-e.opts.tableResizingLimit,_e=nt.col-1,me=nt.col):(_e=null,me=0,Qe=P.offset().left-1-parseInt(P.css("margin-left"),10),Je=P.offset().left-1+P.width()-et[0].length*e.opts.tableResizingLimit)):he-M.pageX<=e.opts.tableResizerOffset&&(Le=he,rt.col<et[rt.row].length&&et[rt.row][rt.col+1]?(Qe=he-ze(rt.col,et)+e.opts.tableResizingLimit,Je=he+ze(rt.col+1,et)-e.opts.tableResizingLimit,_e=rt.col,me=rt.col+1):(_e=rt.col,me=null,Qe=P.offset().left-1+et[0].length*e.opts.tableResizingLimit,Je=Y.offset().left-1+Y.width()+parseFloat(Y.css("padding-left")))):he-M.pageX<=e.opts.tableResizerOffset?(Le=he,0<nt.col?(Qe=he-ze(nt.col,et)+e.opts.tableResizingLimit,Je=he+ze(nt.col-1,et)-e.opts.tableResizingLimit,_e=nt.col,me=nt.col-1):(_e=null,me=0,Qe=P.offset().left+et[0].length*e.opts.tableResizingLimit,Je=Y.offset().left-1+Y.width()+parseFloat(Y.css("padding-left")))):M.pageX-V<=e.opts.tableResizerOffset&&(Le=V,rt.col<et[rt.row].length&&et[rt.row][rt.col+1]?(Qe=V-ze(rt.col+1,et)+e.opts.tableResizingLimit,Je=V+ze(rt.col,et)-e.opts.tableResizingLimit,_e=rt.col+1,me=rt.col):(_e=rt.col,me=null,Qe=Y.offset().left+parseFloat(Y.css("padding-left")),Je=P.offset().left-1+P.width()-et[0].length*e.opts.tableResizingLimit)),o||(e.shared.$table_resizer||(e.shared.$table_resizer=t('<div class="fr-table-resizer"><div></div></div>')),e.events.$on(o=e.shared.$table_resizer,"mousedown",function(xe){return!e.core.sameInstance(o)||(0<j().length&&ye(),1==xe.which?(e.selection.save(),L=!0,o.addClass("fr-moving"),G(),e.edit.off(),o.find("div").css("opacity",1),!1):void 0)}),e.events.$on(o,"mousemove",function(xe){if(!e.core.sameInstance(o))return!0;L&&(e.opts.iframe&&(xe.pageX-=e.$iframe.offset().left),Ye(xe))}),e.events.on("shared.destroy",function(){o.html("").removeData().remove(),o=null},!0),e.events.on("destroy",function(){e.$el.find(".fr-selected-cell").removeClass("fr-selected-cell"),o.hide().appendTo(t("body:first"))},!0)),o.data("table",P),o.data("first",_e),o.data("second",me),o.data("instance",e),e.$wp.append(o);var ne=Le-e.win.pageXOffset-e.opts.tableResizerOffset-e.$wp.offset().left,oe=$-e.$wp.offset().top+e.$wp.scrollTop();e.opts.iframe&&(ne+=e.$iframe.offset().left,oe+=e.$iframe.offset().top,Qe+=e.$iframe.offset().left,Je+=e.$iframe.offset().left),o.data("max-left",Qe),o.data("max-right",Je),o.data("origin",Le-e.win.pageXOffset),o.css("top",oe),o.css("left",ne),o.css("height",X),o.find("div").css("height",X),o.css("padding-left",e.opts.tableResizerOffset),o.css("padding-right",e.opts.tableResizerOffset),o.show()}else e.core.sameInstance(o)&&le()}}(M,U),!e.opts.tableInsertHelper||e.popups.areVisible()||e.$tb.hasClass("fr-inline")&&e.$tb.is(":visible")||function(K,P){if(0===j().length){var Y,V,he;if(P&&("HTML"==P.tagName||"BODY"==P.tagName||e.node.isElement(P)))for(Y=1;Y<=e.opts.tableInsertHelperOffset;Y++){if(V=e.doc.elementFromPoint(K.pageX-e.win.pageXOffset,K.pageY-e.win.pageYOffset+Y),t(V).hasClass("fr-tooltip"))return;if(V&&("TH"==V.tagName||"TD"==V.tagName||"TABLE"==V.tagName)&&(t(V).parents(".fr-wrapper").length||e.opts.iframe))return Be(K,t(V).closest("table"));if(he=e.doc.elementFromPoint(K.pageX-e.win.pageXOffset+Y,K.pageY-e.win.pageYOffset),t(he).hasClass("fr-tooltip"))return;if(he&&("TH"==he.tagName||"TD"==he.tagName||"TABLE"==he.tagName)&&(t(he).parents(".fr-wrapper").length||e.opts.iframe))return je(K,t(he).closest("table"))}e.core.sameInstance(i)&&He()}}(M,U)}function Se(){if(L){var M=o.data("table").offset().top-e.win.pageYOffset;e.opts.iframe&&(M+=e.$iframe.offset().top-e.helpers.scrollTop()),o.css("top",M)}}function ze(M,U){var K,P=t(U[0][M]).outerWidth();for(K=1;K<U.length;K++)P=Math.min(P,t(U[K][M]).outerWidth());return P}function Ze(M,U,K){var P,Y=0;for(P=M;P<=U;P++)Y+=ze(P,K);return Y}function Ye(M){if(1<j().length&&E&&G(),!1===E&&!1===y&&!1===L)p&&clearTimeout(p),e.edit.isDisabled()&&!e.popups.isVisible("table.edit")||(p=setTimeout(ae,30,M));else if(L){var U=M.pageX-e.win.pageXOffset;e.opts.iframe&&(U+=e.$iframe.offset().left);var K=o.data("max-left"),P=o.data("max-right");K<=U&&U<=P?o.css("left",U-e.opts.tableResizerOffset-e.$wp.offset().left):U<K&&parseFloat(o.css("left"),10)>K-e.opts.tableResizerOffset?o.css("left",K-e.opts.tableResizerOffset-e.$wp.offset().left):P<U&&parseFloat(o.css("left"),10)<P-e.opts.tableResizerOffset&&o.css("left",P-e.opts.tableResizerOffset-e.$wp.offset().left)}else E&&He()}function lt(M){e.node.isEmpty(M.get(0))?M.prepend(t.FE.MARKERS):M.prepend(t.FE.START_MARKER).append(t.FE.END_MARKER)}function Ne(){e.shared.$ti_helper||(e.shared.$ti_helper=t('<div class="fr-insert-helper"><a class="fr-floating-btn" role="button" tabIndex="-1" title="'+e.language.translate("Insert")+'"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z"/></svg></a></div>'),e.events.bindClick(e.shared.$ti_helper,"a",function(){var M=i.data("selected-cell"),U=i.data("position"),K=i.data("instance")||e;"before"==U||"after"==U?(e.undo.saveStep(),M.addClass("fr-selected-cell"),K.table.insertColumn(U),M.removeClass("fr-selected-cell"),e.undo.saveStep()):("above"==U||"below"==U)&&(e.undo.saveStep(),M.addClass("fr-selected-cell"),K.table.insertRow(U),M.removeClass("fr-selected-cell"),e.undo.saveStep()),He()}),e.events.on("shared.destroy",function(){e.shared.$ti_helper.html("").removeData().remove(),e.shared.$ti_helper=null},!0),e.events.$on(e.shared.$ti_helper,"mousemove",function(M){M.stopPropagation()},!0),e.events.$on(t(e.o_win),"scroll",function(){He()},!0),e.events.$on(e.$wp,"scroll",function(){He()},!0)),i=e.shared.$ti_helper,e.events.on("destroy",function(){i=null}),e.tooltip.bind(e.$box,".fr-insert-helper > a.fr-floating-btn")}function Ve(){O=null,clearTimeout(p)}function j(){return e.el.querySelectorAll(".fr-selected-cell")}function fe(){var M=j();if(M.length){for(var U=M[0];U&&"TABLE"!=U.tagName&&U.parentNode!=e.el;)U=U.parentNode;return t(U&&"TABLE"==U.tagName?U:[])}return t([])}return{_init:function(){if(!e.$wp)return!1;if(!e.helpers.isMobile()){L=y=E=!1,e.events.$on(e.$el,"mousedown",pe),e.popups.onShow("image.edit",function(){D(),y=E=!1}),e.popups.onShow("link.edit",function(){D(),y=E=!1}),e.events.on("commands.mousedown",function(U){0<U.parents(".fr-toolbar").length&&D()}),e.events.$on(e.$el,"mouseenter","th, td",qe),e.events.$on(e.$win,"mouseup",Re),e.opts.iframe&&e.events.$on(t(e.o_win),"mouseup",Re),e.events.$on(e.$win,"mousemove",Ye),e.events.$on(t(e.o_win),"scroll",Se),e.events.on("contentChanged",function(){0<j().length&&(w(),e.$el.find("img").on("load.selected-cells",function(){t(this).off("load.selected-cells"),0<j().length&&w()}))}),e.events.$on(t(e.o_win),"resize",function(){D()}),e.events.on("toolbar.esc",function(){if(0<j().length)return e.events.disableBlur(),e.events.focus(),!1},!0),e.events.$on(t(e.o_win),"keydown",function(){E&&y&&(y=E=!1,e.$el.removeClass("fr-no-selection"),e.edit.on(),e.selection.setAtEnd(e.$el.find(".fr-selected-cell:last").get(0)),e.selection.restore(),D())}),e.events.$on(e.$el,"keydown",function(U){U.shiftKey?!1===function(K){var P=j();if(0<P.length){var Y,V,he=S(),_e=K.which;1==P.length?V=Y=P[0]:(Y=e.el.querySelector(".fr-cell-fixed"),V=e.el.querySelector(".fr-cell-handler"));var me=x(V,he);if(t.FE.KEYCODE.ARROW_RIGHT==_e){if(me.col<he[0].length-1)return J(Y,he[me.row][me.col+1]),!1}else if(t.FE.KEYCODE.ARROW_DOWN==_e){if(me.row<he.length-1)return J(Y,he[me.row+1][me.col]),!1}else if(t.FE.KEYCODE.ARROW_LEFT==_e){if(0<me.col)return J(Y,he[me.row][me.col-1]),!1}else if(t.FE.KEYCODE.ARROW_UP==_e&&0<me.row)return J(Y,he[me.row-1][me.col]),!1}}(U)&&setTimeout(function(){w()},0):function(K){var P=K.which,Y=e.selection.blocks();if(Y.length&&("TD"==(Y=Y[0]).tagName||"TH"==Y.tagName)){for(var V=Y;V&&"TABLE"!=V.tagName&&V.parentNode!=e.el;)V=V.parentNode;if(V&&"TABLE"==V.tagName&&(t.FE.KEYCODE.ARROW_LEFT==P||t.FE.KEYCODE.ARROW_UP==P||t.FE.KEYCODE.ARROW_RIGHT==P||t.FE.KEYCODE.ARROW_DOWN==P)&&(0<j().length&&ye(),e.browser.webkit&&(t.FE.KEYCODE.ARROW_UP==P||t.FE.KEYCODE.ARROW_DOWN==P))){var he=e.selection.ranges(0).startContainer;if(he.nodeType==Node.TEXT_NODE&&(t.FE.KEYCODE.ARROW_UP==P&&he.previousSibling||t.FE.KEYCODE.ARROW_DOWN==P&&he.nextSibling))return;K.preventDefault(),K.stopPropagation();var _e=S(t(V)),me=x(Y,_e);t.FE.KEYCODE.ARROW_UP==P?de(me,V,_e):t.FE.KEYCODE.ARROW_DOWN==P&&$e(me,V,_e),e.selection.restore()}}}(U)}),e.events.on("keydown",function(U){if(!1===function(Y){if(Y.which==t.FE.KEYCODE.TAB){var V;if(0<j().length)V=e.$el.find(".fr-selected-cell:last");else{var he=e.selection.element();"TD"==he.tagName||"TH"==he.tagName?V=t(he):he!=e.el&&(0<t(he).parentsUntil(e.$el,"td").length?V=t(he).parents("td:first"):0<t(he).parentsUntil(e.$el,"th").length&&(V=t(he).parents("th:first")))}if(V)return Y.preventDefault(),!!(0<t(e.selection.element()).parentsUntil(e.$el,"ol, ul").length&&(0<t(e.selection.element()).parents("li").prev().length||t(e.selection.element()).is("li")&&0<t(e.selection.element()).prev().length))||(ye(),Y.shiftKey?0<V.prev().length?lt(V.prev()):0<V.closest("tr").length&&0<V.closest("tr").prev().length?lt(V.closest("tr").prev().find("td:last")):0<V.closest("tbody").length&&0<V.closest("table").find("thead tr").length&&lt(V.closest("table").find("thead tr th:last")):0<V.next().length?lt(V.next()):0<V.closest("tr").length&&0<V.closest("tr").next().length?lt(V.closest("tr").next().find("td:first")):0<V.closest("thead").length&&0<V.closest("table").find("tbody tr").length?lt(V.closest("table").find("tbody tr td:first")):(V.addClass("fr-selected-cell"),l("below"),D(),lt(V.closest("tr").next().find("td:first"))),e.selection.restore(),!1)}}(U))return!1;var K=j();if(0<K.length){if(0<K.length&&e.keys.ctrlKey(U)&&U.which==t.FE.KEYCODE.A)return D(),e.popups.isVisible("table.edit")&&e.popups.hide("table.edit"),K=[],!0;if(U.which==t.FE.KEYCODE.ESC&&e.popups.isVisible("table.edit"))return D(),e.popups.hide("table.edit"),U.preventDefault(),U.stopPropagation(),U.stopImmediatePropagation(),!(K=[]);if(1<K.length&&(U.which==t.FE.KEYCODE.BACKSPACE||U.which==t.FE.KEYCODE.DELETE)){e.undo.saveStep();for(var P=0;P<K.length;P++)t(K[P]).html("<br>"),P==K.length-1&&t(K[P]).prepend(t.FE.MARKERS);return e.selection.restore(),e.undo.saveStep(),!(K=[])}if(1<K.length&&U.which!=t.FE.KEYCODE.F10&&!e.keys.isBrowserAction(U))return U.preventDefault(),!(K=[])}else if(!(K=[])===function(Y){if(Y.altKey&&Y.which==t.FE.KEYCODE.SPACE){var V,he=e.selection.element();if("TD"==he.tagName||"TH"==he.tagName?V=he:0<t(he).closest("td").length?V=t(he).closest("td").get(0):0<t(he).closest("th").length&&(V=t(he).closest("th").get(0)),V)return Y.preventDefault(),J(V,V),w(),!1}}(U))return!1},!0);var M=[];e.events.on("html.beforeGet",function(){M=j();for(var U=0;U<M.length;U++)M[U].className=(M[U].className||"").replace(/fr-selected-cell/g,"")}),e.events.on("html.afterGet",function(){for(var U=0;U<M.length;U++)M[U].className=(M[U].className?M[U].className.trim()+" ":"")+"fr-selected-cell";M=[]}),T(!0),A(!0)}e.events.on("destroy",Ve)},insert:function(M,U){var K,P,Y="<table "+(e.opts.tableDefaultWidth?'style="width: '+e.opts.tableDefaultWidth+';" ':"")+'class="fr-inserted-table"><tbody>',V=100/U;for(K=0;K<M;K++){for(Y+="<tr>",P=0;P<U;P++)Y+="<td"+(e.opts.tableDefaultWidth?' style="width: '+V.toFixed(4)+'%;"':"")+">",0===K&&0===P&&(Y+=t.FE.MARKERS),Y+="<br></td>";Y+="</tr>"}e.html.insert(Y+="</tbody></table>"),e.selection.restore();var he=e.$el.find(".fr-inserted-table");he.removeClass("fr-inserted-table"),e.events.trigger("table.inserted",[he.get(0)])},remove:c,insertRow:l,deleteRow:function(){var M=fe();if(0<M.length){var U,K,P,Y=S(),V=k(Y);if(0===V.min_i&&V.max_i==Y.length-1)c();else{for(U=V.max_i;U>=V.min_i;U--){for(P=t(M.find("tr").not(M.find("table tr")).get(U)),K=0;K<Y[U].length;K++)if(0===K||Y[U][K]!=Y[U][K-1]){var he=t(Y[U][K]);if(1<parseInt(he.attr("rowspan"),10)){var _e=parseInt(he.attr("rowspan"),10)-1;1==_e?he.removeAttr("rowspan"):he.attr("rowspan",_e)}if(U<Y.length-1&&Y[U][K]==Y[U+1][K]&&(0===U||Y[U][K]!=Y[U-1][K])){for(var me=Y[U][K],Le=K;0<Le&&Y[U][Le]==Y[U][Le-1];)Le--;0===Le?t(M.find("tr").not(M.find("table tr")).get(U+1)).prepend(me):t(Y[U+1][Le-1]).after(me)}}var Qe=P.parent();P.remove(),0===Qe.find("tr").length&&Qe.remove(),Y=S(M)}m(0,Y.length-1,0,Y[0].length-1,M),e.selection.setAtEnd(0<V.min_i?Y[V.min_i-1][0]:Y[0][0]),e.selection.restore(),e.popups.hide("table.edit")}}},insertColumn:function(M){var U=fe();if(0<U.length){var K,P=S(),Y=k(P);K="before"==M?Y.min_j:Y.max_j;var V,he=100/P[0].length,_e=100/(P[0].length+1);U.find("th, td").each(function(){(V=t(this)).data("old-width",V.outerWidth()/U.outerWidth()*100)}),U.find("tr").not(U.find("table tr")).each(function(me){for(var Le,Qe=t(this),Je=0,et=0;Je-1<K;){if(!(Le=Qe.find("> th, > td").get(et))){Le=null;break}Le==P[me][Je]?(Je+=parseInt(t(Le).attr("colspan"),10)||1,et++):(Je+=parseInt(t(P[me][Je]).attr("colspan"),10)||1,"after"==M&&(Le=0===et?-1:Qe.find("> th, > td").get(et-1)))}var nt,rt=t(Le);if("after"==M&&K<Je-1||"before"==M&&0<K&&P[me][K]==P[me][K-1]){if(0===me||0<me&&P[me][K]!=P[me-1][K]){var $=parseInt(rt.attr("colspan"),10)+1;rt.attr("colspan",$),rt.css("width",(rt.data("old-width")*_e/he+_e).toFixed(4)+"%"),rt.removeData("old-width")}}else nt=0<Qe.find("th").length?'<th style="width: '+_e.toFixed(4)+'%;"><br></th>':'<td style="width: '+_e.toFixed(4)+'%;"><br></td>',-1==Le?Qe.prepend(nt):null==Le?Qe.append(nt):"before"==M?rt.before(nt):"after"==M&&rt.after(nt)}),U.find("th, td").each(function(){(V=t(this)).data("old-width")&&(V.css("width",(V.data("old-width")*_e/he).toFixed(4)+"%"),V.removeData("old-width"))}),e.popups.isVisible("table.edit")&&w()}},deleteColumn:function(){var M=fe();if(0<M.length){var U,K,P,Y=S(),V=k(Y);if(0===V.min_j&&V.max_j==Y[0].length-1)c();else{var he=0;for(U=0;U<Y.length;U++)for(K=0;K<Y[0].length;K++)(P=t(Y[U][K])).hasClass("fr-selected-cell")||(P.data("old-width",P.outerWidth()/M.outerWidth()*100),(K<V.min_j||K>V.max_j)&&(he+=P.outerWidth()/M.outerWidth()*100));for(he/=Y.length,K=V.max_j;K>=V.min_j;K--)for(U=0;U<Y.length;U++)if(0===U||Y[U][K]!=Y[U-1][K])if(P=t(Y[U][K]),1<(parseInt(P.attr("colspan"),10)||1)){var _e=parseInt(P.attr("colspan"),10)-1;1==_e?P.removeAttr("colspan"):P.attr("colspan",_e),P.css("width",(100*(P.data("old-width")-ze(K,Y))/he).toFixed(4)+"%"),P.removeData("old-width")}else{var me=t(P.parent().get(0));P.remove(),0===me.find("> th, > td").length&&(0===me.prev().length||0===me.next().length||me.prev().find("> th[rowspan], > td[rowspan]").length<me.prev().find("> th, > td").length)&&me.remove()}m(0,Y.length-1,0,Y[0].length-1,M),e.selection.setAtEnd(0<V.min_j?Y[V.min_i][V.min_j-1]:Y[V.min_i][0]),e.selection.restore(),e.popups.hide("table.edit"),M.find("th, td").each(function(){(P=t(this)).data("old-width")&&(P.css("width",(100*P.data("old-width")/he).toFixed(4)+"%"),P.removeData("old-width"))})}}},mergeCells:function(){if(1<j().length&&(0===e.$el.find("th.fr-selected-cell").length||0===e.$el.find("td.fr-selected-cell").length)){v();var M,U,K=k(S()),P=e.$el.find(".fr-selected-cell"),Y=t(P[0]),V=Y.parent().find(".fr-selected-cell"),he=Y.closest("table"),_e=Y.html(),me=0;for(M=0;M<V.length;M++)me+=t(V[M]).outerWidth();for(Y.css("width",Math.min(100,me/he.outerWidth()*100).toFixed(4)+"%"),K.min_j<K.max_j&&Y.attr("colspan",K.max_j-K.min_j+1),K.min_i<K.max_i&&Y.attr("rowspan",K.max_i-K.min_i+1),M=1;M<P.length;M++)"<br>"!=(U=t(P[M])).html()&&""!==U.html()&&(_e+="<br>"+U.html()),U.remove();Y.html(_e),e.selection.setAtEnd(Y.get(0)),e.selection.restore(),e.toolbar.enable(),s(K.min_i,K.max_i,he);var Le=he.find("tr:empty");for(M=Le.length-1;0<=M;M--)t(Le[M]).remove();a(K.min_j,K.max_j,he),w()}},splitCellVertically:function(){if(1==j().length){var M=e.$el.find(".fr-selected-cell"),U=parseInt(M.attr("colspan"),10)||1,K=M.parent().outerWidth(),P=M.outerWidth(),Y=M.clone().html("<br>"),V=S(),he=x(M.get(0),V);if(1<U){var _e=Math.ceil(U/2);P=Ze(he.col,he.col+_e-1,V)/K*100;var me=Ze(he.col+_e,he.col+U-1,V)/K*100;1<_e?M.attr("colspan",_e):M.removeAttr("colspan"),1<U-_e?Y.attr("colspan",U-_e):Y.removeAttr("colspan"),M.css("width",P.toFixed(4)+"%"),Y.css("width",me.toFixed(4)+"%")}else{var Le;for(Le=0;Le<V.length;Le++)if(0===Le||V[Le][he.col]!=V[Le-1][he.col]){var Qe=t(V[Le][he.col]);if(!Qe.is(M)){var Je=(parseInt(Qe.attr("colspan"),10)||1)+1;Qe.attr("colspan",Je)}}M.css("width",(P=P/K*100/2).toFixed(4)+"%"),Y.css("width",P.toFixed(4)+"%")}M.after(Y),D(),e.popups.hide("table.edit")}},splitCellHorizontally:function(){if(1==j().length){var M=e.$el.find(".fr-selected-cell"),U=M.parent(),K=M.closest("table"),P=parseInt(M.attr("rowspan"),10),Y=S(),V=x(M.get(0),Y),he=M.clone().html("<br>");if(1<P){var _e=Math.ceil(P/2);1<_e?M.attr("rowspan",_e):M.removeAttr("rowspan"),1<P-_e?he.attr("rowspan",P-_e):he.removeAttr("rowspan");for(var me=V.row+_e,Le=0===V.col?V.col:V.col-1;0<=Le&&(Y[me][Le]==Y[me][Le-1]||0<me&&Y[me][Le]==Y[me-1][Le]);)Le--;-1==Le?t(K.find("tr").not(K.find("table tr")).get(me)).prepend(he):t(Y[me][Le]).after(he)}else{var Qe,Je=t("<tr>").append(he);for(Qe=0;Qe<Y[0].length;Qe++)if(0===Qe||Y[V.row][Qe]!=Y[V.row][Qe-1]){var et=t(Y[V.row][Qe]);et.is(M)||et.attr("rowspan",(parseInt(et.attr("rowspan"),10)||1)+1)}U.after(Je)}D(),e.popups.hide("table.edit")}},addHeader:function(){var M=fe();if(0<M.length&&0===M.find("th").length){var U,K="<thead><tr>",P=0;for(M.find("tr:first > td").each(function(){var Y=t(this);P+=parseInt(Y.attr("colspan"),10)||1}),U=0;U<P;U++)K+="<th><br></th>";M.prepend(K+="</tr></thead>"),w()}},removeHeader:function(){var M=fe(),U=M.find("thead");if(0<U.length)if(0===M.find("tbody tr").length)c();else if(U.remove(),0<j().length)w();else{e.popups.hide("table.edit");var K=M.find("tbody tr:first td:first").get(0);K&&(e.selection.setAtEnd(K),e.selection.restore())}},setBackground:n,showInsertPopup:function(){var M=e.$tb.find('.fr-command[data-cmd="insertTable"]'),U=e.popups.get("table.insert");if(U||(U=T()),!U.hasClass("fr-active")){e.popups.refresh("table.insert"),e.popups.setContainer("table.insert",e.$tb);var K=M.offset().left+M.outerWidth()/2,P=M.offset().top+(e.opts.toolbarBottom?10:M.outerHeight()-10);e.popups.show("table.insert",K,P,M.outerHeight())}},showEditPopup:w,showColorsPopup:function f(){var M,U,K,P,Y=S();if(Y){var V=e.popups.get("table.colors");V||(V=function(){var Le="";0<e.opts.tableColorsButtons.length&&(Le='<div class="fr-buttons fr-table-colors-buttons">'+e.button.buildList(e.opts.tableColorsButtons)+"</div>");var Qe="";e.opts.colorsHEXInput&&(Qe='<div class="fr-table-colors-hex-layer fr-active fr-layer" id="fr-table-colors-hex-layer-'+e.id+'"><div class="fr-input-line"><input maxlength="7" id="fr-table-colors-hex-layer-text-'+e.id+'" type="text" placeholder="'+e.language.translate("HEX Color")+'" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="tableCellBackgroundCustomColor" tabIndex="2" role="button">'+e.language.translate("OK")+"</button></div></div>");var nt,Je={buttons:Le,colors:function(){for(var rt='<div class="fr-table-colors">',$=0;$<e.opts.tableColors.length;$++)0!==$&&$%e.opts.tableColorsStep==0&&(rt+="<br>"),rt+="REMOVE"!=e.opts.tableColors[$]?'<span class="fr-command" style="background: '+e.opts.tableColors[$]+';" tabIndex="-1" role="button" data-cmd="tableCellBackgroundColor" data-param1="'+e.opts.tableColors[$]+'"><span class="fr-sr-only">'+e.language.translate("Color")+" "+e.opts.tableColors[$]+"&nbsp;&nbsp;&nbsp;</span></span>":'<span class="fr-command" data-cmd="tableCellBackgroundColor" tabIndex="-1" role="button" data-param1="REMOVE" title="'+e.language.translate("Clear Formatting")+'">'+e.icon.create("tableColorRemove")+'<span class="fr-sr-only">'+e.language.translate("Clear Formatting")+"</span></span>";return rt+"</div>"}(),custom_color:Qe},et=e.popups.create("table.colors",Je);return e.events.$on(e.$wp,"scroll.table-colors",function(){e.popups.isVisible("table.colors")&&f()}),nt=et,e.events.on("popup.tab",function(rt){var $=t(rt.currentTarget);if(!e.popups.isVisible("table.colors")||!$.is("span"))return!0;var X=rt.which,ne=!0;if(t.FE.KEYCODE.TAB==X){var oe=nt.find(".fr-buttons");ne=!e.accessibility.focusToolbar(oe,!!rt.shiftKey)}else if(t.FE.KEYCODE.ARROW_UP==X||t.FE.KEYCODE.ARROW_DOWN==X||t.FE.KEYCODE.ARROW_LEFT==X||t.FE.KEYCODE.ARROW_RIGHT==X){var xe=$.parent().find("span.fr-command"),N=xe.index($),h=e.opts.colorsStep,I=Math.floor(xe.length/h),H=N%h,ve=Math.floor(N/h)*h+H,se=I*h;t.FE.KEYCODE.ARROW_UP==X?ve=((ve-h)%se+se)%se:t.FE.KEYCODE.ARROW_DOWN==X?ve=(ve+h)%se:t.FE.KEYCODE.ARROW_LEFT==X?ve=((ve-1)%se+se)%se:t.FE.KEYCODE.ARROW_RIGHT==X&&(ve=(ve+1)%se);var Ae=t(xe.get(ve));e.events.disableBlur(),Ae.focus(),ne=!1}else t.FE.KEYCODE.ENTER==X&&(e.button.exec($),ne=!1);return!1===ne&&(rt.preventDefault(),rt.stopPropagation()),ne},!0),et}()),e.popups.setContainer("table.colors",e.$sc);var he=te(Y),_e=(he.left+he.right)/2,me=he.bottom;M=e.popups.get("table.colors"),U=e.$el.find(".fr-selected-cell:first"),K=e.helpers.RGBToHex(U.css("background-color")),P=M.find(".fr-table-colors-hex-layer input"),M.find(".fr-selected-color").removeClass("fr-selected-color fr-active-item"),M.find('span[data-param1="'+K+'"]').addClass("fr-selected-color fr-active-item"),P.val(K).trigger("change"),e.popups.show("table.colors",_e,me,he.bottom-he.top)}},back:function(){0<j().length?w():(e.popups.hide("table.insert"),e.toolbar.showInline())},verticalAlign:function(M){e.$el.find(".fr-selected-cell").css("vertical-align",M)},horizontalAlign:function(M){e.$el.find(".fr-selected-cell").css("text-align",M)},applyStyle:function(M,U,K,P){if(0<U.length){if(!K){var Y=Object.keys(P);Y.splice(Y.indexOf(M),1),U.removeClass(Y.join(" "))}U.toggleClass(M)}},selectedTable:fe,selectedCells:j,customColor:function(){var M=e.popups.get("table.colors").find(".fr-table-colors-hex-layer input");M.length&&n(M.val())},selectCells:J}},t.FE.DefineIcon("insertTable",{NAME:"table"}),t.FE.RegisterCommand("insertTable",{title:"Insert Table",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("table.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("table.insert")):this.table.showInsertPopup()},plugin:"table"}),t.FE.RegisterCommand("tableInsert",{callback:function(e,o,i){this.table.insert(o,i),this.popups.hide("table.insert")}}),t.FE.DefineIcon("tableHeader",{NAME:"header",FA5NAME:"heading"}),t.FE.RegisterCommand("tableHeader",{title:"Table Header",focus:!1,toggle:!0,callback:function(){this.popups.get("table.edit").find('.fr-command[data-cmd="tableHeader"]').hasClass("fr-active")?this.table.removeHeader():this.table.addHeader()},refresh:function(e){var o=this.table.selectedTable();0<o.length&&(0===o.find("th").length?e.removeClass("fr-active").attr("aria-pressed",!1):e.addClass("fr-active").attr("aria-pressed",!0))}}),t.FE.DefineIcon("tableRows",{NAME:"bars"}),t.FE.RegisterCommand("tableRows",{type:"dropdown",focus:!1,title:"Row",options:{above:"Insert row above",below:"Insert row below",delete:"Delete row"},html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',o=t.FE.COMMANDS.tableRows.options;for(var i in o)o.hasOwnProperty(i)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableRows" data-param1="'+i+'" title="'+this.language.translate(o[i])+'">'+this.language.translate(o[i])+"</a></li>");return e+"</ul>"},callback:function(e,o){"above"==o||"below"==o?this.table.insertRow(o):this.table.deleteRow()}}),t.FE.DefineIcon("tableColumns",{NAME:"bars fa-rotate-90"}),t.FE.RegisterCommand("tableColumns",{type:"dropdown",focus:!1,title:"Column",options:{before:"Insert column before",after:"Insert column after",delete:"Delete column"},html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',o=t.FE.COMMANDS.tableColumns.options;for(var i in o)o.hasOwnProperty(i)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableColumns" data-param1="'+i+'" title="'+this.language.translate(o[i])+'">'+this.language.translate(o[i])+"</a></li>");return e+"</ul>"},callback:function(e,o){"before"==o||"after"==o?this.table.insertColumn(o):this.table.deleteColumn()}}),t.FE.DefineIcon("tableCells",{NAME:"square-o",FA5NAME:"square"}),t.FE.RegisterCommand("tableCells",{type:"dropdown",focus:!1,title:"Cell",options:{merge:"Merge cells","vertical-split":"Vertical split","horizontal-split":"Horizontal split"},html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',o=t.FE.COMMANDS.tableCells.options;for(var i in o)o.hasOwnProperty(i)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCells" data-param1="'+i+'" title="'+this.language.translate(o[i])+'">'+this.language.translate(o[i])+"</a></li>");return e+"</ul>"},callback:function(e,o){"merge"==o?this.table.mergeCells():"vertical-split"==o?this.table.splitCellVertically():this.table.splitCellHorizontally()},refreshOnShow:function(e,o){1<this.$el.find(".fr-selected-cell").length?(o.find('a[data-param1="vertical-split"]').addClass("fr-disabled").attr("aria-disabled",!0),o.find('a[data-param1="horizontal-split"]').addClass("fr-disabled").attr("aria-disabled",!0),o.find('a[data-param1="merge"]').removeClass("fr-disabled").attr("aria-disabled",!1)):(o.find('a[data-param1="merge"]').addClass("fr-disabled").attr("aria-disabled",!0),o.find('a[data-param1="vertical-split"]').removeClass("fr-disabled").attr("aria-disabled",!1),o.find('a[data-param1="horizontal-split"]').removeClass("fr-disabled").attr("aria-disabled",!1))}}),t.FE.DefineIcon("tableRemove",{NAME:"trash"}),t.FE.RegisterCommand("tableRemove",{title:"Remove Table",focus:!1,callback:function(){this.table.remove()}}),t.FE.DefineIcon("tableStyle",{NAME:"paint-brush"}),t.FE.RegisterCommand("tableStyle",{title:"Table Style",type:"dropdown",focus:!1,html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',o=this.opts.tableStyles;for(var i in o)o.hasOwnProperty(i)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableStyle" data-param1="'+i+'" title="'+this.language.translate(o[i])+'">'+this.language.translate(o[i])+"</a></li>");return e+"</ul>"},callback:function(e,o){this.table.applyStyle(o,this.$el.find(".fr-selected-cell").closest("table"),this.opts.tableMultipleStyles,this.opts.tableStyles)},refreshOnShow:function(e,o){var i=this.$el.find(".fr-selected-cell").closest("table");i&&o.find(".fr-command").each(function(){var y=t(this).data("param1"),E=i.hasClass(y);t(this).toggleClass("fr-active",E).attr("aria-selected",E)})}}),t.FE.DefineIcon("tableCellBackground",{NAME:"tint"}),t.FE.RegisterCommand("tableCellBackground",{title:"Cell Background",focus:!1,popup:!0,callback:function(){this.table.showColorsPopup()}}),t.FE.RegisterCommand("tableCellBackgroundColor",{undo:!0,focus:!1,callback:function(e,o){this.table.setBackground(o)}}),t.FE.DefineIcon("tableBack",{NAME:"arrow-left"}),t.FE.RegisterCommand("tableBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.table.back()},refresh:function(e){0!==this.table.selectedCells().length||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),t.FE.DefineIcon("tableCellVerticalAlign",{NAME:"arrows-v",FA5NAME:"arrows-alt-v"}),t.FE.RegisterCommand("tableCellVerticalAlign",{type:"dropdown",focus:!1,title:"Vertical Align",options:{Top:"Align Top",Middle:"Align Middle",Bottom:"Align Bottom"},html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',o=t.FE.COMMANDS.tableCellVerticalAlign.options;for(var i in o)o.hasOwnProperty(i)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCellVerticalAlign" data-param1="'+i.toLowerCase()+'" title="'+this.language.translate(o[i])+'">'+this.language.translate(i)+"</a></li>");return e+"</ul>"},callback:function(e,o){this.table.verticalAlign(o)},refreshOnShow:function(e,o){o.find('.fr-command[data-param1="'+this.$el.find(".fr-selected-cell").css("vertical-align")+'"]').addClass("fr-active").attr("aria-selected",!0)}}),t.FE.DefineIcon("tableCellHorizontalAlign",{NAME:"align-left"}),t.FE.DefineIcon("align-left",{NAME:"align-left"}),t.FE.DefineIcon("align-right",{NAME:"align-right"}),t.FE.DefineIcon("align-center",{NAME:"align-center"}),t.FE.DefineIcon("align-justify",{NAME:"align-justify"}),t.FE.RegisterCommand("tableCellHorizontalAlign",{type:"dropdown",focus:!1,title:"Horizontal Align",options:{left:"Align Left",center:"Align Center",right:"Align Right",justify:"Align Justify"},html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',o=t.FE.COMMANDS.tableCellHorizontalAlign.options;for(var i in o)o.hasOwnProperty(i)&&(e+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="tableCellHorizontalAlign" data-param1="'+i+'" title="'+this.language.translate(o[i])+'">'+this.icon.create("align-"+i)+'<span class="fr-sr-only">'+this.language.translate(o[i])+"</span></a></li>");return e+"</ul>"},callback:function(e,o){this.table.horizontalAlign(o)},refresh:function(e){var o=this.table.selectedCells();o.length&&e.find("> *:first").replaceWith(this.icon.create("align-"+this.helpers.getAlignment(t(o[0]))))},refreshOnShow:function(e,o){o.find('.fr-command[data-param1="'+this.helpers.getAlignment(this.$el.find(".fr-selected-cell:first"))+'"]').addClass("fr-active").attr("aria-selected",!0)}}),t.FE.DefineIcon("tableCellStyle",{NAME:"magic"}),t.FE.RegisterCommand("tableCellStyle",{title:"Cell Style",type:"dropdown",focus:!1,html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',o=this.opts.tableCellStyles;for(var i in o)o.hasOwnProperty(i)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCellStyle" data-param1="'+i+'" title="'+this.language.translate(o[i])+'">'+this.language.translate(o[i])+"</a></li>");return e+"</ul>"},callback:function(e,o){this.table.applyStyle(o,this.$el.find(".fr-selected-cell"),this.opts.tableCellMultipleStyles,this.opts.tableCellStyles)},refreshOnShow:function(e,o){var i=this.$el.find(".fr-selected-cell:first");i&&o.find(".fr-command").each(function(){var y=t(this).data("param1"),E=i.hasClass(y);t(this).toggleClass("fr-active",E).attr("aria-selected",E)})}}),t.FE.RegisterCommand("tableCellBackgroundCustomColor",{title:"OK",undo:!0,callback:function(){this.table.customColor()}}),t.FE.DefineIcon("tableColorRemove",{NAME:"eraser"}),t.FE.URLRegEx="(^| |\\u00A0)("+t.FE.LinkRegEx+"|([a-z0-9+-_.]{1,}@[a-z0-9+-_.]{1,}\\.[a-z0-9+-_]{1,}))$",t.FE.PLUGINS.url=function(e){var o=null;function i(L,w,f){for(var R="";f.length&&"."==f[f.length-1];)R+=".",f=f.substring(0,f.length-1);var T=f;if(e.opts.linkConvertEmailAddress)e.helpers.isEmail(T)&&!/^mailto:.*/i.test(T)&&(T="mailto:"+T);else if(e.helpers.isEmail(T))return w+f;return/^((http|https|ftp|ftps|mailto|tel|sms|notes|data)\:)/i.test(T)||(T="//"+T),(w||"")+"<a"+(e.opts.linkAlwaysBlank?' target="_blank"':"")+(o?' rel="'+o+'"':"")+' data-fr-linked="true" href="'+T+'">'+f.replace(/&amp;/g,"&").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</a>"+R}function y(){return new RegExp(t.FE.URLRegEx,"gi")}function E(L){return e.opts.linkAlwaysNoFollow&&(o="nofollow"),e.opts.linkAlwaysBlank&&(e.opts.linkNoOpener&&(o?o+=" noopener":o="noopener"),e.opts.linkNoReferrer&&(o?o+=" noreferrer":o="noreferrer")),L.replace(y(),i)}function O(L){var w=L.split(" ");return w[w.length-1]}function p(){var L=e.selection.ranges(0),w=L.startContainer;if(!w||w.nodeType!==Node.TEXT_NODE||L.startOffset!==(w.textContent||"").length||function T(_){return!!_&&("A"===_.tagName||!(!_.parentNode||_.parentNode==e.el)&&T(_.parentNode))}(w))return!1;if(y().test(O(w.textContent))){t(w).before(E(w.textContent));var f=t(w.parentNode).find("a[data-fr-linked]");f.removeAttr("data-fr-linked"),w.parentNode.removeChild(w),e.events.trigger("url.linked",[f.get(0)])}else if(w.textContent.split(" ").length<=2&&w.previousSibling&&"A"===w.previousSibling.tagName){var R=w.previousSibling.innerText+w.textContent;y().test(O(R))&&(t(w.previousSibling).replaceWith(E(R)),w.parentNode.removeChild(w))}}return{_init:function(){e.events.on("keypress",function(L){!e.selection.isCollapsed()||"."!=L.key&&")"!=L.key&&"("!=L.key||p()},!0),e.events.on("keydown",function(L){var w=L.which;!e.selection.isCollapsed()||w!=t.FE.KEYCODE.ENTER&&w!=t.FE.KEYCODE.SPACE||p()},!0),e.events.on("paste.beforeCleanup",function(L){if(e.helpers.isURL(L)){var w=null;return e.opts.linkAlwaysBlank&&(e.opts.linkNoOpener&&(w?w+=" noopener":w="noopener"),e.opts.linkNoReferrer&&(w?w+=" noreferrer":w="noreferrer")),"<a"+(e.opts.linkAlwaysBlank?' target="_blank"':"")+(w?' rel="'+w+'"':"")+' href="'+L+'" >'+L+"</a>"}})}}},t.extend(t.FE.POPUP_TEMPLATES,{"video.insert":"[_BUTTONS_][_BY_URL_LAYER_][_EMBED_LAYER_][_UPLOAD_LAYER_][_PROGRESS_BAR_]","video.edit":"[_BUTTONS_]","video.size":"[_BUTTONS_][_SIZE_LAYER_]"}),t.extend(t.FE.DEFAULTS,{videoAllowedTypes:["mp4","webm","ogg"],videoAllowedProviders:[".*"],videoDefaultAlign:"center",videoDefaultDisplay:"block",videoDefaultWidth:600,videoEditButtons:["videoReplace","videoRemove","|","videoDisplay","videoAlign","videoSize"],videoInsertButtons:["videoBack","|","videoByURL","videoEmbed","videoUpload"],videoMaxSize:52428800,videoMove:!0,videoResize:!0,videoResponsive:!1,videoSizeButtons:["videoBack","|"],videoSplitHTML:!1,videoTextNear:!0,videoUpload:!0,videoUploadMethod:"POST",videoUploadParam:"file",videoUploadParams:{},videoUploadToS3:!1,videoUploadURL:null}),t.FE.VIDEO_PROVIDERS=[{test_regex:/^.*((youtu.be)|(youtube.com))\/((v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))?\??v?=?([^#\&\?]*).*/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=|embed\/)?([0-9a-zA-Z_\-]+)(.+)?/g,url_text:"https://www.youtube.com/embed/$1",html:'<iframe width="640" height="360" src="{url}?wmode=opaque" frameborder="0" allowfullscreen></iframe>',provider:"youtube"},{test_regex:/^.*(?:vimeo.com)\/(?:channels(\/\w+\/)?|groups\/*\/videos\/\u200b\d+\/|video\/|)(\d+)(?:$|\/|\?)/,url_regex:/(?:https?:\/\/)?(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?(\/[a-zA-Z0-9_\-]+)?/i,url_text:"https://player.vimeo.com/video/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"vimeo"},{test_regex:/^.+(dailymotion.com|dai.ly)\/(video|hub)?\/?([^_]+)[^#]*(#video=([^_&]+))?/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:dailymotion\.com|dai\.ly)\/(?:video|hub)?\/?(.+)/g,url_text:"https://www.dailymotion.com/embed/video/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"dailymotion"},{test_regex:/^.+(screen.yahoo.com)\/[^_&]+/,url_regex:"",url_text:"",html:'<iframe width="640" height="360" src="{url}?format=embed" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>',provider:"yahoo"},{test_regex:/^.+(rutube.ru)\/[^_&]+/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:rutube\.ru)\/(?:video)?\/?(.+)/g,url_text:"https://rutube.ru/play/embed/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>',provider:"rutube"},{test_regex:/^(?:.+)vidyard.com\/(?:watch)?\/?([^.&/]+)\/?(?:[^_.&]+)?/,url_regex:/^(?:.+)vidyard.com\/(?:watch)?\/?([^.&/]+)\/?(?:[^_.&]+)?/g,url_text:"https://play.vidyard.com/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"vidyard"}],t.FE.VIDEO_EMBED_REGEX=/^\W*((<iframe.*><\/iframe>)|(<embed.*>))\W*$/i,t.FE.PLUGINS.video=function(e){var o,i,y,E,O,p,L="https://i.froala.com/upload",w=2,f=3,R=4,T=5,_=6,A={};function c(){var j=e.popups.get("video.insert");j.find(".fr-video-by-url-layer input").val("").trigger("change");var fe=j.find(".fr-video-embed-layer textarea");fe.val("").trigger("change"),(fe=j.find(".fr-video-upload-layer input")).val("").trigger("change")}function l(){var j=e.popups.get("video.edit");if(j||(j=function(){var K="";if(0<e.opts.videoEditButtons.length){e.opts.videoResponsive&&(e.opts.videoEditButtons.splice(e.opts.videoEditButtons.indexOf("videoSize"),1),e.opts.videoEditButtons.splice(e.opts.videoEditButtons.indexOf("videoDisplay"),1),e.opts.videoEditButtons.splice(e.opts.videoEditButtons.indexOf("videoAlign"),1)),K+='<div class="fr-buttons">',K+=e.button.buildList(e.opts.videoEditButtons);var P={buttons:K+="</div>"},Y=e.popups.create("video.edit",P);return e.events.$on(e.$wp,"scroll.video-edit",function(){E&&e.popups.isVisible("video.edit")&&(e.events.disableBlur(),q(E))}),Y}return!1}()),j){e.popups.setContainer("video.edit",e.$sc),e.popups.refresh("video.edit");var fe=E.find("iframe, embed, video"),M=fe.offset().left+fe.outerWidth()/2,U=fe.offset().top+fe.outerHeight();e.popups.show("video.edit",M,U,fe.outerHeight())}}function a(j){if(j)return e.popups.onRefresh("video.insert",c),e.popups.onHide("image.insert",Ye),!0;var fe="";e.opts.videoUpload||e.opts.videoInsertButtons.splice(e.opts.videoInsertButtons.indexOf("videoUpload"),1),1<e.opts.videoInsertButtons.length&&(fe='<div class="fr-buttons">'+e.button.buildList(e.opts.videoInsertButtons)+"</div>");var M,U="",K=e.opts.videoInsertButtons.indexOf("videoUpload"),P=e.opts.videoInsertButtons.indexOf("videoByURL"),Y=e.opts.videoInsertButtons.indexOf("videoEmbed");0<=P&&(M=" fr-active",(K<P&&0<=K||Y<P&&0<=Y)&&(M=""),U='<div class="fr-video-by-url-layer fr-layer'+M+'" id="fr-video-by-url-layer-'+e.id+'"><div class="fr-input-line"><input id="fr-video-by-url-layer-text-'+e.id+'" type="text" placeholder="'+e.language.translate("Paste in a video URL")+'" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoInsertByURL" tabIndex="2" role="button">'+e.language.translate("Insert")+"</button></div></div>");var V="";0<=Y&&(M=" fr-active",(K<Y&&0<=K||P<Y&&0<=P)&&(M=""),V='<div class="fr-video-embed-layer fr-layer'+M+'" id="fr-video-embed-layer-'+e.id+'"><div class="fr-input-line"><textarea id="fr-video-embed-layer-text'+e.id+'" type="text" placeholder="'+e.language.translate("Embedded Code")+'" tabIndex="1" aria-required="true" rows="5"></textarea></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoInsertEmbed" tabIndex="2" role="button">'+e.language.translate("Insert")+"</button></div></div>");var he="";0<=K&&(M=" fr-active",(Y<K&&0<=Y||P<K&&0<=P)&&(M=""),he='<div class="fr-video-upload-layer fr-layer'+M+'" id="fr-video-upload-layer-'+e.id+'"><strong>'+e.language.translate("Drop video")+"</strong><br>("+e.language.translate("or click")+')<div class="fr-form"><input type="file" accept="video/'+e.opts.videoAllowedTypes.join(", video/").toLowerCase()+'" tabIndex="-1" aria-labelledby="fr-video-upload-layer-'+e.id+'" role="button"></div></div>');var Le,me=e.popups.create("video.insert",{buttons:fe,by_url_layer:U,embed_layer:V,upload_layer:he,progress_bar:'<div class="fr-video-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="videoDismissError" tabIndex="2" role="button">OK</button></div></div>'});return e.events.$on(Le=me,"dragover dragenter",".fr-video-upload-layer",function(){return t(this).addClass("fr-drop"),!1},!0),e.events.$on(Le,"dragleave dragend",".fr-video-upload-layer",function(){return t(this).removeClass("fr-drop"),!1},!0),e.events.$on(Le,"drop",".fr-video-upload-layer",function(Qe){Qe.preventDefault(),Qe.stopPropagation(),t(this).removeClass("fr-drop");var Je=Qe.originalEvent.dataTransfer;if(Je&&Je.files){var et=Le.data("instance")||e;et.events.disableBlur(),et.video.upload(Je.files),et.events.enableBlur()}},!0),e.helpers.isIOS()&&e.events.$on(Le,"touchstart",'.fr-video-upload-layer input[type="file"]',function(){t(this).trigger("click")},!0),e.events.$on(Le,"change",'.fr-video-upload-layer input[type="file"]',function(){if(this.files){var Qe=Le.data("instance")||e;Qe.events.disableBlur(),Le.find("input:focus").blur(),Qe.events.enableBlur(),Qe.video.upload(this.files)}t(this).val("")},!0),me}function s(j){e.events.focus(!0),e.selection.restore();var fe=!1;E&&(Ze(),fe=!0),e.html.insert('<span contenteditable="false" draggable="true" class="fr-jiv fr-video">'+j+"</span>",!1,e.opts.videoSplitHTML),e.popups.hide("video.insert");var M=e.$el.find(".fr-jiv");M.removeClass("fr-jiv"),M.toggleClass("fr-rv",e.opts.videoResponsive),lt(M,e.opts.videoDefaultDisplay,e.opts.videoDefaultAlign),M.toggleClass("fr-draggable",e.opts.videoMove),e.events.trigger(fe?"video.replaced":"video.inserted",[M])}function u(){var j=t(this);e.popups.hide("video.insert"),j.removeClass("fr-uploading"),j.parent().next().is("br")&&j.parent().next().remove(),q(j.parent()),e.events.trigger("video.loaded",[j.parent()])}function m(j,fe,M,U,K){e.edit.off(),x("Loading video"),fe&&(j=e.helpers.sanitizeURL(j)),n("Loading video"),function(){var P,Y;if(U){e.undo.canDo()||U.find("video").hasClass("fr-uploading")||e.undo.saveStep();var V=U.find("video").data("fr-old-src"),he=U.data("fr-replaced");U.data("fr-replaced",!1),e.$wp?((P=U.clone()).find("video").removeData("fr-old-src").removeClass("fr-uploading"),P.find("video").off("canplay"),V&&U.find("video").attr("src",V),U.replaceWith(P)):P=U;for(var _e=P.find("video").get(0).attributes,me=0;me<_e.length;me++){var Le=_e[me];0===Le.nodeName.indexOf("data-")&&P.find("video").removeAttr(Le.nodeName)}if(void 0!==M)for(Y in M)M.hasOwnProperty(Y)&&"link"!=Y&&P.find("video").attr("data-"+Y,M[Y]);P.find("video").on("canplay",u),P.find("video").attr("src",j),e.edit.on(),Re(),e.undo.saveStep(),e.$el.blur(),e.events.trigger(he?"video.replaced":"video.inserted",[P,K])}else P=function(Qe,Je,et){var nt,rt="";if(Je&&void 0!==Je)for(nt in Je)Je.hasOwnProperty(nt)&&"link"!=nt&&(rt+=" data-"+nt+'="'+Je[nt]+'"');var $=e.opts.videoDefaultWidth;$&&"auto"!=$&&($+="px");var X=t('<span contenteditable="false" draggable="true" class="fr-video fr-dv'+e.opts.videoDefaultDisplay[0]+("center"!=e.opts.videoDefaultAlign?" fr-fv"+e.opts.videoDefaultAlign[0]:"")+'"><video src="'+Qe+'" '+rt+($?' style="width: '+$+';" ':"")+" controls>"+e.language.translate("Your browser does not support HTML5 video.")+"</video></span>");X.toggleClass("fr-draggable",e.opts.videoMove),e.edit.on(),e.events.focus(!0),e.selection.restore(),e.undo.saveStep(),e.opts.videoSplitHTML?e.markers.split():e.markers.insert(),e.html.wrap();var ne=e.$el.find(".fr-marker");return e.node.isLastSibling(ne)&&ne.parent().hasClass("fr-deletable")&&ne.insertAfter(ne.parent()),ne.replaceWith(X),e.selection.clear(),X.find("video").get(0).readyState>X.find("video").get(0).HAVE_FUTURE_DATA||e.helpers.isIOS()?et.call(X.find("video").get(0)):X.find("video").on("canplaythrough load",et),X}(j,M,u),Re(),e.undo.saveStep(),e.events.trigger("video.inserted",[P,K])}()}function n(j){var fe=e.popups.get("video.insert");if(fe||(fe=a()),fe.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),fe.find(".fr-video-progress-bar-layer").addClass("fr-active"),fe.find(".fr-buttons").hide(),E){var M=E.find("video");e.popups.setContainer("video.insert",e.$sc);var U=M.offset().left+M.width()/2,K=M.offset().top+M.height();e.popups.show("video.insert",U,K,M.outerHeight())}void 0===j&&x(e.language.translate("Uploading"),0)}function S(j){var fe=e.popups.get("video.insert");if(fe&&(fe.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),fe.find(".fr-video-progress-bar-layer").removeClass("fr-active"),fe.find(".fr-buttons").show(),j||e.$el.find("video.fr-error").length)){if(e.events.focus(),e.$el.find("video.fr-error").length&&(e.$el.find("video.fr-error").parent().remove(),e.undo.saveStep(),e.undo.run(),e.undo.dropRedo()),!e.$wp&&E){var M=E;de(!0),e.selection.setAfter(M.find("video").get(0)),e.selection.restore()}e.popups.hide("video.insert")}}function x(j,fe){var M=e.popups.get("video.insert");if(M){var U=M.find(".fr-video-progress-bar-layer");U.find("h3").text(j+(fe?" "+fe+"%":"")),U.removeClass("fr-error"),fe?(U.find("div").removeClass("fr-indeterminate"),U.find("div > span").css("width",fe+"%")):U.find("div").addClass("fr-indeterminate")}}function q(j){Oe.call(j.get(0))}function v(j){x("Loading video");var fe=this.status,M=this.response,U=this.responseXML,K=this.responseText;try{if(e.opts.videoUploadToS3)if(201==fe){var P=function(V){try{var he=t(V).find("Location").text(),_e=t(V).find("Key").text();return!1===e.events.trigger("video.uploadedToS3",[he,_e,V],!0)?(e.edit.on(),!1):he}catch{return Be(R,V),!1}}(U);P&&m(P,!1,[],j,M||U)}else Be(R,M||U);else if(200<=fe&&fe<300){var Y=function(V){try{if(!1===e.events.trigger("video.uploaded",[V],!0))return e.edit.on(),!1;var he=JSON.parse(V);return he.link?he:(Be(w,V),!1)}catch{return Be(R,V),!1}}(K);Y&&m(Y.link,!1,Y,j,M||K)}else Be(f,M||K)}catch{Be(R,M||K)}}function D(){Be(R,this.response||this.responseText||this.responseXML)}function G(j){if(j.lengthComputable){var fe=j.loaded/j.total*100|0;x(e.language.translate("Uploading"),fe)}}function k(){e.edit.on(),S(!0)}function te(j){if(!e.core.sameInstance(y))return!0;j.preventDefault(),j.stopPropagation();var fe=j.pageX||(j.originalEvent.touches?j.originalEvent.touches[0].pageX:null),M=j.pageY||(j.originalEvent.touches?j.originalEvent.touches[0].pageY:null);if(!fe||!M)return!1;if("mousedown"==j.type){var U=e.$oel.get(0).ownerDocument,K=U.defaultView||U.parentWindow,P=!1;try{P=K.location!=K.parent.location&&!(K.$&&K.$.FE)}catch{}P&&K.frameElement&&(fe+=e.helpers.getPX(t(K.frameElement).offset().left)+K.frameElement.clientLeft,M=j.clientY+e.helpers.getPX(t(K.frameElement).offset().top)+K.frameElement.clientTop)}e.undo.canDo()||e.undo.saveStep(),(i=t(this)).data("start-x",fe),i.data("start-y",M),o.show(),e.popups.hideAll(),le()}function J(j){if(!e.core.sameInstance(y))return!0;if(i){j.preventDefault();var fe=j.pageX||(j.originalEvent.touches?j.originalEvent.touches[0].pageX:null),M=j.pageY||(j.originalEvent.touches?j.originalEvent.touches[0].pageY:null);if(!fe||!M)return!1;var U=i.data("start-x"),K=i.data("start-y");i.data("start-x",fe),i.data("start-y",M);var P=fe-U,Y=M-K,V=E.find("iframe, embed, video"),he=V.width(),_e=V.height();(i.hasClass("fr-hnw")||i.hasClass("fr-hsw"))&&(P=0-P),(i.hasClass("fr-hnw")||i.hasClass("fr-hne"))&&(Y=0-Y),V.css("width",he+P),V.css("height",_e+Y),V.removeAttr("width"),V.removeAttr("height"),qe()}}function Ee(j){if(!e.core.sameInstance(y))return!0;i&&E&&(j&&j.stopPropagation(),i=null,o.hide(),qe(),l(),e.undo.saveStep())}function ye(j){return'<div class="fr-handler fr-h'+j+'"></div>'}function pe(j,fe,M,U){return j.pageX=fe,j.pageY=fe,te.call(this,j),j.pageX=j.pageX+M*Math.floor(Math.pow(1.1,U)),j.pageY=j.pageY+M*Math.floor(Math.pow(1.1,U)),J.call(this,j),Ee.call(this,j),++U}function Re(){var j,fe=Array.prototype.slice.call(e.el.querySelectorAll("video, .fr-video > *")),M=[];for(j=0;j<fe.length;j++)M.push(fe[j].getAttribute("src")),t(fe[j]).toggleClass("fr-draggable",e.opts.videoMove),""===fe[j].getAttribute("class")&&fe[j].removeAttribute("class"),""===fe[j].getAttribute("style")&&fe[j].removeAttribute("style");if(O)for(j=0;j<O.length;j++)M.indexOf(O[j].getAttribute("src"))<0&&e.events.trigger("video.removed",[t(O[j])]);O=fe}function qe(){y||function(){var fe;if(e.shared.$video_resizer?(y=e.shared.$video_resizer,o=e.shared.$vid_overlay,e.events.on("destroy",function(){y.removeClass("fr-active").appendTo(t("body:first"))},!0)):(e.shared.$video_resizer=t('<div class="fr-video-resizer"></div>'),e.events.$on(y=e.shared.$video_resizer,"mousedown",function(P){P.stopPropagation()},!0),e.opts.videoResize&&(y.append(ye("nw")+ye("ne")+ye("sw")+ye("se")),e.shared.$vid_overlay=t('<div class="fr-video-overlay"></div>'),o=e.shared.$vid_overlay,fe=y.get(0).ownerDocument,t(fe).find("body:first").append(o))),e.events.on("shared.destroy",function(){y.html("").removeData().remove(),y=null,e.opts.videoResize&&(o.remove(),o=null)},!0),e.helpers.isMobile()||e.events.$on(t(e.o_win),"resize.video",function(){de(!0)}),e.opts.videoResize){fe=y.get(0).ownerDocument,e.events.$on(y,e._mousedown,".fr-handler",te),e.events.$on(t(fe),e._mousemove,J),e.events.$on(t(fe.defaultView||fe.parentWindow),e._mouseup,Ee),e.events.$on(o,"mouseleave",Ee);var M=1,U=null,K=0;e.events.on("keydown",function(P){if(E){var Y=-1!=navigator.userAgent.indexOf("Mac OS X")?P.metaKey:P.ctrlKey,V=P.which;(V!==U||200<P.timeStamp-K)&&(M=1),(V==t.FE.KEYCODE.EQUALS||e.browser.mozilla&&V==t.FE.KEYCODE.FF_EQUALS)&&Y&&!P.altKey?M=pe.call(this,P,1,1,M):(V==t.FE.KEYCODE.HYPHEN||e.browser.mozilla&&V==t.FE.KEYCODE.FF_HYPHEN)&&Y&&!P.altKey&&(M=pe.call(this,P,2,-1,M)),U=V,K=P.timeStamp}}),e.events.on("keyup",function(){M=1})}}(),(e.$wp||e.$sc).append(y),y.data("instance",e);var j=E.find("iframe, embed, video");y.css("top",(e.opts.iframe?j.offset().top-1:j.offset().top-e.$wp.offset().top-1)+e.$wp.scrollTop()).css("left",(e.opts.iframe?j.offset().left-1:j.offset().left-e.$wp.offset().left-1)+e.$wp.scrollLeft()).css("width",j.get(0).getBoundingClientRect().width).css("height",j.get(0).getBoundingClientRect().height).addClass("fr-active")}function Oe(j){if(j&&"touchend"==j.type&&p)return!0;if(j&&e.edit.isDisabled())return j.stopPropagation(),j.preventDefault(),!1;if(e.edit.isDisabled())return!1;for(var fe=0;fe<t.FE.INSTANCES.length;fe++)t.FE.INSTANCES[fe]!=e&&t.FE.INSTANCES[fe].events.trigger("video.hideResizer");e.toolbar.disable(),e.helpers.isMobile()&&(e.events.disableBlur(),e.$el.blur(),e.events.enableBlur()),e.$el.find(".fr-video.fr-active").removeClass("fr-active"),(E=t(this)).addClass("fr-active"),e.opts.iframe&&e.size.syncIframe(),Ve(),qe(),l(),e.selection.clear(),e.button.bulkRefresh(),e.events.trigger("image.hideResizer")}function de(j){E&&(e.shared.vid_exit_flag||!0===j)&&(y.removeClass("fr-active"),e.toolbar.enable(),E.removeClass("fr-active"),E=null,le())}function $e(){e.shared.vid_exit_flag=!0}function le(){e.shared.vid_exit_flag=!1}function He(j){var fe=j.originalEvent.dataTransfer;if(fe&&fe.files&&fe.files.length){var M=fe.files[0];if(M&&M.type&&-1!==M.type.indexOf("video")){if(!e.opts.videoUpload)return j.preventDefault(),j.stopPropagation(),!1;e.markers.remove(),e.markers.insertAtPoint(j.originalEvent),e.$el.find(".fr-marker").replaceWith(t.FE.MARKERS),e.popups.hideAll();var U=e.popups.get("video.insert");return U||(U=a()),e.popups.setContainer("video.insert",e.$sc),e.popups.show("video.insert",j.originalEvent.pageX,j.originalEvent.pageY),n(),0<=e.opts.videoAllowedTypes.indexOf(M.type.replace(/video\//g,""))?ce(fe.files):Be(_),j.preventDefault(),j.stopPropagation(),!1}}}function ce(j){if(void 0!==j&&0<j.length){if(!1===e.events.trigger("video.beforeUpload",[j]))return!1;var fe,M=j[0];if((null===e.opts.videoUploadURL||e.opts.videoUploadURL==L)&&!e.opts.videoUploadToS3)return V=M,(he=new FileReader).addEventListener("load",function(){for(var _e=atob(he.result.split(",")[1]),me=[],Le=0;Le<_e.length;Le++)me.push(_e.charCodeAt(Le));m(window.URL.createObjectURL(new Blob([new Uint8Array(me)],{type:V.type})),!1,null,E)},!1),n(),he.readAsDataURL(V),!1;if(M.size>e.opts.videoMaxSize)return Be(T),!1;if(e.opts.videoAllowedTypes.indexOf(M.type.replace(/video\//g,""))<0)return Be(_),!1;if(e.drag_support.formdata&&(fe=e.drag_support.formdata?new FormData:null),fe){var U;if(!1!==e.opts.videoUploadToS3)for(U in fe.append("key",e.opts.videoUploadToS3.keyStart+(new Date).getTime()+"-"+(M.name||"untitled")),fe.append("success_action_status","201"),fe.append("X-Requested-With","xhr"),fe.append("Content-Type",M.type),e.opts.videoUploadToS3.params)e.opts.videoUploadToS3.params.hasOwnProperty(U)&&fe.append(U,e.opts.videoUploadToS3.params[U]);for(U in e.opts.videoUploadParams)e.opts.videoUploadParams.hasOwnProperty(U)&&fe.append(U,e.opts.videoUploadParams[U]);fe.append(e.opts.videoUploadParam,M);var K=e.opts.videoUploadURL;e.opts.videoUploadToS3&&(K=e.opts.videoUploadToS3.uploadURL?e.opts.videoUploadToS3.uploadURL:"https://"+e.opts.videoUploadToS3.region+".amazonaws.com/"+e.opts.videoUploadToS3.bucket);var P=e.core.getXHR(K,e.opts.videoUploadMethod);P.onload=function(){v.call(P,E)},P.onerror=D,P.upload.onprogress=G,P.onabort=k,n(),e.events.disableBlur(),e.edit.off(),e.events.enableBlur();var Y=e.popups.get("video.insert");Y&&Y.off("abortUpload").on("abortUpload",function(){4!=P.readyState&&P.abort()}),P.send(fe)}}var V,he}function Be(j,fe){e.edit.on(),E&&E.find("video").addClass("fr-error"),function(M){n();var U=e.popups.get("video.insert").find(".fr-video-progress-bar-layer");U.addClass("fr-error");var K=U.find("h3");K.text(M),e.events.disableBlur(),K.focus()}(e.language.translate("Something went wrong. Please try again.")),e.events.trigger("video.error",[{code:j,message:A[j]},fe])}function je(){if(E){var j=e.popups.get("video.size"),fe=E.find("iframe, embed, video");j.find('input[name="width"]').val(fe.get(0).style.width||fe.attr("width")).trigger("change"),j.find('input[name="height"]').val(fe.get(0).style.height||fe.attr("height")).trigger("change")}}function ae(j){if(j)return e.popups.onRefresh("video.size",je),!0;var fe={buttons:'<div class="fr-buttons">'+e.button.buildList(e.opts.videoSizeButtons)+"</div>",size_layer:'<div class="fr-video-size-layer fr-layer fr-active" id="fr-video-size-layer-'+e.id+'"><div class="fr-video-group"><div class="fr-input-line"><input id="fr-video-size-layer-width-'+e.id+'" type="text" name="width" placeholder="'+e.language.translate("Width")+'" tabIndex="1"></div><div class="fr-input-line"><input id="fr-video-size-layer-height-'+e.id+'" type="text" name="height" placeholder="'+e.language.translate("Height")+'" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoSetSize" tabIndex="2" role="button">'+e.language.translate("Update")+"</button></div></div>"},M=e.popups.create("video.size",fe);return e.events.$on(e.$wp,"scroll",function(){E&&e.popups.isVisible("video.size")&&(e.events.disableBlur(),q(E))}),M}function Se(j){if(void 0===j&&(j=E),j){if(j.hasClass("fr-fvl"))return"left";if(j.hasClass("fr-fvr"))return"right";if(j.hasClass("fr-dvb")||j.hasClass("fr-dvi"))return"center";if("block"==j.css("display")){if("left"==j.css("text-algin"))return"left";if("right"==j.css("text-align"))return"right"}else{if("left"==j.css("float"))return"left";if("right"==j.css("float"))return"right"}}return"center"}function ze(j){void 0===j&&(j=E);var fe=j.css("float");return j.css("float","none"),"block"==j.css("display")?(j.css("float",""),j.css("float")!=fe&&j.css("float",fe),"block"):(j.css("float",""),j.css("float")!=fe&&j.css("float",fe),"inline")}function Ze(){if(E&&!1!==e.events.trigger("video.beforeRemove",[E])){var j=E;e.popups.hideAll(),de(!0),e.selection.setBefore(j.get(0))||e.selection.setAfter(j.get(0)),j.remove(),e.selection.restore(),e.html.fillEmptyBlocks(),e.events.trigger("video.removed",[j])}}function Ye(){S()}function lt(j,fe,M){!e.opts.htmlUntouched&&e.opts.useClasses?(j.removeClass("fr-fvl fr-fvr fr-dvb fr-dvi"),j.addClass("fr-fv"+M[0]+" fr-dv"+fe[0])):"inline"==fe?(j.css({display:"inline-block"}),j.css("center"==M?{float:"none"}:"left"==M?{float:"left"}:{float:"right"})):(j.css({display:"block",clear:"both"}),j.css("left"==M?{textAlign:"left"}:"right"==M?{textAlign:"right"}:{textAlign:"center"}))}function Ne(){e.$el.find("video").filter(function(){return 0===t(this).parents("span.fr-video").length}).wrap('<span class="fr-video" contenteditable="false"></span>'),e.$el.find("embed, iframe").filter(function(){if(e.browser.safari&&this.getAttribute("src")&&this.setAttribute("src",this.src),0<t(this).parents("span.fr-video").length)return!1;for(var P=t(this).attr("src"),Y=0;Y<t.FE.VIDEO_PROVIDERS.length;Y++){var V=t.FE.VIDEO_PROVIDERS[Y];if(V.test_regex.test(P)&&new RegExp(e.opts.videoAllowedProviders.join("|")).test(V.provider))return!0}return!1}).map(function(){return 0===t(this).parents("object").length?this:t(this).parents("object").get(0)}).wrap('<span class="fr-video" contenteditable="false"></span>');for(var j,fe,M=e.$el.find("span.fr-video, video"),U=0;U<M.length;U++){var K=t(M[U]);!e.opts.htmlUntouched&&e.opts.useClasses?((fe=K).hasClass("fr-dvi")||fe.hasClass("fr-dvb")||(fe.addClass("fr-fv"+Se(fe)[0]),fe.addClass("fr-dv"+ze(fe)[0])),e.opts.videoTextNear||K.removeClass("fr-dvi").addClass("fr-dvb")):e.opts.htmlUntouched||e.opts.useClasses||(lt(j=K,j.hasClass("fr-dvb")?"block":j.hasClass("fr-dvi")?"inline":null,j.hasClass("fr-fvl")?"left":j.hasClass("fr-fvr")?"right":Se(j)),j.removeClass("fr-dvb fr-dvi fr-fvr fr-fvl"))}M.toggleClass("fr-draggable",e.opts.videoMove)}function Ve(){if(E){e.selection.clear();var j=e.doc.createRange();j.selectNode(E.get(0)),e.selection.get().addRange(j)}}return A[1]="Video cannot be loaded from the passed link.",A[w]="No link in upload response.",A[f]="Error during file upload.",A[R]="Parsing response failed.",A[T]="File is too large.",A[_]="Video file type is invalid.",A[7]="Files can be uploaded only to same domain in IE 8 and IE 9.",e.shared.vid_exit_flag=!1,{_init:function(){e.opts.videoResponsive&&(e.opts.videoResize=!1),e.events.on("drop",He,!0),e.events.on("mousedown window.mousedown",$e),e.events.on("window.touchmove",le),e.events.on("mouseup window.mouseup",de),e.events.on("commands.mousedown",function(j){0<j.parents(".fr-toolbar").length&&de()}),e.events.on("video.hideResizer commands.undo commands.redo element.dropped",function(){de(!0)}),e.helpers.isMobile()&&(e.events.$on(e.$el,"touchstart","span.fr-video",function(){p=!1}),e.events.$on(e.$el,"touchmove",function(){p=!0})),e.events.on("html.set",Ne),Ne(),e.events.$on(e.$el,"mousedown","span.fr-video",function(j){j.stopPropagation(),(e.browser.msie||e.browser.edge)&&(j.target.dragDrop(),Oe.call(this,j))}),e.events.$on(e.$el,"click touchend","span.fr-video",function(j){if("false"==t(this).parents("[contenteditable]:not(.fr-element):not(.fr-img-caption):not(body):first").attr("contenteditable"))return!0;Oe.call(this,j)}),e.events.on("keydown",function(j){var fe=j.which;return!E||fe!=t.FE.KEYCODE.BACKSPACE&&fe!=t.FE.KEYCODE.DELETE?E&&fe==t.FE.KEYCODE.ESC?(de(!0),j.preventDefault(),!1):E&&fe!=t.FE.KEYCODE.F10&&!e.keys.isBrowserAction(j)?(j.preventDefault(),!1):void 0:(j.preventDefault(),Ze(),e.undo.saveStep(),!1)},!0),e.events.on("toolbar.esc",function(){if(E)return e.events.disableBlur(),e.events.focus(),!1},!0),e.events.on("toolbar.focusEditor",function(){if(E)return!1},!0),e.events.on("keydown",function(){e.$el.find("span.fr-video:empty").remove()}),e.$wp&&(Re(),e.events.on("contentChanged",Re)),a(!0),ae(!0)},showInsertPopup:function(){var j=e.$tb.find('.fr-command[data-cmd="insertVideo"]'),fe=e.popups.get("video.insert");if(fe||(fe=a()),S(),!fe.hasClass("fr-active"))if(e.popups.refresh("video.insert"),e.popups.setContainer("video.insert",e.$tb),j.is(":visible")){var M=j.offset().left+j.outerWidth()/2,U=j.offset().top+(e.opts.toolbarBottom?10:j.outerHeight()-10);e.popups.show("video.insert",M,U,j.outerHeight())}else e.position.forSelection(fe),e.popups.show("video.insert")},showLayer:function(j){var fe,M,U=e.popups.get("video.insert");if(!E&&!e.opts.toolbarInline){var K=e.$tb.find('.fr-command[data-cmd="insertVideo"]');fe=K.offset().left+K.outerWidth()/2,M=K.offset().top+(e.opts.toolbarBottom?10:K.outerHeight()-10)}e.opts.toolbarInline&&(M=U.offset().top-e.helpers.getPX(U.css("margin-top")),U.hasClass("fr-above")&&(M+=U.outerHeight())),U.find(".fr-layer").removeClass("fr-active"),U.find(".fr-"+j+"-layer").addClass("fr-active"),e.popups.show("video.insert",fe,M,0),e.accessibility.focusPopup(U)},refreshByURLButton:function(j){e.popups.get("video.insert").find(".fr-video-by-url-layer").hasClass("fr-active")&&j.addClass("fr-active").attr("aria-pressed",!0)},refreshEmbedButton:function(j){e.popups.get("video.insert").find(".fr-video-embed-layer").hasClass("fr-active")&&j.addClass("fr-active").attr("aria-pressed",!0)},refreshUploadButton:function(j){e.popups.get("video.insert").find(".fr-video-upload-layer").hasClass("fr-active")&&j.addClass("fr-active").attr("aria-pressed",!0)},upload:ce,insertByURL:function(j){void 0===j&&(j=(e.popups.get("video.insert").find('.fr-video-by-url-layer input[type="text"]').val()||"").trim());var fe=null;if(/^http/.test(j)||(j="https://"+j),e.helpers.isURL(j))for(var M=0;M<t.FE.VIDEO_PROVIDERS.length;M++){var U=t.FE.VIDEO_PROVIDERS[M];if(U.test_regex.test(j)&&new RegExp(e.opts.videoAllowedProviders.join("|")).test(U.provider)){fe=j.replace(U.url_regex,U.url_text),fe=U.html.replace(/\{url\}/,fe);break}}fe?s(fe):e.events.trigger("video.linkError",[j])},insertEmbed:function(j){void 0===j&&(j=e.popups.get("video.insert").find(".fr-video-embed-layer textarea").val()||""),0!==j.length&&t.FE.VIDEO_EMBED_REGEX.test(j)?s(j):e.events.trigger("video.codeError",[j])},insert:s,align:function(j){E.removeClass("fr-fvr fr-fvl"),!e.opts.htmlUntouched&&e.opts.useClasses?"left"==j?E.addClass("fr-fvl"):"right"==j&&E.addClass("fr-fvr"):lt(E,ze(),j),Ve(),qe(),l(),e.selection.clear()},refreshAlign:function(j){if(!E)return!1;j.find("> *:first").replaceWith(e.icon.create("video-align-"+Se()))},refreshAlignOnShow:function(j,fe){E&&fe.find('.fr-command[data-param1="'+Se()+'"]').addClass("fr-active").attr("aria-selected",!0)},display:function(j){E.removeClass("fr-dvi fr-dvb"),!e.opts.htmlUntouched&&e.opts.useClasses?"inline"==j?E.addClass("fr-dvi"):"block"==j&&E.addClass("fr-dvb"):lt(E,j,Se()),Ve(),qe(),l(),e.selection.clear()},refreshDisplayOnShow:function(j,fe){E&&fe.find('.fr-command[data-param1="'+ze()+'"]').addClass("fr-active").attr("aria-selected",!0)},remove:Ze,hideProgressBar:S,showSizePopup:function(){var j=e.popups.get("video.size");j||(j=ae()),S(),e.popups.refresh("video.size"),e.popups.setContainer("video.size",e.$sc);var fe=E.find("iframe, embed, video"),M=fe.offset().left+fe.width()/2,U=fe.offset().top+fe.height();e.popups.show("video.size",M,U,fe.height())},replace:function(){var j=e.popups.get("video.insert");j||(j=a()),e.popups.isVisible("video.insert")||(S(),e.popups.refresh("video.insert"),e.popups.setContainer("video.insert",e.$sc));var fe=E.offset().left+E.width()/2,M=E.offset().top+E.height();e.popups.show("video.insert",fe,M,E.outerHeight())},back:function(){E?(e.events.disableBlur(),E.trigger("click")):(e.events.disableBlur(),e.selection.restore(),e.events.enableBlur(),e.popups.hide("video.insert"),e.toolbar.showInline())},setSize:function(j,fe){if(E){var M=e.popups.get("video.size"),U=E.find("iframe, embed, video");U.css("width",j||M.find('input[name="width"]').val()),U.css("height",fe||M.find('input[name="height"]').val()),U.get(0).style.width&&U.removeAttr("width"),U.get(0).style.height&&U.removeAttr("height"),M.find("input:focus").blur(),setTimeout(function(){E.trigger("click")},e.helpers.isAndroid()?50:0)}},get:function(){return E}}},t.FE.RegisterCommand("insertVideo",{title:"Insert Video",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("video.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("video.insert")):this.video.showInsertPopup()},plugin:"video"}),t.FE.DefineIcon("insertVideo",{NAME:"video-camera",FA5NAME:"camera"}),t.FE.DefineIcon("videoByURL",{NAME:"link"}),t.FE.RegisterCommand("videoByURL",{title:"By URL",undo:!1,focus:!1,toggle:!0,callback:function(){this.video.showLayer("video-by-url")},refresh:function(e){this.video.refreshByURLButton(e)}}),t.FE.DefineIcon("videoEmbed",{NAME:"code"}),t.FE.RegisterCommand("videoEmbed",{title:"Embedded Code",undo:!1,focus:!1,toggle:!0,callback:function(){this.video.showLayer("video-embed")},refresh:function(e){this.video.refreshEmbedButton(e)}}),t.FE.DefineIcon("videoUpload",{NAME:"upload"}),t.FE.RegisterCommand("videoUpload",{title:"Upload Video",undo:!1,focus:!1,toggle:!0,callback:function(){this.video.showLayer("video-upload")},refresh:function(e){this.video.refreshUploadButton(e)}}),t.FE.RegisterCommand("videoInsertByURL",{undo:!0,focus:!0,callback:function(){this.video.insertByURL()}}),t.FE.RegisterCommand("videoInsertEmbed",{undo:!0,focus:!0,callback:function(){this.video.insertEmbed()}}),t.FE.DefineIcon("videoDisplay",{NAME:"star"}),t.FE.RegisterCommand("videoDisplay",{title:"Display",type:"dropdown",options:{inline:"Inline",block:"Break Text"},callback:function(e,o){this.video.display(o)},refresh:function(e){this.opts.videoTextNear||e.addClass("fr-hidden")},refreshOnShow:function(e,o){this.video.refreshDisplayOnShow(e,o)}}),t.FE.DefineIcon("video-align",{NAME:"align-left"}),t.FE.DefineIcon("video-align-left",{NAME:"align-left"}),t.FE.DefineIcon("video-align-right",{NAME:"align-right"}),t.FE.DefineIcon("video-align-center",{NAME:"align-justify"}),t.FE.DefineIcon("videoAlign",{NAME:"align-center"}),t.FE.RegisterCommand("videoAlign",{type:"dropdown",title:"Align",options:{left:"Align Left",center:"None",right:"Align Right"},html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',o=t.FE.COMMANDS.videoAlign.options;for(var i in o)o.hasOwnProperty(i)&&(e+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="videoAlign" data-param1="'+i+'" title="'+this.language.translate(o[i])+'">'+this.icon.create("video-align-"+i)+'<span class="fr-sr-only">'+this.language.translate(o[i])+"</span></a></li>");return e+"</ul>"},callback:function(e,o){this.video.align(o)},refresh:function(e){this.video.refreshAlign(e)},refreshOnShow:function(e,o){this.video.refreshAlignOnShow(e,o)}}),t.FE.DefineIcon("videoReplace",{NAME:"exchange",FA5NAME:"exchange-alt"}),t.FE.RegisterCommand("videoReplace",{title:"Replace",undo:!1,focus:!1,popup:!0,refreshAfterCallback:!1,callback:function(){this.video.replace()}}),t.FE.DefineIcon("videoRemove",{NAME:"trash"}),t.FE.RegisterCommand("videoRemove",{title:"Remove",callback:function(){this.video.remove()}}),t.FE.DefineIcon("videoSize",{NAME:"arrows-alt"}),t.FE.RegisterCommand("videoSize",{undo:!1,focus:!1,popup:!0,title:"Change Size",callback:function(){this.video.showSizePopup()}}),t.FE.DefineIcon("videoBack",{NAME:"arrow-left"}),t.FE.RegisterCommand("videoBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.video.back()},refresh:function(e){this.video.get()||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),t.FE.RegisterCommand("videoDismissError",{title:"OK",undo:!1,callback:function(){this.video.hideProgressBar(!0)}}),t.FE.RegisterCommand("videoSetSize",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.video.setSize()}}),t.extend(t.FE.DEFAULTS,{wordDeniedTags:[],wordDeniedAttrs:[],wordAllowedStyleProps:["font-family","font-size","background","color","width","text-align","vertical-align","background-color","padding","margin","height","margin-top","margin-left","margin-right","margin-bottom","text-decoration","font-weight","font-style","text-indent"],wordPasteModal:!0,wordPasteKeepFormatting:!0}),t.FE.PLUGINS.wordPaste=function(e){var o,i,y="word_paste";function E(u){var m=e.opts.wordAllowedStyleProps;u||(e.opts.wordAllowedStyleProps=[]),0===i.indexOf("<colgroup>")&&(i="<table>"+i+"</table>"),i=function(S,x){0<=S.indexOf("<html")&&(S=S.replace(/[.\s\S\w\W<>]*(<html[^>]*>[.\s\S\w\W<>]*<\/html>)[.\s\S\w\W<>]*/i,"$1")),function(ye){for(var pe=ye.split("v:shape"),Re=1;Re<pe.length;Re++){var qe=pe[Re],Oe=qe.split(' id="')[1];if(Oe&&1<Oe.length){Oe=Oe.split('"')[0];var de=qe.split(' o:spid="')[1];de&&1<de.length&&(de=de.split('"')[0],s[Oe]=de)}}}(S);var q=(new DOMParser).parseFromString(S,"text/html"),D=q.body,G=function(ye){var pe={},Re=ye.getElementsByTagName("style");if(Re.length){var Oe=Re[0].innerHTML.match(/[\S ]+\s+{[\s\S]+?}/gi);if(Oe)for(var de=0;de<Oe.length;de++){var $e=Oe[de],le=$e.replace(/([\S ]+\s+){[\s\S]+?}/gi,"$1"),He=$e.replace(/[\S ]+\s+{([\s\S]+?)}/gi,"$1");le=le.replace(/^[\s]|[\s]$/gm,""),He=He.replace(/^[\s]|[\s]$/gm,""),le=le.replace(/\n|\r|\n\r/g,""),He=He.replace(/\n|\r|\n\r/g,"");for(var ce=le.split(", "),Be=0;Be<ce.length;Be++)pe[ce[Be]]=He}}return pe}(q.head);p(D,function(ye){if(ye.nodeType==Node.TEXT_NODE&&/\n|\u00a0|\r/.test(ye.data)){if(!/\S| /.test(ye.data))return ye.data==t.FE.UNICODE_NBSP?(ye.data="\u200b",!0):1==ye.data.length&&10==ye.data.charCodeAt(0)?(ye.data=" ",!0):(O(ye),!1);ye.data=ye.data.replace(/\n|\r/gi," ")}return!0}),p(D,function(ye){return ye.nodeType!=Node.ELEMENT_NODE||"V:IMAGEDATA"!=ye.tagName&&"IMG"!=ye.tagName||function(pe,Re){if(Re){var qe;if("IMG"==pe.tagName){var Oe=pe.getAttribute("src");if(!Oe||-1==Oe.indexOf("file://"))return;if(0===Oe.indexOf("file://")&&e.helpers.isURL(pe.getAttribute("alt")))return pe.setAttribute("src",pe.getAttribute("alt"));(qe=s[pe.getAttribute("v:shapes")])||(qe=pe.getAttribute("v:shapes"))}else qe=pe.parentNode.getAttribute("o:spid");if(pe.removeAttribute("height"),qe){c={},l(de=Re,"i","\\shppict"),l(de,"s","\\shp{");var de,$e=c[qe.substring(7)];if($e){var le=function(ce){for(var Be=ce.match(/[0-9a-f]{2}/gi),je=[],ae=0;ae<Be.length;ae++)je.push(String.fromCharCode(parseInt(Be[ae],16)));var Se=je.join("");return btoa(Se)}($e.image_hex),He="data:"+$e.image_type+";base64,"+le;"IMG"===pe.tagName?(pe.src=He,pe.setAttribute("data-fr-image-pasted",!0)):t(pe.parentNode).before('<img data-fr-image-pasted="true" src="'+He+'" style="'+pe.parentNode.getAttribute("style")+'">').remove()}}}}(ye,x),!0});for(var k=D.querySelectorAll("ul > ul, ul > ol, ol > ul, ol > ol"),te=k.length-1;0<=te;te--)k[te].previousElementSibling&&"LI"===k[te].previousElementSibling.tagName&&k[te].previousElementSibling.appendChild(k[te]);p(D,function(ye){if(ye.nodeType==Node.TEXT_NODE)return ye.data=ye.data.replace(/<br>(\n|\r)/gi,"<br>"),!1;if(ye.nodeType==Node.ELEMENT_NODE){if(L(ye)){var Oe,pe=ye.parentNode,Re=ye.previousSibling,qe=function de($e,le){var He=/[0-9a-zA-Z]./gi,ce=!1;$e.firstElementChild&&$e.firstElementChild.firstElementChild&&$e.firstElementChild.firstElementChild.firstChild&&!(ce=ce||He.test($e.firstElementChild.firstElementChild.firstChild.data||""))&&$e.firstElementChild.firstElementChild.firstElementChild&&$e.firstElementChild.firstElementChild.firstElementChild.firstChild&&(ce=ce||He.test($e.firstElementChild.firstElementChild.firstElementChild.firstChild.data||""));var Be=ce?"ol":"ul",je=w($e),ae="<"+Be+"><li>"+f($e,le),Se=$e.nextElementSibling,ze=$e.parentNode;for(O($e),$e=null;Se&&L(Se);){var Ze=Se.previousElementSibling,Ye=w(Se);if(je<Ye)ae+=de(Se,le).outerHTML;else{if(Ye<je)break;ae+="</li><li>"+f(Se,le)}if(je=Ye,Se.previousElementSibling||Se.nextElementSibling||Se.parentNode){var lt=Se;Se=Se.nextElementSibling,O(lt),lt=null}else Se=Ze?Ze.nextElementSibling:ze.firstElementChild}ae+="</li></"+Be+">";var Ne=document.createElement("div");return Ne.innerHTML=ae,Ne.firstElementChild}(ye,G);return(Oe=Re?Re.nextSibling:pe.firstChild)?pe.insertBefore(qe,Oe):pe.appendChild(qe),!1}return a(ye,G)}return ye.nodeType!=Node.COMMENT_NODE||(O(ye),!1)}),p(D,function(ye){if(ye.nodeType==Node.ELEMENT_NODE){if(!ye.innerHTML&&-1==["BR","IMG"].indexOf(ye.tagName)){for(var Re=ye.parentNode;Re&&(O(ye),!(ye=Re).innerHTML);)Re=ye.parentNode;return!1}!function(qe){var Oe=qe.getAttribute("style");if(Oe){(Oe=_(Oe))&&";"!=Oe.slice(-1)&&(Oe+=";");var de=Oe.match(/(^|\S+?):.+?;{1,1}/gi);if(de){for(var $e={},le=0;le<de.length;le++){var ce=de[le].split(":");2==ce.length&&("text-align"==ce[0]&&"SPAN"==qe.tagName||($e[ce[0]]=ce[1]))}var Be="";for(var je in $e)if($e.hasOwnProperty(je)){if("font-size"==je&&"pt;"==$e[je].slice(-3)){var ae=null;try{ae=parseFloat($e[je].slice(0,-3),10)}catch{}ae&&(ae=Math.round(1.33*ae),$e[je]=ae+"px;")}Be+=je+":"+$e[je]}Be&&qe.setAttribute("style",Be)}}}(ye)}return!0});var J=D.outerHTML,Ee=e.opts.htmlAllowedStyleProps;return e.opts.htmlAllowedStyleProps=e.opts.wordAllowedStyleProps,J=e.clean.html(J,e.opts.wordDeniedTags,e.opts.wordDeniedAttrs,!1),e.opts.htmlAllowedStyleProps=Ee,J}(i=i.replace(/<span[\n\r ]*style='mso-spacerun:yes'>([\r\n\u00a0 ]*)<\/span>/g,function(S,x){for(var q="",v=0;v++<x.length;)q+="&nbsp;";return q}),e.paste.getRtfClipboard());var n=e.doc.createElement("DIV");n.innerHTML=i,e.html.cleanBlankSpaces(n),i=(i=e.paste.cleanEmptyTagsAndDivs(i=n.innerHTML)).replace(/\u200b/g,""),e.modals.hide(y),e.paste.clean(i,!0,!0),e.opts.wordAllowedStyleProps=m}function O(u){u.parentNode&&u.parentNode.removeChild(u)}function p(u,m){if(m(u))for(var n=u.firstChild;n;){var S=n,x=n.previousSibling;n=n.nextSibling,p(S,m),S.previousSibling||S.nextSibling||S.parentNode||!n||x==n.previousSibling||!n.parentNode?S.previousSibling||S.nextSibling||S.parentNode||!n||n.previousSibling||n.nextSibling||n.parentNode||(x?n=x.nextSibling?x.nextSibling.nextSibling:null:u.firstChild&&(n=u.firstChild.nextSibling)):n=x?x.nextSibling:u.firstChild}}function L(u){if(!u.getAttribute("style")||!/mso-list:[\s]*l/gi.test(u.getAttribute("style").replace(/\n/gi,"")))return!1;try{if(!u.querySelector('[style="mso-list:Ignore"]'))return!1}catch{return!1}return!0}function w(u){return u.getAttribute("style").replace(/\n/gi,"").replace(/.*level([0-9]+?).*/gi,"$1")}function f(u,m){var n=u.cloneNode(!0);if(-1!=["H1","H2","H3","H4","H5","H6"].indexOf(u.tagName)){var S=document.createElement(u.tagName.toLowerCase());S.setAttribute("style",u.getAttribute("style")),S.innerHTML=n.innerHTML,n.innerHTML=S.outerHTML}return p(n,function(q){return q.nodeType==Node.ELEMENT_NODE&&("mso-list:Ignore"==q.getAttribute("style")&&q.parentNode.removeChild(q),a(q,m)),!0}),n.innerHTML.replace(/<!--[\s\S]*?-->/gi,"")}function R(u,m){for(var n=document.createElement(m),S=0;S<u.attributes.length;S++){var x=u.attributes[S].name;n.setAttribute(x,u.getAttribute(x))}return n.innerHTML=u.innerHTML,u.parentNode.replaceChild(n,u),n}function T(u){var m=u.getAttribute("align");m&&(u.style["text-align"]=m,u.removeAttribute("align"))}function _(u){return u.replace(/\n|\r|\n\r|&quot;/g,"")}function A(u,m,n){if(m){var S=u.getAttribute("style");S&&";"!=S.slice(-1)&&(S+=";"),m&&";"!=m.slice(-1)&&(m+=";"),m=m.replace(/\n/gi,""),u.setAttribute("style",n?(S||"")+m:m+(S||""))}}var c=null;function l(u,m,n){for(var S=u.split(n),x=1;x<S.length;x++){var q=S[x];if(1<(q=q.split("shplid")).length){q=q[1];for(var v="",D=0;D<q.length&&"\\"!=q[D]&&"{"!=q[D]&&" "!=q[D]&&"\r"!=q[D]&&"\n"!=q[D];)v+=q[D],D++;var G=q.split("bliptag");if(G&&G.length<2)continue;var k=null;if(-1!=G[0].indexOf("pngblip")?k="image/png":-1!=G[0].indexOf("jpegblip")&&(k="image/jpeg"),!k)continue;var te,J=G[1].split("}");if(J&&J.length<2)continue;if(2<J.length&&-1!=J[0].indexOf("blipuid"))te=J[1].split(" ");else{if((te=J[0].split(" "))&&te.length<2)continue;te.shift()}var Ee=te.join("");c[m+v]={image_hex:Ee,image_type:k}}}}function a(u,m){var n=u.tagName,S=n.toLowerCase();if(u.firstElementChild&&("I"==u.firstElementChild.tagName?R(u.firstElementChild,"em"):"B"==u.firstElementChild.tagName&&R(u.firstElementChild,"strong")),-1!=["SCRIPT","APPLET","EMBED","NOFRAMES","NOSCRIPT"].indexOf(n))return O(u),!1;var x=-1,q=["META","LINK","XML","ST1:","O:","W:","FONT"];for(x=0;x<q.length;x++)if(-1!=n.indexOf(q[x]))return u.innerHTML&&(u.outerHTML=u.innerHTML),O(u),!1;if("TD"!=n){var v=u.getAttribute("class");if(m&&v){var D=(v=_(v)).split(" ");for(x=0;x<D.length;x++){var G=[],k="."+D[x];G.push(k),G.push(k=S+k);for(var te=0;te<G.length;te++)m[G[te]]&&A(u,m[G[te]])}u.removeAttribute("class")}m&&m[S]&&A(u,m[S])}if(-1!=["P","H1","H2","H3","H4","H5","H6","PRE"].indexOf(n)){var J=u.getAttribute("class");if(J&&(m&&m[n.toLowerCase()+"."+J]&&A(u,m[n.toLowerCase()+"."+J]),-1!=J.toLowerCase().indexOf("mso"))){var Ee=_(J);(Ee=Ee.replace(/[0-9a-z-_]*mso[0-9a-z-_]*/gi,""))?u.setAttribute("class",Ee):u.removeAttribute("class")}var ye=u.getAttribute("style");if(ye){var pe=ye.match(/text-align:.+?[; "]{1,1}/gi);pe&&pe[pe.length-1].replace(/(text-align:.+?[; "]{1,1})/gi,"$1")}T(u)}if("TR"==n&&function(qe,Oe){e.node.clearAttributes(qe);for(var de=qe.firstElementChild,$e=0,le=!1,He=null;de;){de.firstElementChild&&-1!=de.firstElementChild.tagName.indexOf("W:")&&(de.innerHTML=de.firstElementChild.innerHTML),(He=de.getAttribute("width"))||le||(le=!0),$e+=parseInt(He,10),(!de.firstChild||de.firstChild&&de.firstChild.data==t.FE.UNICODE_NBSP)&&(de.firstChild&&O(de.firstChild),de.innerHTML="<br>");for(var ce=de.firstElementChild,Be=1==de.children.length;ce;)"P"!=ce.tagName||L(ce)||Be&&T(ce),ce=ce.nextElementSibling;if(Oe){var je=de.getAttribute("class");if(je){var ae=(je=_(je)).match(/xl[0-9]+/gi);if(ae){var Se="."+ae[0];Oe[Se]&&A(de,Oe[Se])}}Oe.td&&A(de,Oe.td)}var ze=de.getAttribute("style");ze&&(ze=_(ze))&&";"!=ze.slice(-1)&&(ze+=";");var Ze=de.getAttribute("valign");if(!Ze&&ze){var Ye=ze.match(/vertical-align:.+?[; "]{1,1}/gi);Ye&&(Ze=Ye[Ye.length-1].replace(/vertical-align:(.+?)[; "]{1,1}/gi,"$1"))}var lt=null;if(ze){var Ne=ze.match(/text-align:.+?[; "]{1,1}/gi);Ne&&(lt=Ne[Ne.length-1].replace(/text-align:(.+?)[; "]{1,1}/gi,"$1")),"general"==lt&&(lt=null)}var Ve=null;if(ze){var j=ze.match(/background:.+?[; "]{1,1}/gi);j&&(Ve=j[j.length-1].replace(/background:(.+?)[; "]{1,1}/gi,"$1"))}var fe=de.getAttribute("colspan"),M=de.getAttribute("rowspan");fe&&de.setAttribute("colspan",fe),M&&de.setAttribute("rowspan",M),Ze&&(de.style["vertical-align"]=Ze),lt&&(de.style["text-align"]=lt),Ve&&(de.style["background-color"]=Ve),He&&de.setAttribute("width",He),de=de.nextElementSibling}for(de=qe.firstElementChild;de;)He=de.getAttribute("width"),le?de.removeAttribute("width"):de.setAttribute("width",100*parseInt(He,10)/$e+"%"),de=de.nextElementSibling}(u,m),"A"!=n||u.attributes.getNamedItem("href")||u.attributes.getNamedItem("name")||!u.innerHTML||(u.outerHTML=u.innerHTML),"TD"!=n&&"TH"!=n||u.innerHTML||(u.innerHTML="<br>"),"TABLE"==n&&(u.style.width="100%"),u.getAttribute("lang")&&u.removeAttribute("lang"),u.getAttribute("style")&&-1!=u.getAttribute("style").toLowerCase().indexOf("mso")){var Re=_(u.getAttribute("style"));(Re=Re.replace(/[0-9a-z-_]*mso[0-9a-z-_]*:.+?(;{1,1}|$)/gi,""))?u.setAttribute("style",Re):u.removeAttribute("style")}return!0}var s={};return{_init:function(){e.events.on("paste.wordPaste",function(u){return i=u,e.opts.wordPasteModal?function(){if(!o){var m='<h4><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 74.95 73.23" style="height: 25px; vertical-align: text-bottom; margin-right: 5px; display: inline-block"><defs><style>.a{fill:#2a5699;}.b{fill:#fff;}</style></defs><path class="a" d="M615.15,827.22h5.09V834c9.11.05,18.21-.09,27.32.05a2.93,2.93,0,0,1,3.29,3.25c.14,16.77,0,33.56.09,50.33-.09,1.72.17,3.63-.83,5.15-1.24.89-2.85.78-4.3.84-8.52,0-17,0-25.56,0v6.81h-5.32c-13-2.37-26-4.54-38.94-6.81q0-29.8,0-59.59c13.05-2.28,26.11-4.5,39.17-6.83Z" transform="translate(-575.97 -827.22)"/><path class="b" d="M620.24,836.59h28.1v54.49h-28.1v-6.81h22.14v-3.41H620.24v-4.26h22.14V873.2H620.24v-4.26h22.14v-3.41H620.24v-4.26h22.14v-3.41H620.24v-4.26h22.14v-3.41H620.24V846h22.14v-3.41H620.24Zm-26.67,15c1.62-.09,3.24-.16,4.85-.25,1.13,5.75,2.29,11.49,3.52,17.21,1-5.91,2-11.8,3.06-17.7,1.7-.06,3.41-.15,5.1-.26-1.92,8.25-3.61,16.57-5.71,24.77-1.42.74-3.55,0-5.24.09-1.13-5.64-2.45-11.24-3.47-16.9-1,5.5-2.29,10.95-3.43,16.42q-2.45-.13-4.92-.3c-1.41-7.49-3.07-14.93-4.39-22.44l4.38-.18c.88,5.42,1.87,10.82,2.64,16.25,1.2-5.57,2.43-11.14,3.62-16.71Z" transform="translate(-575.97 -827.22)"/></svg> '+e.language.translate("Word Paste Detected")+"</h4>",n=(q='<div class="fr-word-paste-modal" style="padding: 20px 20px 10px 20px;">',q+='<p style="text-align: left;">'+e.language.translate("The pasted content is coming from a Microsoft Word document. Do you want to keep the format or clean it up?")+"</p>",q+='<div style="text-align: right; margin-top: 50px;"><button class="fr-remove-word fr-command">'+e.language.translate("Clean")+'</button> <button class="fr-keep-word fr-command">'+e.language.translate("Keep")+"</button></div>",q+="</div>"),S=e.modals.create(y,m,n),x=S.$body;o=S.$modal,S.$modal.addClass("fr-middle"),e.events.bindClick(x,"button.fr-remove-word",function(){(o.data("instance")||e).wordPaste.clean()}),e.events.bindClick(x,"button.fr-keep-word",function(){(o.data("instance")||e).wordPaste.clean(!0)}),e.events.$on(t(e.o_win),"resize",function(){e.modals.resize(y)})}var q;e.modals.show(y),e.modals.resize(y)}():E(e.opts.wordPasteKeepFormatting),!1})},clean:E}}}),function(t,dt){"object"==typeof exports&&typeof module<"u"?dt(exports):"function"==typeof define&&define.amd?define(["exports"],dt):dt((t=typeof globalThis<"u"?globalThis:t||self).Popper={})}(this,function(t){"use strict";function dt(h){if(null==h)return window;if("[object Window]"!==h.toString()){var I=h.ownerDocument;return I&&I.defaultView||window}return h}function e(h){return h instanceof dt(h).Element||h instanceof Element}function o(h){return h instanceof dt(h).HTMLElement||h instanceof HTMLElement}function i(h){return typeof ShadowRoot<"u"&&(h instanceof dt(h).ShadowRoot||h instanceof ShadowRoot)}var y=Math.max,E=Math.min,O=Math.round;function p(){var h=navigator.userAgentData;return null!=h&&h.brands&&Array.isArray(h.brands)?h.brands.map(function(I){return I.brand+"/"+I.version}).join(" "):navigator.userAgent}function L(){return!/^((?!chrome|android).)*safari/i.test(p())}function w(h,I,H){void 0===I&&(I=!1),void 0===H&&(H=!1);var Q=h.getBoundingClientRect(),ve=1,se=1;I&&o(h)&&(ve=h.offsetWidth>0&&O(Q.width)/h.offsetWidth||1,se=h.offsetHeight>0&&O(Q.height)/h.offsetHeight||1);var Ae=(e(h)?dt(h):window).visualViewport,we=!L()&&H,Me=(Q.left+(we&&Ae?Ae.offsetLeft:0))/ve,Ge=(Q.top+(we&&Ae?Ae.offsetTop:0))/se,tt=Q.width/ve,Xe=Q.height/se;return{width:tt,height:Xe,top:Ge,right:Me+tt,bottom:Ge+Xe,left:Me,x:Me,y:Ge}}function f(h){var I=dt(h);return{scrollLeft:I.pageXOffset,scrollTop:I.pageYOffset}}function R(h){return h?(h.nodeName||"").toLowerCase():null}function T(h){return((e(h)?h.ownerDocument:h.document)||window.document).documentElement}function _(h){return w(T(h)).left+f(h).scrollLeft}function A(h){return dt(h).getComputedStyle(h)}function c(h){var I=A(h);return/auto|scroll|overlay|hidden/.test(I.overflow+I.overflowY+I.overflowX)}function l(h,I,H){void 0===H&&(H=!1);var Q,ve,Xe,gt,ct,pt,se=o(I),Ae=o(I)&&(gt=(Xe=I).getBoundingClientRect(),ct=O(gt.width)/Xe.offsetWidth||1,pt=O(gt.height)/Xe.offsetHeight||1,1!==ct||1!==pt),we=T(I),Me=w(h,Ae,H),Ge={scrollLeft:0,scrollTop:0},tt={x:0,y:0};return(se||!se&&!H)&&(("body"!==R(I)||c(we))&&(Ge=(Q=I)!==dt(Q)&&o(Q)?{scrollLeft:(ve=Q).scrollLeft,scrollTop:ve.scrollTop}:f(Q)),o(I)?((tt=w(I,!0)).x+=I.clientLeft,tt.y+=I.clientTop):we&&(tt.x=_(we))),{x:Me.left+Ge.scrollLeft-tt.x,y:Me.top+Ge.scrollTop-tt.y,width:Me.width,height:Me.height}}function a(h){var I=w(h),H=h.offsetWidth,Q=h.offsetHeight;return Math.abs(I.width-H)<=1&&(H=I.width),Math.abs(I.height-Q)<=1&&(Q=I.height),{x:h.offsetLeft,y:h.offsetTop,width:H,height:Q}}function s(h){return"html"===R(h)?h:h.assignedSlot||h.parentNode||(i(h)?h.host:null)||T(h)}function u(h){return["html","body","#document"].indexOf(R(h))>=0?h.ownerDocument.body:o(h)&&c(h)?h:u(s(h))}function m(h,I){var H;void 0===I&&(I=[]);var Q=u(h),ve=Q===(null==(H=h.ownerDocument)?void 0:H.body),se=dt(Q),Ae=ve?[se].concat(se.visualViewport||[],c(Q)?Q:[]):Q,we=I.concat(Ae);return ve?we:we.concat(m(s(Ae)))}function n(h){return["table","td","th"].indexOf(R(h))>=0}function S(h){return o(h)&&"fixed"!==A(h).position?h.offsetParent:null}function x(h){for(var I=dt(h),H=S(h);H&&n(H)&&"static"===A(H).position;)H=S(H);return H&&("html"===R(H)||"body"===R(H)&&"static"===A(H).position)?I:H||function(Q){var ve=/firefox/i.test(p());if(/Trident/i.test(p())&&o(Q)&&"fixed"===A(Q).position)return null;var se=s(Q);for(i(se)&&(se=se.host);o(se)&&["html","body"].indexOf(R(se))<0;){var Ae=A(se);if("none"!==Ae.transform||"none"!==Ae.perspective||"paint"===Ae.contain||-1!==["transform","perspective"].indexOf(Ae.willChange)||ve&&"filter"===Ae.willChange||ve&&Ae.filter&&"none"!==Ae.filter)return se;se=se.parentNode}return null}(h)||I}var q="top",v="bottom",D="right",G="left",k="auto",te=[q,v,D,G],J="start",Ee="end",ye="viewport",pe="popper",Re=te.reduce(function(h,I){return h.concat([I+"-"+J,I+"-"+Ee])},[]),qe=[].concat(te,[k]).reduce(function(h,I){return h.concat([I,I+"-"+J,I+"-"+Ee])},[]),Oe=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function de(h){var I=new Map,H=new Set,Q=[];function ve(se){H.add(se.name),[].concat(se.requires||[],se.requiresIfExists||[]).forEach(function(Ae){if(!H.has(Ae)){var we=I.get(Ae);we&&ve(we)}}),Q.push(se)}return h.forEach(function(se){I.set(se.name,se)}),h.forEach(function(se){H.has(se.name)||ve(se)}),Q}function $e(h,I){var H=I.getRootNode&&I.getRootNode();if(h.contains(I))return!0;if(H&&i(H)){var Q=I;do{if(Q&&h.isSameNode(Q))return!0;Q=Q.parentNode||Q.host}while(Q)}return!1}function le(h){return Object.assign({},h,{left:h.x,top:h.y,right:h.x+h.width,bottom:h.y+h.height})}function He(h,I,H){return I===ye?le(function(Q,ve){var se=dt(Q),Ae=T(Q),we=se.visualViewport,Me=Ae.clientWidth,Ge=Ae.clientHeight,tt=0,Xe=0;if(we){Me=we.width,Ge=we.height;var gt=L();(gt||!gt&&"fixed"===ve)&&(tt=we.offsetLeft,Xe=we.offsetTop)}return{width:Me,height:Ge,x:tt+_(Q),y:Xe}}(h,H)):e(I)?((se=w(Q=I,!1,"fixed"===H)).top=se.top+Q.clientTop,se.left=se.left+Q.clientLeft,se.bottom=se.top+Q.clientHeight,se.right=se.left+Q.clientWidth,se.width=Q.clientWidth,se.height=Q.clientHeight,se.x=se.left,se.y=se.top,se):le(function(Q){var ve,se=T(Q),Ae=f(Q),we=null==(ve=Q.ownerDocument)?void 0:ve.body,Me=y(se.scrollWidth,se.clientWidth,we?we.scrollWidth:0,we?we.clientWidth:0),Ge=y(se.scrollHeight,se.clientHeight,we?we.scrollHeight:0,we?we.clientHeight:0),tt=-Ae.scrollLeft+_(Q),Xe=-Ae.scrollTop;return"rtl"===A(we||se).direction&&(tt+=y(se.clientWidth,we?we.clientWidth:0)-Me),{width:Me,height:Ge,x:tt,y:Xe}}(T(h)));var Q,se}function Be(h){return h.split("-")[0]}function je(h){return h.split("-")[1]}function ae(h){return["top","bottom"].indexOf(h)>=0?"x":"y"}function Se(h){var I,H=h.reference,Q=h.element,ve=h.placement,se=ve?Be(ve):null,Ae=ve?je(ve):null,we=H.x+H.width/2-Q.width/2,Me=H.y+H.height/2-Q.height/2;switch(se){case q:I={x:we,y:H.y-Q.height};break;case v:I={x:we,y:H.y+H.height};break;case D:I={x:H.x+H.width,y:Me};break;case G:I={x:H.x-Q.width,y:Me};break;default:I={x:H.x,y:H.y}}var Ge=se?ae(se):null;if(null!=Ge){var tt="y"===Ge?"height":"width";switch(Ae){case J:I[Ge]=I[Ge]-(H[tt]/2-Q[tt]/2);break;case Ee:I[Ge]=I[Ge]+(H[tt]/2-Q[tt]/2)}}return I}function ze(h){return Object.assign({},{top:0,right:0,bottom:0,left:0},h)}function Ze(h,I){return I.reduce(function(H,Q){return H[Q]=h,H},{})}function Ye(h,I){void 0===I&&(I={});var Q=I.placement,ve=void 0===Q?h.placement:Q,se=I.strategy,Ae=void 0===se?h.strategy:se,we=I.boundary,Me=void 0===we?"clippingParents":we,Ge=I.rootBoundary,tt=void 0===Ge?ye:Ge,Xe=I.elementContext,gt=void 0===Xe?pe:Xe,ct=I.altBoundary,pt=void 0!==ct&&ct,At=I.padding,Et=void 0===At?0:At,Ft=ze("number"!=typeof Et?Et:Ze(Et,te)),wt=h.rects.popper,Lt=h.elements[pt?gt===pe?"reference":pe:gt],Tt=function ce(h,I,H,Q){var Me,Ge,tt,ve="clippingParents"===I?(Ge=m(s(Me=h)),e(tt=["absolute","fixed"].indexOf(A(Me).position)>=0&&o(Me)?x(Me):Me)?Ge.filter(function(Xe){return e(Xe)&&$e(Xe,tt)&&"body"!==R(Xe)}):[]):[].concat(I),se=[].concat(ve,[H]),we=se.reduce(function(Me,Ge){var tt=He(h,Ge,Q);return Me.top=y(tt.top,Me.top),Me.right=E(tt.right,Me.right),Me.bottom=E(tt.bottom,Me.bottom),Me.left=y(tt.left,Me.left),Me},He(h,se[0],Q));return we.width=we.right-we.left,we.height=we.bottom-we.top,we.x=we.left,we.y=we.top,we}(e(Lt)?Lt:Lt.contextElement||T(h.elements.popper),Me,tt,Ae),vt=w(h.elements.reference),Rt=Se({reference:vt,element:wt,strategy:"absolute",placement:ve}),It=le(Object.assign({},wt,Rt)),Dt=gt===pe?It:vt,Pt={top:Tt.top-Dt.top+Ft.top,bottom:Dt.bottom-Tt.bottom+Ft.bottom,left:Tt.left-Dt.left+Ft.left,right:Dt.right-Tt.right+Ft.right},qt=h.modifiersData.offset;if(gt===pe&&qt){var dn=qt[ve];Object.keys(Pt).forEach(function(Jt){var Vt=[D,v].indexOf(Jt)>=0?1:-1,tn=[q,v].indexOf(Jt)>=0?"y":"x";Pt[Jt]+=dn[tn]*Vt})}return Pt}var lt={placement:"bottom",modifiers:[],strategy:"absolute"};function Ne(){for(var h=arguments.length,I=new Array(h),H=0;H<h;H++)I[H]=arguments[H];return!I.some(function(Q){return!(Q&&"function"==typeof Q.getBoundingClientRect)})}function Ve(h){void 0===h&&(h={});var H=h.defaultModifiers,Q=void 0===H?[]:H,ve=h.defaultOptions,se=void 0===ve?lt:ve;return function(Ae,we,Me){void 0===Me&&(Me=se);var Ge,tt,Xe={placement:"bottom",orderedModifiers:[],options:Object.assign({},lt,se),modifiersData:{},elements:{reference:Ae,popper:we},attributes:{},styles:{}},gt=[],ct=!1,pt={state:Xe,setOptions:function(Et){var Ft="function"==typeof Et?Et(Xe.options):Et;At(),Xe.options=Object.assign({},se,Xe.options,Ft),Xe.scrollParents={reference:e(Ae)?m(Ae):Ae.contextElement?m(Ae.contextElement):[],popper:m(we)};var Bt,wt,Tt,vt,Lt=(Bt=[].concat(Q,Xe.options.modifiers),wt=Bt.reduce(function(Tt,vt){var Rt=Tt[vt.name];return Tt[vt.name]=Rt?Object.assign({},Rt,vt,{options:Object.assign({},Rt.options,vt.options),data:Object.assign({},Rt.data,vt.data)}):vt,Tt},{}),Tt=Object.keys(wt).map(function(Tt){return wt[Tt]}),vt=de(Tt),Oe.reduce(function(Rt,It){return Rt.concat(vt.filter(function(Dt){return Dt.phase===It}))},[]));return Xe.orderedModifiers=Lt.filter(function(Tt){return Tt.enabled}),Xe.orderedModifiers.forEach(function(Tt){var Rt=Tt.options,Dt=Tt.effect;if("function"==typeof Dt){var Pt=Dt({state:Xe,name:Tt.name,instance:pt,options:void 0===Rt?{}:Rt});gt.push(Pt||function(){})}}),pt.update()},forceUpdate:function(){if(!ct){var Et=Xe.elements,Ft=Et.reference,Bt=Et.popper;if(Ne(Ft,Bt)){Xe.rects={reference:l(Ft,x(Bt),"fixed"===Xe.options.strategy),popper:a(Bt)},Xe.reset=!1,Xe.placement=Xe.options.placement,Xe.orderedModifiers.forEach(function(Dt){return Xe.modifiersData[Dt.name]=Object.assign({},Dt.data)});for(var wt=0;wt<Xe.orderedModifiers.length;wt++)if(!0!==Xe.reset){var Lt=Xe.orderedModifiers[wt],Tt=Lt.fn,vt=Lt.options;"function"==typeof Tt&&(Xe=Tt({state:Xe,options:void 0===vt?{}:vt,name:Lt.name,instance:pt})||Xe)}else Xe.reset=!1,wt=-1}}},update:(Ge=function(){return new Promise(function(Et){pt.forceUpdate(),Et(Xe)})},function(){return tt||(tt=new Promise(function(Et){Promise.resolve().then(function(){tt=void 0,Et(Ge())})})),tt}),destroy:function(){At(),ct=!0}};if(!Ne(Ae,we))return pt;function At(){gt.forEach(function(Et){return Et()}),gt=[]}return pt.setOptions(Me).then(function(Et){!ct&&Me.onFirstUpdate&&Me.onFirstUpdate(Et)}),pt}}var j={passive:!0},fe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(h){var I=h.state,H=h.instance,Q=h.options,ve=Q.scroll,se=void 0===ve||ve,Ae=Q.resize,we=void 0===Ae||Ae,Me=dt(I.elements.popper),Ge=[].concat(I.scrollParents.reference,I.scrollParents.popper);return se&&Ge.forEach(function(tt){tt.addEventListener("scroll",H.update,j)}),we&&Me.addEventListener("resize",H.update,j),function(){se&&Ge.forEach(function(tt){tt.removeEventListener("scroll",H.update,j)}),we&&Me.removeEventListener("resize",H.update,j)}},data:{}},M={name:"popperOffsets",enabled:!0,phase:"read",fn:function(h){var I=h.state;I.modifiersData[h.name]=Se({reference:I.rects.reference,element:I.rects.popper,strategy:"absolute",placement:I.placement})},data:{}},U={top:"auto",right:"auto",bottom:"auto",left:"auto"};function K(h){var I,H=h.popper,Q=h.popperRect,ve=h.placement,se=h.variation,Ae=h.offsets,we=h.position,Me=h.gpuAcceleration,Ge=h.adaptive,tt=h.roundOffsets,Xe=h.isFixed,gt=Ae.x,ct=void 0===gt?0:gt,pt=Ae.y,At=void 0===pt?0:pt,Et="function"==typeof tt?tt({x:ct,y:At}):{x:ct,y:At};ct=Et.x,At=Et.y;var Ft=Ae.hasOwnProperty("x"),Bt=Ae.hasOwnProperty("y"),wt=G,Lt=q,Tt=window;if(Ge){var vt=x(H),Rt="clientHeight",It="clientWidth";vt===dt(H)&&"static"!==A(vt=T(H)).position&&"absolute"===we&&(Rt="scrollHeight",It="scrollWidth"),(ve===q||(ve===G||ve===D)&&se===Ee)&&(Lt=v,At-=(Xe&&vt===Tt&&Tt.visualViewport?Tt.visualViewport.height:vt[Rt])-Q.height,At*=Me?1:-1),(ve===G||(ve===q||ve===v)&&se===Ee)&&(wt=D,ct-=(Xe&&vt===Tt&&Tt.visualViewport?Tt.visualViewport.width:vt[It])-Q.width,ct*=Me?1:-1)}var Dt,dn,Jt,tn,Kt,Pt=Object.assign({position:we},Ge&&U),qt=!0===tt?(dn={x:ct,y:At},Jt=dt(H),tn=dn.y,{x:O(dn.x*(Kt=Jt.devicePixelRatio||1))/Kt||0,y:O(tn*Kt)/Kt||0}):{x:ct,y:At};return ct=qt.x,At=qt.y,Object.assign({},Pt,Me?((Dt={})[Lt]=Bt?"0":"",Dt[wt]=Ft?"0":"",Dt.transform=(Tt.devicePixelRatio||1)<=1?"translate("+ct+"px, "+At+"px)":"translate3d("+ct+"px, "+At+"px, 0)",Dt):((I={})[Lt]=Bt?At+"px":"",I[wt]=Ft?ct+"px":"",I.transform="",I))}var P={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(h){var I=h.state,H=h.options,Q=H.gpuAcceleration,ve=void 0===Q||Q,se=H.adaptive,Ae=void 0===se||se,we=H.roundOffsets,Me=void 0===we||we,Ge={placement:Be(I.placement),variation:je(I.placement),popper:I.elements.popper,popperRect:I.rects.popper,gpuAcceleration:ve,isFixed:"fixed"===I.options.strategy};null!=I.modifiersData.popperOffsets&&(I.styles.popper=Object.assign({},I.styles.popper,K(Object.assign({},Ge,{offsets:I.modifiersData.popperOffsets,position:I.options.strategy,adaptive:Ae,roundOffsets:Me})))),null!=I.modifiersData.arrow&&(I.styles.arrow=Object.assign({},I.styles.arrow,K(Object.assign({},Ge,{offsets:I.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Me})))),I.attributes.popper=Object.assign({},I.attributes.popper,{"data-popper-placement":I.placement})},data:{}},Y={name:"applyStyles",enabled:!0,phase:"write",fn:function(h){var I=h.state;Object.keys(I.elements).forEach(function(H){var Q=I.styles[H]||{},ve=I.attributes[H]||{},se=I.elements[H];o(se)&&R(se)&&(Object.assign(se.style,Q),Object.keys(ve).forEach(function(Ae){var we=ve[Ae];!1===we?se.removeAttribute(Ae):se.setAttribute(Ae,!0===we?"":we)}))})},effect:function(h){var I=h.state,H={popper:{position:I.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(I.elements.popper.style,H.popper),I.styles=H,I.elements.arrow&&Object.assign(I.elements.arrow.style,H.arrow),function(){Object.keys(I.elements).forEach(function(Q){var ve=I.elements[Q],se=I.attributes[Q]||{},Ae=Object.keys(I.styles.hasOwnProperty(Q)?I.styles[Q]:H[Q]).reduce(function(we,Me){return we[Me]="",we},{});o(ve)&&R(ve)&&(Object.assign(ve.style,Ae),Object.keys(se).forEach(function(we){ve.removeAttribute(we)}))})}},requires:["computeStyles"]},V={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(h){var I=h.state,Q=h.name,ve=h.options.offset,se=void 0===ve?[0,0]:ve,Ae=qe.reduce(function(tt,Xe){return tt[Xe]=(ct=I.rects,pt=se,At=Be(gt=Xe),Et=[G,q].indexOf(At)>=0?-1:1,Bt=(Bt=(Ft="function"==typeof pt?pt(Object.assign({},ct,{placement:gt})):pt)[0])||0,wt=((wt=Ft[1])||0)*Et,[G,D].indexOf(At)>=0?{x:wt,y:Bt}:{x:Bt,y:wt}),tt;var gt,ct,pt,At,Et,Ft,Bt,wt},{}),we=Ae[I.placement],Ge=we.y;null!=I.modifiersData.popperOffsets&&(I.modifiersData.popperOffsets.x+=we.x,I.modifiersData.popperOffsets.y+=Ge),I.modifiersData[Q]=Ae}},he={left:"right",right:"left",bottom:"top",top:"bottom"};function _e(h){return h.replace(/left|right|bottom|top/g,function(I){return he[I]})}var me={start:"end",end:"start"};function Le(h){return h.replace(/start|end/g,function(I){return me[I]})}var Je={name:"flip",enabled:!0,phase:"main",fn:function(h){var I=h.state,H=h.options,Q=h.name;if(!I.modifiersData[Q]._skip){for(var ve=H.mainAxis,se=void 0===ve||ve,Ae=H.altAxis,we=void 0===Ae||Ae,Me=H.fallbackPlacements,Ge=H.padding,tt=H.boundary,Xe=H.rootBoundary,gt=H.altBoundary,ct=H.flipVariations,pt=void 0===ct||ct,At=H.allowedAutoPlacements,Et=I.options.placement,Ft=Be(Et),Bt=Me||(Ft!==Et&&pt?function(cn){if(Be(cn)===k)return[];var Ht=_e(cn);return[Le(cn),Ht,Le(Ht)]}(Et):[_e(Et)]),wt=[Et].concat(Bt).reduce(function(cn,Ht){return cn.concat(Be(Ht)===k?function Qe(h,I){void 0===I&&(I={});var ve=I.boundary,se=I.rootBoundary,Ae=I.padding,we=I.flipVariations,Me=I.allowedAutoPlacements,Ge=void 0===Me?qe:Me,tt=je(I.placement),Xe=tt?we?Re:Re.filter(function(pt){return je(pt)===tt}):te,gt=Xe.filter(function(pt){return Ge.indexOf(pt)>=0});0===gt.length&&(gt=Xe);var ct=gt.reduce(function(pt,At){return pt[At]=Ye(h,{placement:At,boundary:ve,rootBoundary:se,padding:Ae})[Be(At)],pt},{});return Object.keys(ct).sort(function(pt,At){return ct[pt]-ct[At]})}(I,{placement:Ht,boundary:tt,rootBoundary:Xe,padding:Ge,flipVariations:pt,allowedAutoPlacements:At}):Ht)},[]),Lt=I.rects.reference,Tt=I.rects.popper,vt=new Map,Rt=!0,It=wt[0],Dt=0;Dt<wt.length;Dt++){var Pt=wt[Dt],qt=Be(Pt),dn=je(Pt)===J,Jt=[q,v].indexOf(qt)>=0,Vt=Jt?"width":"height",tn=Ye(I,{placement:Pt,boundary:tt,rootBoundary:Xe,altBoundary:gt,padding:Ge}),Kt=Jt?dn?D:G:dn?v:q;Lt[Vt]>Tt[Vt]&&(Kt=_e(Kt));var nn=_e(Kt),mn=[];if(se&&mn.push(tn[qt]<=0),we&&mn.push(tn[Kt]<=0,tn[nn]<=0),mn.every(function(cn){return cn})){It=Pt,Rt=!1;break}vt.set(Pt,mn)}if(Rt)for(var wn=function(cn){var Ht=wt.find(function(fn){var bn=vt.get(fn);if(bn)return bn.slice(0,cn).every(function(sn){return sn})});if(Ht)return It=Ht,"break"},vn=pt?3:1;vn>0&&"break"!==wn(vn);vn--);I.placement!==It&&(I.modifiersData[Q]._skip=!0,I.placement=It,I.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function et(h,I,H){return y(h,E(I,H))}var nt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(h){var Nt,Qt,I=h.state,H=h.options,Q=h.name,ve=H.mainAxis,se=void 0===ve||ve,Ae=H.altAxis,we=void 0!==Ae&&Ae,gt=H.tether,ct=void 0===gt||gt,pt=H.tetherOffset,At=void 0===pt?0:pt,Et=Ye(I,{boundary:H.boundary,rootBoundary:H.rootBoundary,padding:H.padding,altBoundary:H.altBoundary}),Ft=Be(I.placement),Bt=je(I.placement),wt=!Bt,Lt=ae(Ft),Tt="x"===Lt?"y":"x",vt=I.modifiersData.popperOffsets,Rt=I.rects.reference,It=I.rects.popper,Dt="function"==typeof At?At(Object.assign({},I.rects,{placement:I.placement})):At,Pt="number"==typeof Dt?{mainAxis:Dt,altAxis:Dt}:Object.assign({mainAxis:0,altAxis:0},Dt),qt=I.modifiersData.offset?I.modifiersData.offset[I.placement]:null,dn={x:0,y:0};if(vt){if(se){var Jt,Vt="y"===Lt?q:G,tn="y"===Lt?v:D,Kt="y"===Lt?"height":"width",nn=vt[Lt],mn=nn+Et[Vt],wn=nn-Et[tn],vn=ct?-It[Kt]/2:0,cn=Bt===J?Rt[Kt]:It[Kt],Ht=Bt===J?-It[Kt]:-Rt[Kt],fn=I.elements.arrow,bn=ct&&fn?a(fn):{width:0,height:0},sn=I.modifiersData["arrow#persistent"]?I.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Mn=sn[Vt],Wn=sn[tn],kn=et(0,Rt[Kt],bn[Kt]),$n=wt?Rt[Kt]/2-vn-kn-Mn-Pt.mainAxis:cn-kn-Mn-Pt.mainAxis,Rn=wt?-Rt[Kt]/2+vn+kn+Wn+Pt.mainAxis:Ht+kn+Wn+Pt.mainAxis,yn=I.elements.arrow&&x(I.elements.arrow),Gn=yn?"y"===Lt?yn.clientTop||0:yn.clientLeft||0:0,ln=null!=(Jt=qt?.[Lt])?Jt:0,xn=nn+Rn-ln,Cn=et(ct?E(mn,nn+$n-ln-Gn):mn,nn,ct?y(wn,xn):wn);vt[Lt]=Cn,dn[Lt]=Cn-nn}if(we){var Kn,Xt=vt[Tt],be="y"===Tt?"height":"width",ue=Xt+Et["x"===Lt?q:G],b=Xt-Et["x"===Lt?v:D],W=-1!==[q,G].indexOf(Ft),ee=null!=(Kn=qt?.[Tt])?Kn:0,Te=W?ue:Xt-Rt[be]-It[be]-ee+Pt.altAxis,De=W?Xt+Rt[be]+It[be]-ee-Pt.altAxis:b,it=ct&&W?(Qt=et(Te,Xt,Nt=De))>Nt?Nt:Qt:et(ct?Te:ue,Xt,ct?De:b);vt[Tt]=it,dn[Tt]=it-Xt}I.modifiersData[Q]=dn}},requiresIfExists:["offset"]},rt={name:"arrow",enabled:!0,phase:"main",fn:function(h){var I,It,Dt,H=h.state,Q=h.name,ve=h.options,se=H.elements.arrow,Ae=H.modifiersData.popperOffsets,we=Be(H.placement),Me=ae(we),Ge=[G,D].indexOf(we)>=0?"height":"width";if(se&&Ae){var tt=(Dt=H,ze("number"!=typeof(It="function"==typeof(It=ve.padding)?It(Object.assign({},Dt.rects,{placement:Dt.placement})):It)?It:Ze(It,te))),Xe=a(se),gt="y"===Me?q:G,ct="y"===Me?v:D,pt=H.rects.reference[Ge]+H.rects.reference[Me]-Ae[Me]-H.rects.popper[Ge],At=Ae[Me]-H.rects.reference[Me],Et=x(se),Ft=Et?"y"===Me?Et.clientHeight||0:Et.clientWidth||0:0,Tt=Ft/2-Xe[Ge]/2+(pt/2-At/2),vt=et(tt[gt],Tt,Ft-Xe[Ge]-tt[ct]);H.modifiersData[Q]=((I={})[Me]=vt,I.centerOffset=vt-Tt,I)}},effect:function(h){var I=h.state,H=h.options.element,Q=void 0===H?"[data-popper-arrow]":H;null!=Q&&("string"!=typeof Q||(Q=I.elements.popper.querySelector(Q)))&&$e(I.elements.popper,Q)&&(I.elements.arrow=Q)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $(h,I,H){return void 0===H&&(H={x:0,y:0}),{top:h.top-I.height-H.y,right:h.right-I.width+H.x,bottom:h.bottom-I.height+H.y,left:h.left-I.width-H.x}}function X(h){return[q,D,v,G].some(function(I){return h[I]>=0})}var ne={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(h){var I=h.state,H=h.name,Q=I.rects.reference,ve=I.rects.popper,se=I.modifiersData.preventOverflow,Ae=Ye(I,{elementContext:"reference"}),we=Ye(I,{altBoundary:!0}),Me=$(Ae,Q),Ge=$(we,ve,se),tt=X(Me),Xe=X(Ge);I.modifiersData[H]={referenceClippingOffsets:Me,popperEscapeOffsets:Ge,isReferenceHidden:tt,hasPopperEscaped:Xe},I.attributes.popper=Object.assign({},I.attributes.popper,{"data-popper-reference-hidden":tt,"data-popper-escaped":Xe})}},oe=Ve({defaultModifiers:[fe,M,P,Y]}),xe=[fe,M,P,Y,V,Je,nt,rt,ne],N=Ve({defaultModifiers:xe});t.applyStyles=Y,t.arrow=rt,t.computeStyles=P,t.createPopper=N,t.createPopperLite=oe,t.defaultModifiers=xe,t.detectOverflow=Ye,t.eventListeners=fe,t.flip=Je,t.hide=ne,t.offset=V,t.popperGenerator=Ve,t.popperOffsets=M,t.preventOverflow=nt,Object.defineProperty(t,"__esModule",{value:!0})});